/*!
 * jQuery JavaScript Library v1.11.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:19Z
 */
function URLify(t,e){return t=downcode(t),t=t.replace(/[^-\w\s]/g," "),t=t.replace(/^\s+|\s+$/g,""),t=t.replace(/[-\s]+/g,"-"),t=t.toLowerCase(),t.substring(0,e)}function addRestoreDefaultBehavior(){$("[data-behavior='restore-default']").each(function(){var t=$("[data-default-value]",$(this)),e=$($("[data-in-place-edit-target]",$(this)).data("in-place-edit-target"),$(this)),n=$("[data-restore-default]",$(this));t.on("blur",function(){$(this).val()==$(this).data("default-value")?n.addClass("hidden"):n.removeClass("hidden")}),n.on("click",function(i){i.preventDefault(),t.val(t.data("default-value")),e.text(t.data("default-value")),n.hide()})})}function addCheckboxToggleBehavior(){function t(t){return $("input[type='checkbox']",t).length==$("input[type='checkbox']:checked",t).length}function e(e,n){t(n)?e.text(e.data("deselect-text")):e.text(e.data("select-text"))}$("[data-behavior='metadata-select']").each(function(){var n=$(this),i=n.parents("th"),r=i.closest("table"),o=$("tr td:nth-child("+(i.index()+1)+")",r),s=$("input[type='checkbox']",o);e(n,o),n.on("click",function(i){i.preventDefault();var r=t(o);o.each(function(){$("input[type='checkbox']",$(this)).prop("checked",!r),e(n,o)})}),s.each(function(){$(this).on("change",function(){e(n,o)})})})}function addEnableToggleBehavior(){$("[data-behavior='enable-feature']").each(function(){var t=$(this),e=$($(this).data("target"));t.on("change",function(){$(this).is(":checked")?e.find("input:checkbox").not("[data-behavior='enable-feature']").prop("checked",!0).attr("disabled",!1):e.find("input:checkbox").not("[data-behavior='enable-feature']").prop("checked",!1).attr("disabled",!0)})})}function observedForms(){return $("[data-form-observer]")}function serializeObservedForms(t){t.each(function(){serializeFormStatus($(this)),unbindObservedFormSubmit()})}function unbindObservedFormSubmit(){observedForms().each(function(){$(this).on("submit",function(){$(this).data("being-submitted",!0)})})}function serializeFormStatus(t){t.data("serialized-form",formSerialization(t))}function formSerialization(t){var e=[],n=0;return $("[contenteditable='true']",t).each(function(){e.push("&contenteditable_"+n+"="+$(this).text())}),t.serialize()+e.join()}function serializedFormStatus(t){return t.data("serialized-form")}function observedFormsStatusHasChanged(){var t=!1;return observedForms().each(function(){$(this).data("being-submitted")||serializedFormStatus($(this))!=formSerialization($(this))&&(t=!0)}),t}function itemsBloodhound(){var t=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.title)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,remote:{url:$("form[data-autocomplete-exhibit-catalog-index-path]").data("autocomplete-exhibit-catalog-index-path").replace("%25QUERY","%QUERY"),filter:function(t){return $.map(t.docs,function(t){return t})}}});return t.initialize(),t}function itemsTemplate(){return'<div class="autocomplete-item{{#if private}} blacklight-private{{/if}}">{{#if thumbnail}}<div class="document-thumbnail thumbnail"><img src="{{thumbnail}}" /></div>{{/if}}<span class="autocomplete-title">{{title}}</span><br/><small>&nbsp;&nbsp;{{description}}</small></div>'}function addAutocompletetoMastheadUpload(){$("[data-masthead-typeahead]").length>0&&$("[data-masthead-typeahead]").spotlightSearchTypeAhead({bloodhound:itemsBloodhound(),template:itemsTemplate()}).on("click",function(){$(this).select()}).on("typeahead:selected typeahead:autocompleted",function(t,e){var n=$($(this).data("remoteUrlField")),i=$($(this).data("target-panel"));swapInputForPanel($(this),i,e),$($(this).data("id-field")).val(e.global_id),n.val(e.full_images[0]).trigger("change"),$(this).attr("type","text"),$(".thumbs-list li",i).on("click.masthead",function(){var t=$(".thumbs-list li").index($(this));n.val(e.full_images[t]).trigger("change")})})}function addAutocompletetoFeaturedImage(){$("[data-featured-item-typeahead]").length>0&&$("[data-featured-item-typeahead]").spotlightSearchTypeAhead({bloodhound:itemsBloodhound(),template:itemsTemplate()}).on("click",function(){$(this).select()}).on("change",function(){$($(this).data("id-field")).val("")}).on("typeahead:selected typeahead:autocompleted",function(t,e){$($(this).data("id-field")).val(e.id)})}function swapInputForPanel(t,e,n){$(".pic.thumbnail img",e).attr("src",n.thumbnail).show(),$("[data-item-grid-thumbnail]",e).attr("value",n.thumbnail),$("[data-panel-title]",e).text(n.title),n["private"]&&e.addClass("blacklight-private"),$("[data-panel-id-display]",e).text(n.id),$(t.data("id_field")).val(n.id),e.multiImageSelector(n.image_versions),$(t.data("checkbox_field")).prop("checked",!0),t.attr("type","hidden"),e.show()}function addRemoveAutocompletedPanelBehavior(){$("[data-item-grid-panel-remove]").on("click",function(t){t.preventDefault();var e=$(this).closest("li.dd-item"),n=$("[data-target-panel='#"+e.attr("id")+"']");$("input[type='hidden']",e).prop("value",""),n.attr("value",""),n.attr("type","text"),e.hide()})}function replaceName(t,e){t.prop("name",t.prop("name").replace(/\d/,e))}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=rt.type(t);return"function"===n||rt.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(rt.isFunction(e))return rt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return rt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(dt.test(e))return rt.filter(e,t,n);e=rt.filter(e,t)}return rt.grep(t,function(t){return rt.inArray(t,e)>=0!==n})}function r(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e=wt[t]={};return rt.each(t.match(bt)||[],function(t,n){e[n]=!0}),e}function s(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(ft.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(s(),rt.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace($t,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:St.test(n)?rt.parseJSON(n):n}catch(r){}rt.data(t,e,n)}else n=void 0}return n}function u(t){var e;for(e in t)if(("data"!==e||!rt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(rt.acceptData(t)){var r,o,s=rt.expando,a=t.nodeType,l=a?rt.cache:t,u=a?t[s]:t[s]&&s;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof e)return u||(u=a?t[s]=X.pop()||rt.guid++:s),l[u]||(l[u]=a?{}:{toJSON:rt.noop}),("object"==typeof e||"function"==typeof e)&&(i?l[u]=rt.extend(l[u],e):l[u].data=rt.extend(l[u].data,e)),o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[rt.camelCase(e)]=n),"string"==typeof e?(r=o[e],null==r&&(r=o[rt.camelCase(e)])):r=o,r}}function h(t,e,n){if(rt.acceptData(t)){var i,r,o=t.nodeType,s=o?rt.cache:t,a=o?t[rt.expando]:rt.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){rt.isArray(e)?e=e.concat(rt.map(e,rt.camelCase)):e in i?e=[e]:(e=rt.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!u(i):!rt.isEmptyObject(i))return}(n||(delete s[a].data,u(s[a])))&&(o?rt.cleanData([t],!0):nt.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return ft.activeElement}catch(t){}}function m(t){var e=Bt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,i,r=0,o=typeof t.getElementsByTagName!==kt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==kt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||rt.nodeName(i,e)?o.push(i):rt.merge(o,g(i,e));return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],o):o}function v(t){Nt.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function b(t){return t.type=(null!==rt.find.attr(t,"type"))+"/"+t.type,t}function w(t){var e=Kt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){for(var n,i=0;null!=(n=t[i]);i++)rt._data(n,"globalEval",!e||rt._data(e[i],"globalEval"))}function x(t,e){if(1===e.nodeType&&rt.hasData(t)){var n,i,r,o=rt._data(t),s=rt._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)rt.event.add(e,n,a[n][i])}s.data&&(s.data=rt.extend({},s.data))}}function k(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!nt.noCloneEvent&&e[rt.expando]){r=rt._data(e);for(i in r.events)rt.removeEvent(e,i,r.handle);e.removeAttribute(rt.expando)}"script"===n&&e.text!==t.text?(b(e).text=t.text,w(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),nt.html5Clone&&t.innerHTML&&!rt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Nt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function S(e,n){var i,r=rt(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),o}function $(t){var e=ft,n=Jt[t];return n||(n=S(t,e),"none"!==n&&n||(Zt=(Zt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Zt[0].contentWindow||Zt[0].contentDocument).document,e.write(),e.close(),n=S(t,e),Zt.detach()),Jt[t]=n),n}function T(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=de.length;r--;)if(e=de[r]+n,e in t)return e;return i}function C(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=rt._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ct(i)&&(o[s]=rt._data(i,"olddisplay",$(i.nodeName)))):(r=Ct(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function A(t,e,n){var i=le.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function N(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=rt.css(t,n+Et[o],!0,r)),i?("content"===n&&(s-=rt.css(t,"padding"+Et[o],!0,r)),"margin"!==n&&(s-=rt.css(t,"border"+Et[o]+"Width",!0,r))):(s+=rt.css(t,"padding"+Et[o],!0,r),"padding"!==n&&(s+=rt.css(t,"border"+Et[o]+"Width",!0,r)));return s}function D(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=te(t),s=nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=ee(t,e,o),(0>r||null==r)&&(r=t.style[e]),ie.test(r))return r;i=s&&(nt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+N(t,e,n||(s?"border":"content"),i,o)+"px"}function P(t,e,n,i,r){return new P.prototype.init(t,e,n,i,r)}function O(){return setTimeout(function(){pe=void 0}),pe=rt.now()}function I(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Et[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function M(t,e,n){for(var i,r=(be[e]||[]).concat(be["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function B(t,e,n){var i,r,o,s,a,l,u,c,h=this,d={},p=t.style,f=t.nodeType&&Ct(t),m=rt._data(t,"fxshow");n.queue||(a=rt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,rt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=rt.css(t,"display"),c="none"===u?rt._data(t,"olddisplay")||$(t.nodeName):u,"inline"===c&&"none"===rt.css(t,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==$(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],me.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||rt.style(t,i)}else u=void 0;if(rt.isEmptyObject(d))"inline"===("none"===u?$(t.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(f=m.hidden):m=rt._data(t,"fxshow",{}),o&&(m.hidden=!f),f?rt(t).show():h.done(function(){rt(t).hide()}),h.done(function(){var e;rt._removeData(t,"fxshow");for(e in d)rt.style(t,e,d[e])});for(i in d)s=M(f?m[i]:0,i,h),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function j(t,e){var n,i,r,o,s;for(n in t)if(i=rt.camelCase(n),r=e[i],o=t[n],rt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=rt.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function L(t,e,n){var i,r,o=0,s=ye.length,a=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=pe||O(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:pe||O(),duration:n.duration,tweens:[],createTween:function(e,n){var i=rt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(j(c,u.opts.specialEasing);s>o;o++)if(i=ye[o].call(u,t,c,u.opts))return i;return rt.map(c,M,u),rt.isFunction(u.opts.start)&&u.opts.start.call(t,u),rt.fx.timer(rt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function R(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(bt)||[];if(rt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function z(t,e,n,i){function r(a){var l;return o[a]=!0,rt.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===Ue;return r(e.dataTypes[0])||!o["*"]&&r("*")}function F(t,e){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&rt.extend(!0,t,n),t}function H(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function U(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function q(t,e,n,i){var r;if(rt.isArray(e))rt.each(e,function(e,r){n||Ke.test(t)?i(t,r):q(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==rt.type(e))i(t,e);else for(r in e)q(t+"["+r+"]",e[r],n,i)}function V(){try{return new t.XMLHttpRequest}catch(e){}}function W(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function K(t){return rt.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var X=[],G=X.slice,Y=X.concat,Q=X.push,Z=X.indexOf,J={},tt=J.toString,et=J.hasOwnProperty,nt={},it="1.11.3",rt=function(t,e){return new rt.fn.init(t,e)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,at=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return rt.each(this,t,e)},map:function(t){return this.pushStack(rt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:X.sort,splice:X.splice},rt.extend=rt.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||rt.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],n=r[i],s!==n&&(u&&n&&(rt.isPlainObject(n)||(e=rt.isArray(n)))?(e?(e=!1,o=t&&rt.isArray(t)?t:[]):o=t&&rt.isPlainObject(t)?t:{},s[i]=rt.extend(u,o,n)):void 0!==n&&(s[i]=n));return s},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray||function(t){return"array"===rt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!rt.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==rt.type(t)||t.nodeType||rt.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&rt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(st,"ms-").replace(at,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,s=t.length,a=n(t);if(i){if(a)for(;s>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(a)for(;s>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?rt.merge(i,"string"==typeof t?[t]:t):Q.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Z)return Z.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,s=t.length,a=n(t),l=[];if(a)for(;s>o;o++)r=e(t[o],o,i),null!=r&&l.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&l.push(r);return Y.apply([],l)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),rt.isFunction(t)?(n=G.call(arguments,2),i=function(){return t.apply(e||this,n.concat(G.call(arguments)))},i.guid=t.guid=t.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()});var ut=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,i){var r,o,s,a,l,u,h,p,f,m;if((e?e.ownerDocument||e:z)!==P&&D(e),e=e||P,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&I){if(11!==a&&(r=yt.exec(t)))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&L(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&_.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(s)),n}if(_.qsa&&(!M||!M.test(t))){if(p=h=R,f=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=$(t),(h=e.getAttribute("id"))?p=h.replace(wt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);f=bt.test(t)&&c(e.parentNode)||e,m=u.join(",")}if(m)try{return Z.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return E(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[R]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)x.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u=[F,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[R]||(e[R]={}),(a=l[i])&&a[0]===F&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function g(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),u&&e.push(a));return s}function v(t,e,n,r,o,s){return r&&!r[R]&&(r=v(r)),o&&!o[R]&&(o=v(o,s)),i(function(i,s,a,l){var u,c,h,d=[],p=[],f=s.length,v=i||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:g(v,d,t,a,l),b=n?o||(i?t:f||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=g(b,p),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[p[c]]=!(y[p[c]]=h));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?tt(i,h):d[c])>-1&&(i[u]=!(s[u]=h))}}else b=g(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):Z.apply(s,b)})}function y(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==C)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>a;a++)if(n=x.relative[t[a].type])c=[p(f(c),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[R]){for(i=++a;r>i&&!x.relative[t[i].type];i++);return v(a>1&&f(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&d(t))}c.push(n)}return f(c)}function b(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var c,h,d,p=0,f="0",m=i&&[],v=[],y=C,b=i||o&&x.find.TAG("*",u),w=F+=null==y?1:Math.random()||.1,_=b.length;for(u&&(C=s!==P&&s);f!==_&&null!=(c=b[f]);f++){if(o&&c){for(h=0;d=t[h++];)if(d(c,s,a)){l.push(c);break}u&&(F=w)}r&&((c=!d&&c)&&p--,i&&m.push(c))}if(p+=f,r&&f!==p){for(h=0;d=n[h++];)d(m,v,s,a);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Y.call(l));v=g(v)}Z.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(F=w,C=y),m};return r?i(s):s}var w,_,x,k,S,$,T,E,C,A,N,D,P,O,I,M,B,j,L,R="sizzle"+1*new Date,z=t.document,F=0,H=0,U=n(),q=n(),V=n(),W=function(t,e){return t===e&&(N=!0),0},K=1<<31,X={}.hasOwnProperty,G=[],Y=G.pop,Q=G.push,Z=G.push,J=G.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},kt=function(){D()};try{Z.apply(G=J.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(St){Z={apply:G.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},D=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,O=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),I=!S(i),_.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=vt.test(i.getElementsByClassName),_.getById=r(function(t){return O.appendChild(t).id=R,!i.getElementsByName||!i.getElementsByName(R).length}),_.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(_t,xt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(_t,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=_.getElementsByClassName&&function(t,e){return I?e.getElementsByClassName(t):void 0},B=[],M=[],(_.qsa=vt.test(i.querySelectorAll))&&(r(function(t){O.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||M.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+R+"-]").length||M.push("~="),t.querySelectorAll(":checked").length||M.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||M.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&M.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(_.matchesSelector=vt.test(j=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){_.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),B.push("!=",st)}),M=M.length&&new RegExp(M.join("|")),B=B.length&&new RegExp(B.join("|")),e=vt.test(O.compareDocumentPosition),L=e||vt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return N=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===z&&L(z,t)?-1:e===i||e.ownerDocument===z&&L(z,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return N=!0,0;var n,r=0,o=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!o||!a)return t===i?-1:e===i?1:o?-1:a?1:A?tt(A,t)-tt(A,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===z?-1:u[r]===z?1:0},i):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&D(t),n=n.replace(ht,"='$1']"),_.matchesSelector&&I&&(!B||!B.test(n))&&(!M||!M.test(n)))try{var i=j.call(t,n);if(i||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&D(t),L(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&D(t);var n=x.attrHandle[e.toLowerCase()],i=n&&X.call(x.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:_.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(N=!_.detectDuplicates,A=!_.sortStable&&t.slice(0),t.sort(W),N){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},k=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=$(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(c=g[R]||(g[R]={}),u=c[t]||[],p=u[0]===F&&u[1],d=u[0]===F&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){c[t]=[F,p,d];break}}else if(y&&(u=(e[R]||(e[R]={}))[t])&&u[0]===F)d=u[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[R]||(h[R]={}))[t]=[F,d]),h!==e)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[R]?o(n):o.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=T(t.replace(lt,"$1"));return r[R]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,xt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,xt).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,$=e.tokenize=function(t,n){var i,r,o,s,a,l,u,c=q[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=x.preFilter;a;){(!i||(r=ut.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(s in x.filter)!(r=ft[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):q(t,l).slice(0)},T=e.compile=function(t,e){var n,i=[],r=[],o=V[t+" "];if(!o){for(e||(e=$(t)),n=e.length;n--;)o=y(e[n]),o[R]?i.push(o):r.push(o);o=V(t,b(r,i)),o.selector=t}return o},E=e.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,h=!i&&$(t=u.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&_.getById&&9===e.nodeType&&I&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(_t,xt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(_t,xt),bt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return Z.apply(n,i),n;break}}return(u||T(t,h))(i,e,!I,n,bt.test(t)&&c(e.parentNode)||e),n},_.sortStable=R.split("").sort(W).join("")===R,_.detectDuplicates=!!N,D(),_.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains;var ct=rt.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?rt.find.matchesSelector(i,t)?[i]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;r>e;e++)if(rt.contains(i[e],this))return!0}));for(e=0;r>e;e++)rt.find(t,i[e],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ct.test(t)?rt(t):t||[],!1).length}});var pt,ft=t.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=rt.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:mt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||pt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ft,!0)),ht.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(i=ft.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pt.find(t);this.length=1,this[0]=i}return this.context=ft,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?"undefined"!=typeof pt.ready?pt.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};gt.prototype=rt.fn,pt=rt(ft);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),rt.fn.extend({has:function(t){var e,n=rt(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(rt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ct.test(t)||"string"!=typeof t?rt(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?rt.unique(o):o)},index:function(t){return t?"string"==typeof t?rt.inArray(this[0],rt(t)):rt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.unique(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return rt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return rt.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return rt.dir(t,"nextSibling")},prevAll:function(t){return rt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return rt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return rt.dir(t,"previousSibling",n)},siblings:function(t){return rt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return rt.sibling(t.firstChild)},contents:function(t){return rt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(n,i){var r=rt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(yt[t]||(r=rt.unique(r)),vt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var bt=/\S+/g,wt={};rt.Callbacks=function(t){t="string"==typeof t?wt[t]||o(t):rt.extend({},t);var e,n,i,r,s,a,l=[],u=!t.once&&[],c=function(o){for(n=t.memory&&o,i=!0,s=a||0,a=0,r=l.length,e=!0;l&&r>s;s++)if(l[s].apply(o[0],o[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function o(e){rt.each(e,function(e,n){var i=rt.type(n);"function"===i?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),e?r=l.length:n&&(a=i,c(n))}return this},remove:function(){return l&&rt.each(arguments,function(t,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),e&&(r>=i&&r--,s>=i&&s--)}),this},has:function(t){return t?rt.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||h.disable(),this},locked:function(){return!u},fireWith:function(t,n){return!l||i&&!u||(n=n||[],n=[t,n.slice?n.slice():n],e?u.push(n):c(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(n){rt.each(e,function(e,o){var s=rt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,i):i}},r={};return i.pipe=i.then,rt.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=G.call(arguments),s=o.length,a=1!==s||t&&rt.isFunction(t.promise)?s:0,l=1===a?t:rt.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?G.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&rt.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}});var _t;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){if(t===!0?!--rt.readyWait:!rt.isReady){if(!ft.body)return setTimeout(rt.ready);rt.isReady=!0,t!==!0&&--rt.readyWait>0||(_t.resolveWith(ft,[rt]),rt.fn.triggerHandler&&(rt(ft).triggerHandler("ready"),rt(ft).off("ready")))}}}),rt.ready.promise=function(e){if(!_t)if(_t=rt.Deferred(),"complete"===ft.readyState)setTimeout(rt.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{ft.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&ft.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!rt.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}s(),rt.ready()}}()}return _t.promise(e)};var xt,kt="undefined";for(xt in rt(nt))break;nt.ownLast="0"!==xt,nt.inlineBlockNeedsLayout=!1,rt(function(){var t,e,n,i;n=ft.getElementsByTagName("body")[0],n&&n.style&&(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==kt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=ft.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(e){nt.deleteExpando=!1}}t=null}(),rt.acceptData=function(t){var e=rt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e};var St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?rt.cache[t[rt.expando]]:t[rt.expando],!!t&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),rt.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=rt.data(o),1===o.nodeType&&!rt._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(o,i,r[i])));rt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){rt.data(this,t)}):arguments.length>1?this.each(function(){rt.data(this,t,e)}):o?l(o,t,rt.data(o,t)):void 0},removeData:function(t){return this.each(function(){rt.removeData(this,t)})}}),rt.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=rt._data(t,e),n&&(!i||rt.isArray(n)?i=rt._data(t,e,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=rt.queue(t,e),i=n.length,r=n.shift(),o=rt._queueHooks(t,e),s=function(){rt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return rt._data(t,n)||rt._data(t,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(t,e+"queue"),rt._removeData(t,n)})})}}),rt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?rt.queue(this[0],t):void 0===e?this:this.each(function(){var n=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=rt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=rt._data(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=["Top","Right","Bottom","Left"],Ct=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},At=rt.access=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===rt.type(n)){r=!0;for(a in n)rt.access(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(rt(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Nt=/^(?:checkbox|radio)$/i;!function(){var t=ft.createElement("input"),e=ft.createElement("div"),n=ft.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===e.firstChild.nodeType,nt.tbody=!e.getElementsByTagName("tbody").length,nt.htmlSerialize=!!e.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),nt.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){nt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(i){nt.deleteExpando=!1}}}(),function(){var e,n,i=ft.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(nt[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),nt[e+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Dt=/^(?:input|select|textarea)$/i,Pt=/^key/,Ot=/^(?:mouse|pointer|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,p,f,m,g=rt._data(t);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(s=g.events)||(s=g.events={}),(c=g.handle)||(c=g.handle=function(t){return typeof rt===kt||t&&rt.event.triggered===t.type?void 0:rt.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(bt)||[""],a=e.length;a--;)o=Mt.exec(e[a])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(u=rt.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=rt.event.special[p]||{},h=rt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(d=s[p])||(d=s[p]=[],d.delegateCount=0,u.setup&&u.setup.call(t,i,f,c)!==!1||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),rt.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,p,f,m,g=rt.hasData(t)&&rt._data(t);if(g&&(c=g.events)){for(e=(e||"").match(bt)||[""],u=e.length;u--;)if(a=Mt.exec(e[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=rt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=c[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||rt.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)rt.event.remove(t,p+e[u],n,i,!0);rt.isEmptyObject(c)&&(delete g.handle,rt._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,s,a,l,u,c,h,d=[i||ft],p=et.call(e,"type")?e.type:e,f=et.call(e,"namespace")?e.namespace.split("."):[];if(a=c=i=i||ft,3!==i.nodeType&&8!==i.nodeType&&!It.test(p+rt.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,e=e[rt.expando]?e:new rt.Event(p,"object"==typeof e&&e),
e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:rt.makeArray(n,[e]),u=rt.event.special[p]||{},r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!rt.isWindow(i)){for(l=u.delegateType||p,It.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),c=a;c===(i.ownerDocument||ft)&&d.push(c.defaultView||c.parentWindow||t)}for(h=0;(a=d[h++])&&!e.isPropagationStopped();)e.type=h>1?l:u.bindType||p,o=(rt._data(a,"events")||{})[e.type]&&rt._data(a,"handle"),o&&o.apply(a,n),o=s&&a[s],o&&o.apply&&rt.acceptData(a)&&(e.result=o.apply(a,n),e.result===!1&&e.preventDefault());if(e.type=p,!r&&!e.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),n)===!1)&&rt.acceptData(i)&&s&&i[p]&&!rt.isWindow(i)){c=i[s],c&&(i[s]=null),rt.event.triggered=p;try{i[p]()}catch(m){}rt.event.triggered=void 0,c&&(i[s]=c)}return e.result}},dispatch:function(t){t=rt.event.fix(t);var e,n,i,r,o,s=[],a=G.call(arguments),l=(rt._data(this,"events")||{})[t.type]||[],u=rt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=rt.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(r=[],o=0;a>o;o++)i=e[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[rt.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ot.test(r)?this.mouseHooks:Pt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new rt.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||ft),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||ft,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=rt.extend(new rt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,e):rt.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=ft.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===kt&&(t[i]=null),t.detachEvent(i,n))},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:p):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!rt.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=rt.nodeName(e,"input")||rt.nodeName(e,"button")?e.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&rt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return Dt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,t,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Dt.test(e.nodeName)&&!rt._data(e,"changeBubbles")&&(rt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||rt.event.simulate("change",this.parentNode,t,!0)}),rt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Dt.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){rt.event.simulate(e,t.target,rt.event.fix(t),!0)};rt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,e);r||i.addEventListener(t,n,!0),rt._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,e)-1;r?rt._data(i,e,r):(i.removeEventListener(t,n,!0),rt._removeData(i,e))}}}),rt.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(s=i,i=function(t){return rt().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=rt.guid++)),this.each(function(){rt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,rt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=p),this.each(function(){rt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?rt.event.trigger(t,e,n,!0):void 0}});var Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",jt=/ jQuery\d+="(?:null|\d+)"/g,Lt=new RegExp("<(?:"+Bt+")[\\s/>]","i"),Rt=/^\s+/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ft=/<([\w:]+)/,Ht=/<tbody/i,Ut=/<|&#?\w+;/,qt=/<(?:script|style|link)/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^$|\/(?:java|ecma)script/i,Kt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Yt=m(ft),Qt=Yt.appendChild(ft.createElement("div"));Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td,rt.extend({clone:function(t,e,n){var i,r,o,s,a,l=rt.contains(t.ownerDocument,t);if(nt.html5Clone||rt.isXMLDoc(t)||!Lt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Qt.innerHTML=t.outerHTML,Qt.removeChild(o=Qt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(i=g(o),a=g(t),s=0;null!=(r=a[s]);++s)i[s]&&k(r,i[s]);if(e)if(n)for(a=a||g(t),i=i||g(o),s=0;null!=(r=a[s]);s++)x(r,i[s]);else x(t,o);return i=g(o,"script"),i.length>0&&_(i,!l&&g(t,"script")),i=a=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,s,a,l,u,c,h=t.length,d=m(e),p=[],f=0;h>f;f++)if(o=t[f],o||0===o)if("object"===rt.type(o))rt.merge(p,o.nodeType?[o]:o);else if(Ut.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(Ft.exec(o)||["",""])[1].toLowerCase(),c=Gt[l]||Gt._default,a.innerHTML=c[1]+o.replace(zt,"<$1></$2>")+c[2],r=c[0];r--;)a=a.lastChild;if(!nt.leadingWhitespace&&Rt.test(o)&&p.push(e.createTextNode(Rt.exec(o)[0])),!nt.tbody)for(o="table"!==l||Ht.test(o)?"<table>"!==c[1]||Ht.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)rt.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(rt.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else p.push(e.createTextNode(o));for(a&&d.removeChild(a),nt.appendChecked||rt.grep(g(p,"input"),v),f=0;o=p[f++];)if((!i||-1===rt.inArray(o,i))&&(s=rt.contains(o.ownerDocument,o),a=g(d.appendChild(o),"script"),s&&_(a),n))for(r=0;o=a[r++];)Wt.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(t,e){for(var n,i,r,o,s=0,a=rt.expando,l=rt.cache,u=nt.deleteExpando,c=rt.event.special;null!=(n=t[s]);s++)if((e||rt.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)c[i]?rt.event.remove(n,i):rt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u?delete n[a]:typeof n.removeAttribute!==kt?n.removeAttribute(a):n[a]=null,X.push(r))}}}),rt.fn.extend({text:function(t){return At(this,function(t){return void 0===t?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?rt.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||rt.cleanData(g(n)),n.parentNode&&(e&&rt.contains(n.ownerDocument,n)&&_(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&rt.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&rt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return At(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(jt,""):void 0;if("string"==typeof t&&!qt.test(t)&&(nt.htmlSerialize||!Lt.test(t))&&(nt.leadingWhitespace||!Rt.test(t))&&!Gt[(Ft.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(zt,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(rt.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,rt.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Y.apply([],t);var n,i,r,o,s,a,l=0,u=this.length,c=this,h=u-1,d=t[0],p=rt.isFunction(d);if(p||u>1&&"string"==typeof d&&!nt.checkClone&&Vt.test(d))return this.each(function(n){var i=c.eq(n);p&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(u&&(a=rt.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=rt.map(g(a,"script"),b),r=o.length;u>l;l++)i=a,l!==h&&(i=rt.clone(i,!0,!0),r&&rt.merge(o,g(i,"script"))),e.call(this[l],i,l);if(r)for(s=o[o.length-1].ownerDocument,rt.map(o,w),l=0;r>l;l++)i=o[l],Wt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(s,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Xt,"")));a=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var n,i=0,r=[],o=rt(t),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),rt(o[i])[e](n),Q.apply(r,n.get());return this.pushStack(r)}});var Zt,Jt={};!function(){var t;nt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=ft.getElementsByTagName("body")[0],n&&n.style?(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==kt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ft.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var te,ee,ne=/^margin/,ie=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),re=/^(top|right|bottom|left)$/;t.getComputedStyle?(te=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},ee=function(t,e,n){var i,r,o,s,a=t.style;return n=n||te(t),s=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==s||rt.contains(t.ownerDocument,t)||(s=rt.style(t,e)),ie.test(s)&&ne.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):ft.documentElement.currentStyle&&(te=function(t){return t.currentStyle},ee=function(t,e,n){var i,r,o,s,a=t.style;return n=n||te(t),s=n?n[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),ie.test(s)&&!re.test(e)&&(i=a.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function e(){var e,n,i,r;n=ft.getElementsByTagName("body")[0],n&&n.style&&(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,s="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,r=e.appendChild(ft.createElement("div")),r.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight),e.removeChild(r)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=e.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===r[0].offsetHeight,a&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,s,a,l;n=ft.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==s&&e(),s},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),rt.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r};var oe=/alpha\([^)]*\)/i,se=/opacity\s*=\s*([^)]*)/,ae=/^(none|table(?!-c[ea]).+)/,le=new RegExp("^("+Tt+")(.*)$","i"),ue=new RegExp("^([+-])=("+Tt+")","i"),ce={position:"absolute",visibility:"hidden",display:"block"},he={letterSpacing:"0",fontWeight:"400"},de=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ee(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=rt.camelCase(e),l=t.style;if(e=rt.cssProps[a]||(rt.cssProps[a]=E(l,a)),s=rt.cssHooks[e]||rt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];if(o=typeof n,"string"===o&&(r=ue.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||rt.cssNumber[a]||(n+="px"),nt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(u){}}},css:function(t,e,n,i){var r,o,s,a=rt.camelCase(e);return e=rt.cssProps[a]||(rt.cssProps[a]=E(t.style,a)),s=rt.cssHooks[e]||rt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=ee(t,e,i)),"normal"===o&&e in he&&(o=he[e]),""===n||n?(r=parseFloat(o),n===!0||rt.isNumeric(r)?r||0:o):o}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,n,i){return n?ae.test(rt.css(t,"display"))&&0===t.offsetWidth?rt.swap(t,ce,function(){return D(t,e,i)}):D(t,e,i):void 0},set:function(t,n,i){var r=i&&te(t);return A(t,n,i?N(t,e,i,nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(t,e){return se.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=rt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===rt.trim(o.replace(oe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=oe.test(o)?o.replace(oe,r):o+" "+r)}}),rt.cssHooks.marginRight=T(nt.reliableMarginRight,function(t,e){return e?rt.swap(t,{display:"inline-block"},ee,[t,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Et[i]+e]=o[i]||o[i-2]||o[0];return r}},ne.test(t)||(rt.cssHooks[t+e].set=A)}),rt.fn.extend({css:function(t,e){return At(this,function(t,e,n){var i,r,o={},s=0;if(rt.isArray(e)){for(i=te(t),r=e.length;r>s;s++)o[e[s]]=rt.css(t,e[s],!1,i);return o}return void 0!==n?rt.style(t,e,n):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ct(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=P,P.prototype={constructor:P,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(rt.cssNumber[n]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,n=P.propHooks[this.prop];return this.options.duration?this.pos=e=rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[rt.cssProps[t.prop]]||rt.cssHooks[t.prop])?rt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},rt.fx=P.prototype.init,rt.fx.step={};var pe,fe,me=/^(?:toggle|show|hide)$/,ge=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),ve=/queueHooks$/,ye=[B],be={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ge.exec(e),o=r&&r[3]||(rt.cssNumber[t]?"":"px"),s=(rt.cssNumber[t]||"px"!==o&&+i)&&ge.exec(rt.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,rt.style(n.elem,t,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend(L,{tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],be[n]=be[n]||[],be[n].unshift(e)},prefilter:function(t,e){e?ye.unshift(t):ye.push(t)}}),rt.speed=function(t,e,n){var i=t&&"object"==typeof t?rt.extend({},t):{complete:n||!n&&e||rt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!rt.isFunction(e)&&e};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=rt.isEmptyObject(t),o=rt.speed(e,n,i),s=function(){var e=L(this,rt.extend({},t),o);(r||rt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=rt.timers,s=rt._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ve.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=rt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=rt.timers,s=i?i.length:0;for(n.finish=!0,rt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var n=rt.fn[e];rt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(I(e,!0),t,i,r)}}),rt.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),rt.timers=[],rt.fx.tick=function(){var t,e=rt.timers,n=0;for(pe=rt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||rt.fx.stop(),pe=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){fe||(fe=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(fe),fe=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(t,e){return t=rt.fx?rt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,r;e=ft.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],n=ft.createElement("select"),r=n.appendChild(ft.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==e.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!t.value,nt.optSelected=r.selected,nt.enctype=!!ft.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,t=ft.createElement("input"),t.setAttribute("value",""),nt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),nt.radioValue="t"===t.value}();var we=/\r/g;rt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=rt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,rt(this).val()):t,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(we,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(t){var e=rt.find.attr(t,"value");return null!=e?e:rt.trim(rt.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],(n.selected||l===r)&&(nt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!rt.nodeName(n.parentNode,"optgroup"))){if(e=rt(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=rt.makeArray(e),s=r.length;s--;)if(i=r[s],rt.inArray(rt.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){return rt.isArray(e)?t.checked=rt.inArray(rt(t).val(),e)>=0:void 0}},nt.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _e,xe,ke=rt.expr.attrHandle,Se=/^(?:checked|selected)$/i,$e=nt.getSetAttribute,Te=nt.input;rt.fn.extend({attr:function(t,e){return At(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===kt?rt.prop(t,e,n):(1===o&&rt.isXMLDoc(t)||(e=e.toLowerCase(),i=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?xe:_e)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=rt.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void rt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(bt);if(o&&1===t.nodeType)for(;n=o[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?Te&&$e||!Se.test(n)?t[i]=!1:t[rt.camelCase("default-"+n)]=t[i]=!1:rt.attr(t,n,""),t.removeAttribute($e?n:i)},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),xe={set:function(t,e,n){return e===!1?rt.removeAttr(t,n):Te&&$e||!Se.test(n)?t.setAttribute(!$e&&rt.propFix[n]||n,n):t[rt.camelCase("default-"+n)]=t[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ke[e]||rt.find.attr;ke[e]=Te&&$e||!Se.test(e)?function(t,e,i){var r,o;return i||(o=ke[e],ke[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ke[e]=o),r}:function(t,e,n){return n?void 0:t[rt.camelCase("default-"+e)]?e.toLowerCase():null}}),Te&&$e||(rt.attrHooks.value={set:function(t,e,n){return rt.nodeName(t,"input")?void(t.defaultValue=e):_e&&_e.set(t,e,n)}}),$e||(_e={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},ke.id=ke.name=ke.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:_e.set},rt.attrHooks.contenteditable={set:function(t,e,n){_e.set(t,""===e?!1:e,n)}},rt.each(["width","height"],function(t,e){rt.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),nt.style||(rt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ee=/^(?:input|select|textarea|button|object)$/i,Ce=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return At(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=rt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!rt.isXMLDoc(t),o&&(e=rt.propFix[e]||e,r=rt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):Ee.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(t,e){rt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var Ae=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,u="string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(bt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=rt.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,u=0===arguments.length||"string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(bt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):"")){
for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=t?rt.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):rt.isFunction(t)?this.each(function(n){rt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=rt(this),o=t.match(bt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===kt||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||t===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ae," ").indexOf(e)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Ne=rt.now(),De=/\?/,Pe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=rt.trim(e+"");return r&&!rt.trim(r.replace(Pe,function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+e)},rt.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+e),n};var Oe,Ie,Me=/#.*$/,Be=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Le=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Re=/^(?:GET|HEAD)$/,ze=/^\/\//,Fe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,He={},Ue={},qe="*/".concat("*");try{Ie=location.href}catch(Ve){Ie=ft.createElement("a"),Ie.href="",Ie=Ie.href}Oe=Fe.exec(Ie.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie,type:"GET",isLocal:Le.test(Oe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?F(F(t,rt.ajaxSettings),e):F(rt.ajaxSettings,t)},ajaxPrefilter:R(He),ajaxTransport:R(Ue),ajax:function(t,e){function n(t,e,n,i){var r,c,v,y,w,x=e;2!==b&&(b=2,a&&clearTimeout(a),u=void 0,s=i||"",_.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(y=H(h,_,n)),y=U(h,y,_,r),r?(h.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(rt.lastModified[o]=w),w=_.getResponseHeader("etag"),w&&(rt.etag[o]=w)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=y.state,c=y.data,v=y.error,r=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),_.status=t,_.statusText=(e||x)+"",r?f.resolveWith(d,[c,x,_]):f.rejectWith(d,[_,x,v]),_.statusCode(g),g=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[_,h,r?c:v]),m.fireWith(d,[_,x]),l&&(p.trigger("ajaxComplete",[_,h]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,l,u,c,h=rt.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?rt(d):rt.event,f=rt.Deferred(),m=rt.Callbacks("once memory"),g=h.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!c)for(c={};e=je.exec(s);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)g[e]=[g[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||w;return u&&u.abort(e),n(0,e),this}};if(f.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,h.url=((t||h.url||Ie)+"").replace(Me,"").replace(ze,Oe[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=rt.trim(h.dataType||"*").toLowerCase().match(bt)||[""],null==h.crossDomain&&(i=Fe.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===Oe[1]&&i[2]===Oe[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Oe[3]||("http:"===Oe[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=rt.param(h.data,h.traditional)),z(He,h,e,_),2===b)return _;l=rt.event&&h.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Re.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(De.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Be.test(o)?o.replace(Be,"$1_="+Ne++):o+(De.test(o)?"&":"?")+"_="+Ne++)),h.ifModified&&(rt.lastModified[o]&&_.setRequestHeader("If-Modified-Since",rt.lastModified[o]),rt.etag[o]&&_.setRequestHeader("If-None-Match",rt.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+qe+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)_.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(d,_,h)===!1||2===b))return _.abort();w="abort";for(r in{success:1,error:1,complete:1})_[r](h[r]);if(u=z(Ue,h,e,_)){_.readyState=1,l&&p.trigger("ajaxSend",[_,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},h.timeout));try{b=1,u.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(t,e,n){return rt.get(t,e,n,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){if(rt.isFunction(t))return this.each(function(e){rt(this).wrapAll(t.call(this,e))});if(this[0]){var e=rt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return rt.isFunction(t)?this.each(function(e){rt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=rt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(n){rt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||rt.css(t,"display"))},rt.expr.filters.visible=function(t){return!rt.expr.filters.hidden(t)};var We=/%20/g,Ke=/\[\]$/,Xe=/\r?\n/g,Ge=/^(?:submit|button|image|reset|file)$/i,Ye=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var n,i=[],r=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){r(this.name,this.value)});else for(n in t)q(n,t[n],e,r);return i.join("&").replace(We,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&Ye.test(this.nodeName)&&!Ge.test(t)&&(this.checked||!Nt.test(t))}).map(function(t,e){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(t){return{name:e.name,value:t.replace(Xe,"\r\n")}}):{name:e.name,value:n.replace(Xe,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&V()||W()}:V;var Qe=0,Ze={},Je=rt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ze)Ze[t](void 0,!0)}),nt.cors=!!Je&&"withCredentials"in Je,Je=nt.ajax=!!Je,Je&&rt.ajaxTransport(function(t){if(!t.crossDomain||nt.cors){var e;return{send:function(n,i){var r,o=t.xhr(),s=++Qe;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(t.hasContent&&t.data||null),e=function(n,r){var a,l,u;if(e&&(r||4===o.readyState))if(delete Ze[s],e=void 0,o.onreadystatechange=rt.noop,r)4!==o.readyState&&o.abort();else{u={},a=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(c){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=u.text?200:404}u&&i(a,l,u,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Ze[s]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ft.head||rt("head")[0]||ft.documentElement;return{send:function(i,r){e=ft.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||rt.expando+"_"+Ne++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(en.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(en,"$1"+r):e.jsonp!==!1&&(e.url+=(De.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||rt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,tn.push(r)),s&&rt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),rt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ft;var i=ht.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=rt.buildFragment([t],e,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var nn=rt.fn.load;rt.fn.load=function(t,e,n){if("string"!=typeof t&&nn)return nn.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>=0&&(i=rt.trim(t.slice(a,t.length)),t=t.slice(0,a)),rt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&rt.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?rt("<div>").append(rt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length};var rn=t.document.documentElement;rt.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u,c=rt.css(t,"position"),h=rt(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=rt.css(t,"top"),l=rt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&rt.inArray("auto",[o,l])>-1,u?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),rt.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):h.css(d)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return e=o.documentElement,rt.contains(e,r)?(typeof r.getBoundingClientRect!==kt&&(i=r.getBoundingClientRect()),n=K(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(n=t.offset()),n.top+=rt.css(t[0],"borderTopWidth",!0),n.left+=rt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-rt.css(i,"marginTop",!0),left:e.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||rn;t&&!rt.nodeName(t,"html")&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||rn})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);rt.fn[t]=function(i){return At(this,function(t,i,r){var o=K(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?rt(o).scrollLeft():r,n?r:rt(o).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=T(nt.pixelPosition,function(t,n){return n?(n=ee(t,e),ie.test(n)?rt(t).position()[e]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){rt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return At(this,function(e,n,i){var r;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?rt.css(e,n,s):rt.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var on=t.jQuery,sn=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=sn),e&&t.jQuery===rt&&(t.jQuery=on),rt},typeof e===kt&&(t.jQuery=t.$=rt),rt}),function(){function t(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function e(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function n(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function i(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function r(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function o(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function s(t,e){var n=null==t?0:t.length;return!!n&&v(t,e,0)>-1}function a(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function l(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function u(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function c(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function h(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function d(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function p(t){return t.split("")}function f(t){return t.match(Be)||[]}function m(t,e,n){var i;return n(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function g(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function v(t,e,n){return e===e?V(t,e,n):g(t,b,n)}function y(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function b(t){return t!==t}function w(t,e){var n=null==t?0:t.length;return n?$(t,e)/n:Dt}function _(t){return function(e){return null==e?Z:e[t]}}function x(t){return function(e){return null==t?Z:t[e]}}function k(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function S(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function $(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==Z&&(n=n===Z?o:n+o)}return n}function T(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function E(t,e){return l(e,function(e){return[e,t[e]]})}function C(t){return function(e){return t(e)}}function A(t,e){return l(e,function(e){return t[e]})}function N(t,e){return t.has(e)}function D(t,e){for(var n=-1,i=t.length;++n<i&&v(e,t[n],0)>-1;);return n}function P(t,e){for(var n=t.length;n--&&v(e,t[n],0)>-1;);return n}function O(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function I(t){return"\\"+Gn[t]}function M(t,e){return null==t?Z:t[e]}function B(t){return zn.test(t)}function j(t){return Fn.test(t)}function L(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function R(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function z(t,e){return function(n){return t(e(n))}}function F(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];(s===e||s===ot)&&(t[n]=ot,o[r++]=n)}return o}function H(t,e){return"__proto__"==e?Z:t[e]}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function V(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function W(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function K(t){return B(t)?G(t):di(t)}function X(t){return B(t)?Y(t):p(t)}function G(t){for(var e=Ln.lastIndex=0;Ln.test(t);)++e;return e}function Y(t){return t.match(Ln)||[]}function Q(t){return t.match(Rn)||[]}var Z,J="4.17.5",tt=200,et="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",nt="Expected a function",it="__lodash_hash_undefined__",rt=500,ot="__lodash_placeholder__",st=1,at=2,lt=4,ut=1,ct=2,ht=1,dt=2,pt=4,ft=8,mt=16,gt=32,vt=64,yt=128,bt=256,wt=512,_t=30,xt="...",kt=800,St=16,$t=1,Tt=2,Et=3,Ct=1/0,At=9007199254740991,Nt=1.7976931348623157e308,Dt=NaN,Pt=4294967295,Ot=Pt-1,It=Pt>>>1,Mt=[["ary",yt],["bind",ht],["bindKey",dt],["curry",ft],["curryRight",mt],["flip",wt],["partial",gt],["partialRight",vt],["rearg",bt]],Bt="[object Arguments]",jt="[object Array]",Lt="[object AsyncFunction]",Rt="[object Boolean]",zt="[object Date]",Ft="[object DOMException]",Ht="[object Error]",Ut="[object Function]",qt="[object GeneratorFunction]",Vt="[object Map]",Wt="[object Number]",Kt="[object Null]",Xt="[object Object]",Gt="[object Promise]",Yt="[object Proxy]",Qt="[object RegExp]",Zt="[object Set]",Jt="[object String]",te="[object Symbol]",ee="[object Undefined]",ne="[object WeakMap]",ie="[object WeakSet]",re="[object ArrayBuffer]",oe="[object DataView]",se="[object Float32Array]",ae="[object Float64Array]",le="[object Int8Array]",ue="[object Int16Array]",ce="[object Int32Array]",he="[object Uint8Array]",de="[object Uint8ClampedArray]",pe="[object Uint16Array]",fe="[object Uint32Array]",me=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39);/g,be=/[&<>"']/g,we=RegExp(ye.source),_e=RegExp(be.source),xe=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Te=/^\w*$/,Ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/[\\^$.*+?()[\]{}|]/g,Ae=RegExp(Ce.source),Ne=/^\s+|\s+$/g,De=/^\s+/,Pe=/\s+$/,Oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,Me=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,je=/\\(\\)?/g,Le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Re=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,He=/^\[object .+?Constructor\]$/,Ue=/^0o[0-7]+$/i,qe=/^(?:0|[1-9]\d*)$/,Ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,We=/($^)/,Ke=/['\n\r\u2028\u2029\\]/g,Xe="\\ud800-\\udfff",Ge="\\u0300-\\u036f",Ye="\\ufe20-\\ufe2f",Qe="\\u20d0-\\u20ff",Ze=Ge+Ye+Qe,Je="\\u2700-\\u27bf",tn="a-z\\xdf-\\xf6\\xf8-\\xff",en="\\xac\\xb1\\xd7\\xf7",nn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rn="\\u2000-\\u206f",on=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sn="A-Z\\xc0-\\xd6\\xd8-\\xde",an="\\ufe0e\\ufe0f",ln=en+nn+rn+on,un="['\u2019]",cn="["+Xe+"]",hn="["+ln+"]",dn="["+Ze+"]",pn="\\d+",fn="["+Je+"]",mn="["+tn+"]",gn="[^"+Xe+ln+pn+Je+tn+sn+"]",vn="\\ud83c[\\udffb-\\udfff]",yn="(?:"+dn+"|"+vn+")",bn="[^"+Xe+"]",wn="(?:\\ud83c[\\udde6-\\uddff]){2}",_n="[\\ud800-\\udbff][\\udc00-\\udfff]",xn="["+sn+"]",kn="\\u200d",Sn="(?:"+mn+"|"+gn+")",$n="(?:"+xn+"|"+gn+")",Tn="(?:"+un+"(?:d|ll|m|re|s|t|ve))?",En="(?:"+un+"(?:D|LL|M|RE|S|T|VE))?",Cn=yn+"?",An="["+an+"]?",Nn="(?:"+kn+"(?:"+[bn,wn,_n].join("|")+")"+An+Cn+")*",Dn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",On=An+Cn+Nn,In="(?:"+[fn,wn,_n].join("|")+")"+On,Mn="(?:"+[bn+dn+"?",dn,wn,_n,cn].join("|")+")",Bn=RegExp(un,"g"),jn=RegExp(dn,"g"),Ln=RegExp(vn+"(?="+vn+")|"+Mn+On,"g"),Rn=RegExp([xn+"?"+mn+"+"+Tn+"(?="+[hn,xn,"$"].join("|")+")",$n+"+"+En+"(?="+[hn,xn+Sn,"$"].join("|")+")",xn+"?"+Sn+"+"+Tn,xn+"+"+En,Pn,Dn,pn,In].join("|"),"g"),zn=RegExp("["+kn+Xe+Ze+an+"]"),Fn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Un=-1,qn={};qn[se]=qn[ae]=qn[le]=qn[ue]=qn[ce]=qn[he]=qn[de]=qn[pe]=qn[fe]=!0,qn[Bt]=qn[jt]=qn[re]=qn[Rt]=qn[oe]=qn[zt]=qn[Ht]=qn[Ut]=qn[Vt]=qn[Wt]=qn[Xt]=qn[Qt]=qn[Zt]=qn[Jt]=qn[ne]=!1;var Vn={};Vn[Bt]=Vn[jt]=Vn[re]=Vn[oe]=Vn[Rt]=Vn[zt]=Vn[se]=Vn[ae]=Vn[le]=Vn[ue]=Vn[ce]=Vn[Vt]=Vn[Wt]=Vn[Xt]=Vn[Qt]=Vn[Zt]=Vn[Jt]=Vn[te]=Vn[he]=Vn[de]=Vn[pe]=Vn[fe]=!0,Vn[Ht]=Vn[Ut]=Vn[ne]=!1;var Wn={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},Kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yn=parseFloat,Qn=parseInt,Zn="object"==typeof global&&global&&global.Object===Object&&global,Jn="object"==typeof self&&self&&self.Object===Object&&self,ti=Zn||Jn||Function("return this")(),ei="object"==typeof exports&&exports&&!exports.nodeType&&exports,ni=ei&&"object"==typeof module&&module&&!module.nodeType&&module,ii=ni&&ni.exports===ei,ri=ii&&Zn.process,oi=function(){try{return ri&&ri.binding&&ri.binding("util")}catch(t){}}(),si=oi&&oi.isArrayBuffer,ai=oi&&oi.isDate,li=oi&&oi.isMap,ui=oi&&oi.isRegExp,ci=oi&&oi.isSet,hi=oi&&oi.isTypedArray,di=_("length"),pi=x(Wn),fi=x(Kn),mi=x(Xn),gi=function yi(p){function x(t){if(ol(t)&&!gd(t)&&!(t instanceof Y)){if(t instanceof G)return t;if(gc.call(t,"__wrapped__"))return ns(t)}return new G(t)}function V(){}function G(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Z}function Y(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pt,this.__views__=[]}function Be(){var t=new Y(this.__wrapped__);return t.__actions__=Br(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Br(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Br(this.__views__),t}function Xe(){if(this.__filtered__){var t=new Y(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ge(){var t=this.__wrapped__.value(),e=this.__dir__,n=gd(t),i=0>e,r=n?t.length:0,o=To(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,p=Wc(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return br(t,this.__actions__);var f=[];t:for(;l--&&p>d;){u+=e;for(var m=-1,g=t[u];++m<h;){var v=c[m],y=v.iteratee,b=v.type,w=y(g);if(b==Tt)g=w;else if(!w){if(b==$t)continue t;break t}}f[d++]=g}return f}function Ye(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Qe(){this.__data__=nh?nh(null):{},this.size=0}function Ze(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Je(t){var e=this.__data__;if(nh){var n=e[t];return n===it?Z:n}return gc.call(e,t)?e[t]:Z}function tn(t){var e=this.__data__;return nh?e[t]!==Z:gc.call(e,t)}function en(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nh&&e===Z?it:e,this}function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function rn(){this.__data__=[],this.size=0}function on(t){var e=this.__data__,n=Nn(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():Nc.call(e,n,1),--this.size,!0}function sn(t){var e=this.__data__,n=Nn(e,t);return 0>n?Z:e[n][1]}function an(t){return Nn(this.__data__,t)>-1}function ln(t,e){var n=this.__data__,i=Nn(n,t);return 0>i?(++this.size,n.push([t,e])):n[i][1]=e,this}function un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function cn(){this.size=0,this.__data__={hash:new Ye,map:new(Zc||nn),string:new Ye}}function hn(t){var e=xo(this,t)["delete"](t);return this.size-=e?1:0,e}function dn(t){return xo(this,t).get(t)}function pn(t){return xo(this,t).has(t)}function fn(t,e){var n=xo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new un;++e<n;)this.add(t[e])}function gn(t){return this.__data__.set(t,it),this}function vn(t){return this.__data__.has(t)}function yn(t){var e=this.__data__=new nn(t);this.size=e.size}function bn(){this.__data__=new nn,this.size=0}function wn(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function _n(t){return this.__data__.get(t)}function xn(t){return this.__data__.has(t)}function kn(t,e){var n=this.__data__;if(n instanceof nn){var i=n.__data__;if(!Zc||i.length<tt-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new un(i)}return n.set(t,e),this.size=n.size,this}function Sn(t,e){var n=gd(t),i=!n&&md(t),r=!n&&!i&&yd(t),o=!n&&!i&&!r&&kd(t),s=n||i||r||o,a=s?T(t.length,uc):[],l=a.length;for(var u in t)!e&&!gc.call(t,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Io(u,l))||a.push(u);return a}function $n(t){var e=t.length;return e?t[tr(0,e-1)]:Z}function Tn(t,e){return Zo(Br(t),Ln(e,0,t.length))}function En(t){return Zo(Br(t))}function Cn(t,e,n){(n!==Z&&!Va(t[e],n)||n===Z&&!(e in t))&&In(t,e,n)}function An(t,e,n){var i=t[e];gc.call(t,e)&&Va(i,n)&&(n!==Z||e in t)||In(t,e,n)}function Nn(t,e){for(var n=t.length;n--;)if(Va(t[n][0],e))return n;return-1}function Dn(t,e,n,i){return fh(t,function(t,r,o){e(i,t,n(t),o)}),i}function Pn(t,e){return t&&jr(e,zl(e),t)}function On(t,e){return t&&jr(e,Fl(e),t)}function In(t,e,n){"__proto__"==e&&Ic?Ic(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Mn(t,e){for(var n=-1,i=e.length,r=nc(i),o=null==t;++n<i;)r[n]=o?Z:jl(t,e[n]);return r}function Ln(t,e,n){return t===t&&(n!==Z&&(t=n>=t?t:n),e!==Z&&(t=t>=e?t:e)),t}function Rn(t,e,i,r,o,s){var a,l=e&st,u=e&at,c=e&lt;if(i&&(a=o?i(t,r,o,s):i(t)),a!==Z)return a;if(!rl(t))return t;var h=gd(t);if(h){if(a=Ao(t),!l)return Br(t,a)}else{var d=Th(t),p=d==Ut||d==qt;if(yd(t))return Tr(t,l);if(d==Xt||d==Bt||p&&!o){if(a=u||p?{}:No(t),!l)return u?Rr(t,On(a,t)):Lr(t,Pn(a,t))}else{if(!Vn[d])return o?t:{};a=Do(t,d,l)}}s||(s=new yn);var f=s.get(t);if(f)return f;if(s.set(t,a),xd(t))return t.forEach(function(n){a.add(Rn(n,e,i,n,t,s))}),a;if(wd(t))return t.forEach(function(n,r){a.set(r,Rn(n,e,i,r,t,s))}),a;var m=c?u?yo:vo:u?Fl:zl,g=h?Z:m(t);return n(g||t,function(n,r){g&&(r=n,n=t[r]),An(a,r,Rn(n,e,i,r,t,s))}),a}function zn(t){var e=zl(t);return function(n){return Fn(n,t,e)}}function Fn(t,e,n){var i=n.length;if(null==t)return!i;for(t=ac(t);i--;){var r=n[i],o=e[r],s=t[r];if(s===Z&&!(r in t)||!o(s))return!1}return!0}function Wn(t,e,n){if("function"!=typeof t)throw new cc(nt);return Ah(function(){t.apply(Z,n)},e)}function Kn(t,e,n,i){var r=-1,o=s,u=!0,c=t.length,h=[],d=e.length;if(!c)return h;n&&(e=l(e,C(n))),i?(o=a,u=!1):e.length>=tt&&(o=N,u=!1,e=new mn(e));t:for(;++r<c;){var p=t[r],f=null==n?p:n(p);if(p=i||0!==p?p:0,u&&f===f){for(var m=d;m--;)if(e[m]===f)continue t;h.push(p)}else o(e,f,i)||h.push(p)}return h}function Xn(t,e){var n=!0;return fh(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Gn(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(a===Z?s===s&&!gl(s):n(s,a)))var a=s,l=o}return l}function Zn(t,e,n,i){var r=t.length;for(n=xl(n),0>n&&(n=-n>r?0:r+n),i=i===Z||i>r?r:xl(i),0>i&&(i+=r),i=n>i?0:kl(i);i>n;)t[n++]=e;
return t}function Jn(t,e){var n=[];return fh(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ei(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=Oo),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?ei(a,e-1,n,i,r):u(r,a):i||(r[r.length]=a)}return r}function ni(t,e){return t&&gh(t,e,zl)}function ri(t,e){return t&&vh(t,e,zl)}function oi(t,e){return o(e,function(e){return el(t[e])})}function di(t,e){e=Sr(e,t);for(var n=0,i=e.length;null!=t&&i>n;)t=t[Jo(e[n++])];return n&&n==i?t:Z}function gi(t,e,n){var i=e(t);return gd(t)?i:u(i,n(t))}function bi(t){return null==t?t===Z?ee:Kt:Oc&&Oc in ac(t)?$o(t):Wo(t)}function wi(t,e){return t>e}function _i(t,e){return null!=t&&gc.call(t,e)}function xi(t,e){return null!=t&&e in ac(t)}function ki(t,e,n){return t>=Wc(e,n)&&t<Vc(e,n)}function Si(t,e,n){for(var i=n?a:s,r=t[0].length,o=t.length,u=o,c=nc(o),h=1/0,d=[];u--;){var p=t[u];u&&e&&(p=l(p,C(e))),h=Wc(p.length,h),c[u]=!n&&(e||r>=120&&p.length>=120)?new mn(u&&p):Z}p=t[0];var f=-1,m=c[0];t:for(;++f<r&&d.length<h;){var g=p[f],v=e?e(g):g;if(g=n||0!==g?g:0,!(m?N(m,v):i(d,v,n))){for(u=o;--u;){var y=c[u];if(!(y?N(y,v):i(t[u],v,n)))continue t}m&&m.push(v),d.push(g)}}return d}function $i(t,e,n,i){return ni(t,function(t,r,o){e(i,n(t),r,o)}),i}function Ti(e,n,i){n=Sr(n,e),e=Xo(e,n);var r=null==e?e:e[Jo(_s(n))];return null==r?Z:t(r,e,i)}function Ei(t){return ol(t)&&bi(t)==Bt}function Ci(t){return ol(t)&&bi(t)==re}function Ai(t){return ol(t)&&bi(t)==zt}function Ni(t,e,n,i,r){return t===e?!0:null==t||null==e||!ol(t)&&!ol(e)?t!==t&&e!==e:Di(t,e,n,i,Ni,r)}function Di(t,e,n,i,r,o){var s=gd(t),a=gd(e),l=s?jt:Th(t),u=a?jt:Th(e);l=l==Bt?Xt:l,u=u==Bt?Xt:u;var c=l==Xt,h=u==Xt,d=l==u;if(d&&yd(t)){if(!yd(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new yn),s||kd(t)?po(t,e,n,i,r,o):fo(t,e,l,n,i,r,o);if(!(n&ut)){var p=c&&gc.call(t,"__wrapped__"),f=h&&gc.call(e,"__wrapped__");if(p||f){var m=p?t.value():t,g=f?e.value():e;return o||(o=new yn),r(m,g,n,i,o)}}return d?(o||(o=new yn),mo(t,e,n,i,r,o)):!1}function Pi(t){return ol(t)&&Th(t)==Vt}function Oi(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=ac(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=n[r];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===Z&&!(l in t))return!1}else{var h=new yn;if(i)var d=i(u,c,l,t,e,h);if(!(d===Z?Ni(c,u,ut|ct,i,h):d))return!1}}return!0}function Ii(t){if(!rl(t)||Ro(t))return!1;var e=el(t)?xc:He;return e.test(ts(t))}function Mi(t){return ol(t)&&bi(t)==Qt}function Bi(t){return ol(t)&&Th(t)==Zt}function ji(t){return ol(t)&&il(t.length)&&!!qn[bi(t)]}function Li(t){return"function"==typeof t?t:null==t?Nu:"object"==typeof t?gd(t)?qi(t[0],t[1]):Ui(t):Lu(t)}function Ri(t){if(!zo(t))return qc(t);var e=[];for(var n in ac(t))gc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function zi(t){if(!rl(t))return Vo(t);var e=zo(t),n=[];for(var i in t)("constructor"!=i||!e&&gc.call(t,i))&&n.push(i);return n}function Fi(t,e){return e>t}function Hi(t,e){var n=-1,i=Wa(t)?nc(t.length):[];return fh(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Ui(t){var e=ko(t);return 1==e.length&&e[0][2]?Ho(e[0][0],e[0][1]):function(n){return n===t||Oi(n,t,e)}}function qi(t,e){return Bo(t)&&Fo(e)?Ho(Jo(t),e):function(n){var i=jl(n,t);return i===Z&&i===e?Rl(n,t):Ni(e,i,ut|ct)}}function Vi(t,e,n,i,r){t!==e&&gh(e,function(o,s){if(rl(o))r||(r=new yn),Wi(t,e,s,n,Vi,i,r);else{var a=i?i(H(t,s),o,s+"",t,e,r):Z;a===Z&&(a=o),Cn(t,s,a)}},Fl)}function Wi(t,e,n,i,r,o,s){var a=H(t,n),l=H(e,n),u=s.get(l);if(u)return void Cn(t,n,u);var c=o?o(a,l,n+"",t,e,s):Z,h=c===Z;if(h){var d=gd(l),p=!d&&yd(l),f=!d&&!p&&kd(l);c=l,d||p||f?gd(a)?c=a:Ka(a)?c=Br(a):p?(h=!1,c=Tr(l,!0)):f?(h=!1,c=Dr(l,!0)):c=[]:pl(l)||md(l)?(c=a,md(a)?c=$l(a):(!rl(a)||i&&el(a))&&(c=No(l))):h=!1}h&&(s.set(l,c),r(c,l,i,o,s),s["delete"](l)),Cn(t,n,c)}function Ki(t,e){var n=t.length;if(n)return e+=0>e?n:0,Io(e,n)?t[e]:Z}function Xi(t,e,n){var i=-1;e=l(e.length?e:[Nu],C(_o()));var r=Hi(t,function(t,n,r){var o=l(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return S(r,function(t,e){return Or(t,e,n)})}function Gi(t,e){return Yi(t,e,function(e,n){return Rl(t,n)})}function Yi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=di(t,s);n(a,s)&&sr(o,Sr(s,t),a)}return o}function Qi(t){return function(e){return di(e,t)}}function Zi(t,e,n,i){var r=i?y:v,o=-1,s=e.length,a=t;for(t===e&&(e=Br(e)),n&&(a=l(t,C(n)));++o<s;)for(var u=0,c=e[o],h=n?n(c):c;(u=r(a,h,u,i))>-1;)a!==t&&Nc.call(a,u,1),Nc.call(t,u,1);return t}function Ji(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Io(r)?Nc.call(t,r,1):gr(t,r)}}return t}function tr(t,e){return t+Rc(Gc()*(e-t+1))}function er(t,e,n,i){for(var r=-1,o=Vc(Lc((e-t)/(n||1)),0),s=nc(o);o--;)s[i?o:++r]=t,t+=n;return s}function nr(t,e){var n="";if(!t||1>e||e>At)return n;do e%2&&(n+=t),e=Rc(e/2),e&&(t+=t);while(e);return n}function ir(t,e){return Nh(Ko(t,e,Nu),t+"")}function rr(t){return $n(Jl(t))}function or(t,e){var n=Jl(t);return Zo(n,Ln(e,0,n.length))}function sr(t,e,n,i){if(!rl(t))return t;e=Sr(e,t);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var l=Jo(e[r]),u=n;if(r!=s){var c=a[l];u=i?i(c,l,a):Z,u===Z&&(u=rl(c)?c:Io(e[r+1])?[]:{})}An(a,l,u),a=a[l]}return t}function ar(t){return Zo(Jl(t))}function lr(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=nc(r);++i<r;)o[i]=t[i+e];return o}function ur(t,e){var n;return fh(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function cr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&It>=r){for(;r>i;){var o=i+r>>>1,s=t[o];null!==s&&!gl(s)&&(n?e>=s:e>s)?i=o+1:r=o}return r}return hr(t,e,Nu,n)}function hr(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,s=e!==e,a=null===e,l=gl(e),u=e===Z;o>r;){var c=Rc((r+o)/2),h=n(t[c]),d=h!==Z,p=null===h,f=h===h,m=gl(h);if(s)var g=i||f;else g=u?f&&(i||d):a?f&&d&&(i||!p):l?f&&d&&!p&&(i||!m):p||m?!1:i?e>=h:e>h;g?r=c+1:o=c}return Wc(o,Ot)}function dr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!Va(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function pr(t){return"number"==typeof t?t:gl(t)?Dt:+t}function fr(t){if("string"==typeof t)return t;if(gd(t))return l(t,fr)+"";if(gl(t))return dh?dh.call(t):"";var e=t+"";return"0"==e&&1/t==-Ct?"-0":e}function mr(t,e,n){var i=-1,r=s,o=t.length,l=!0,u=[],c=u;if(n)l=!1,r=a;else if(o>=tt){var h=e?null:xh(t);if(h)return U(h);l=!1,r=N,c=new mn}else c=e?[]:u;t:for(;++i<o;){var d=t[i],p=e?e(d):d;if(d=n||0!==d?d:0,l&&p===p){for(var f=c.length;f--;)if(c[f]===p)continue t;e&&c.push(p),u.push(d)}else r(c,p,n)||(c!==u&&c.push(p),u.push(d))}return u}function gr(t,e){return e=Sr(e,t),t=Xo(t,e),null==t||delete t[Jo(_s(e))]}function vr(t,e,n,i){return sr(t,e,n(di(t,e)),i)}function yr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?lr(t,i?0:o,i?o+1:r):lr(t,i?o+1:0,i?r:o)}function br(t,e){var n=t;return n instanceof Y&&(n=n.value()),c(e,function(t,e){return e.func.apply(e.thisArg,u([t],e.args))},n)}function wr(t,e,n){var i=t.length;if(2>i)return i?mr(t[0]):[];for(var r=-1,o=nc(i);++r<i;)for(var s=t[r],a=-1;++a<i;)a!=r&&(o[r]=Kn(o[r]||s,t[a],e,n));return mr(ei(o,1),e,n)}function _r(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;){var a=o>i?e[i]:Z;n(s,t[i],a)}return s}function xr(t){return Ka(t)?t:[]}function kr(t){return"function"==typeof t?t:Nu}function Sr(t,e){return gd(t)?t:Bo(t,e)?[t]:Dh(El(t))}function $r(t,e,n){var i=t.length;return n=n===Z?i:n,!e&&n>=i?t:lr(t,e,n)}function Tr(t,e){if(e)return t.slice();var n=t.length,i=Tc?Tc(n):new t.constructor(n);return t.copy(i),i}function Er(t){var e=new t.constructor(t.byteLength);return new $c(e).set(new $c(t)),e}function Cr(t,e){var n=e?Er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ar(t){var e=new t.constructor(t.source,Re.exec(t));return e.lastIndex=t.lastIndex,e}function Nr(t){return hh?ac(hh.call(t)):{}}function Dr(t,e){var n=e?Er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Pr(t,e){if(t!==e){var n=t!==Z,i=null===t,r=t===t,o=gl(t),s=e!==Z,a=null===e,l=e===e,u=gl(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||i&&s&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&e>t||u&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!l)return-1}return 0}function Or(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var l=Pr(r[i],o[i]);if(l){if(i>=a)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}function Ir(t,e,n,i){for(var r=-1,o=t.length,s=n.length,a=-1,l=e.length,u=Vc(o-s,0),c=nc(l+u),h=!i;++a<l;)c[a]=e[a];for(;++r<s;)(h||o>r)&&(c[n[r]]=t[r]);for(;u--;)c[a++]=t[r++];return c}function Mr(t,e,n,i){for(var r=-1,o=t.length,s=-1,a=n.length,l=-1,u=e.length,c=Vc(o-a,0),h=nc(c+u),d=!i;++r<c;)h[r]=t[r];for(var p=r;++l<u;)h[p+l]=e[l];for(;++s<a;)(d||o>r)&&(h[p+n[s]]=t[r++]);return h}function Br(t,e){var n=-1,i=t.length;for(e||(e=nc(i));++n<i;)e[n]=t[n];return e}function jr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(n[a],t[a],a,n,t):Z;l===Z&&(l=t[a]),r?In(n,a,l):An(n,a,l)}return n}function Lr(t,e){return jr(t,Sh(t),e)}function Rr(t,e){return jr(t,$h(t),e)}function zr(t,n){return function(i,r){var o=gd(i)?e:Dn,s=n?n():{};return o(i,t,_o(r,2),s)}}function Fr(t){return ir(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:Z,s=r>2?n[2]:Z;for(o=t.length>3&&"function"==typeof o?(r--,o):Z,s&&Mo(n[0],n[1],s)&&(o=3>r?Z:o,r=1),e=ac(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}function Hr(t,e){return function(n,i){if(null==n)return n;if(!Wa(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=ac(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function Ur(t){return function(e,n,i){for(var r=-1,o=ac(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(n(o[l],l,o)===!1)break}return e}}function qr(t,e,n){function i(){var e=this&&this!==ti&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&ht,o=Kr(t);return i}function Vr(t){return function(e){e=El(e);var n=B(e)?X(e):Z,i=n?n[0]:e.charAt(0),r=n?$r(n,1).join(""):e.slice(1);return i[t]()+r}}function Wr(t){return function(e){return c($u(ou(e).replace(Bn,"")),t,"")}}function Kr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ph(t.prototype),i=t.apply(n,e);return rl(i)?i:n}}function Xr(e,n,i){function r(){for(var s=arguments.length,a=nc(s),l=s,u=wo(r);l--;)a[l]=arguments[l];var c=3>s&&a[0]!==u&&a[s-1]!==u?[]:F(a,u);if(s-=c.length,i>s)return oo(e,n,Qr,r.placeholder,Z,a,c,Z,Z,i-s);var h=this&&this!==ti&&this instanceof r?o:e;return t(h,this,a)}var o=Kr(e);return r}function Gr(t){return function(e,n,i){var r=ac(e);if(!Wa(e)){var o=_o(n,3);e=zl(e),n=function(t){return o(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[o?e[s]:s]:Z}}function Yr(t){return go(function(e){var n=e.length,i=n,r=G.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new cc(nt);if(r&&!s&&"wrapper"==bo(o))var s=new G([],!0)}for(i=s?i:n;++i<n;){o=e[i];var a=bo(o),l="wrapper"==a?kh(o):Z;s=l&&Lo(l[0])&&l[1]==(yt|ft|gt|bt)&&!l[4].length&&1==l[9]?s[bo(l[0])].apply(s,l[3]):1==o.length&&Lo(o)?s[a]():s.thru(o)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&gd(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Qr(t,e,n,i,r,o,s,a,l,u){function c(){for(var v=arguments.length,y=nc(v),b=v;b--;)y[b]=arguments[b];if(f)var w=wo(c),_=O(y,w);if(i&&(y=Ir(y,i,r,f)),o&&(y=Mr(y,o,s,f)),v-=_,f&&u>v){var x=F(y,w);return oo(t,e,Qr,c.placeholder,n,y,x,a,l,u-v)}var k=d?n:this,S=p?k[t]:t;return v=y.length,a?y=Go(y,a):m&&v>1&&y.reverse(),h&&v>l&&(y.length=l),this&&this!==ti&&this instanceof c&&(S=g||Kr(S)),S.apply(k,y)}var h=e&yt,d=e&ht,p=e&dt,f=e&(ft|mt),m=e&wt,g=p?Z:Kr(t);return c}function Zr(t,e){return function(n,i){return $i(n,t,e(i),{})}}function Jr(t,e){return function(n,i){var r;if(n===Z&&i===Z)return e;if(n!==Z&&(r=n),i!==Z){if(r===Z)return i;"string"==typeof n||"string"==typeof i?(n=fr(n),i=fr(i)):(n=pr(n),i=pr(i)),r=t(n,i)}return r}}function to(e){return go(function(n){return n=l(n,C(_o())),ir(function(i){var r=this;return e(n,function(e){return t(e,r,i)})})})}function eo(t,e){e=e===Z?" ":fr(e);var n=e.length;if(2>n)return n?nr(e,t):e;var i=nr(e,Lc(t/K(e)));return B(e)?$r(X(i),0,t).join(""):i.slice(0,t)}function no(e,n,i,r){function o(){for(var n=-1,l=arguments.length,u=-1,c=r.length,h=nc(c+l),d=this&&this!==ti&&this instanceof o?a:e;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++n];return t(d,s?i:this,h)}var s=n&ht,a=Kr(e);return o}function io(t){return function(e,n,i){return i&&"number"!=typeof i&&Mo(e,n,i)&&(n=i=Z),e=_l(e),n===Z?(n=e,e=0):n=_l(n),i=i===Z?n>e?1:-1:_l(i),er(e,n,i,t)}}function ro(t){return function(e,n){return("string"!=typeof e||"string"!=typeof n)&&(e=Sl(e),n=Sl(n)),t(e,n)}}function oo(t,e,n,i,r,o,s,a,l,u){var c=e&ft,h=c?s:Z,d=c?Z:s,p=c?o:Z,f=c?Z:o;e|=c?gt:vt,e&=~(c?vt:gt),e&pt||(e&=~(ht|dt));var m=[t,e,r,p,h,f,d,a,l,u],g=n.apply(Z,m);return Lo(t)&&Ch(g,m),g.placeholder=i,Yo(g,t,e)}function so(t){var e=sc[t];return function(t,n){if(t=Sl(t),n=null==n?0:Wc(xl(n),292)){var i=(El(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(El(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function ao(t){return function(e){var n=Th(e);return n==Vt?R(e):n==Zt?q(e):E(e,t(e))}}function lo(t,e,n,i,r,o,s,a){var l=e&dt;if(!l&&"function"!=typeof t)throw new cc(nt);var u=i?i.length:0;if(u||(e&=~(gt|vt),i=r=Z),s=s===Z?s:Vc(xl(s),0),a=a===Z?a:xl(a),u-=r?r.length:0,e&vt){var c=i,h=r;i=r=Z}var d=l?Z:kh(t),p=[t,e,n,i,r,c,h,o,s,a];if(d&&qo(p,d),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],a=p[9]=p[9]===Z?l?0:t.length:Vc(p[9]-u,0),!a&&e&(ft|mt)&&(e&=~(ft|mt)),e&&e!=ht)f=e==ft||e==mt?Xr(t,e,a):e!=gt&&e!=(ht|gt)||r.length?Qr.apply(Z,p):no(t,e,n,i);else var f=qr(t,e,n);var m=d?yh:Ch;return Yo(m(f,p),t,e)}function uo(t,e,n,i){return t===Z||Va(t,pc[n])&&!gc.call(i,n)?e:t}function co(t,e,n,i,r,o){return rl(t)&&rl(e)&&(o.set(e,t),Vi(t,e,Z,co,o),o["delete"](e)),t}function ho(t){return pl(t)?Z:t}function po(t,e,n,i,r,o){var s=n&ut,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,h=!0,p=n&ct?new mn:Z;for(o.set(t,e),o.set(e,t);++c<a;){var f=t[c],m=e[c];if(i)var g=s?i(m,f,c,e,t,o):i(f,m,c,t,e,o);if(g!==Z){if(g)continue;h=!1;break}if(p){if(!d(e,function(t,e){return N(p,e)||f!==t&&!r(f,t,n,i,o)?void 0:p.push(e)})){h=!1;break}}else if(f!==m&&!r(f,m,n,i,o)){h=!1;break}}return o["delete"](t),o["delete"](e),h}function fo(t,e,n,i,r,o,s){switch(n){case oe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case re:return t.byteLength==e.byteLength&&o(new $c(t),new $c(e))?!0:!1;case Rt:case zt:case Wt:return Va(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case Qt:case Jt:return t==e+"";case Vt:var a=R;case Zt:var l=i&ut;if(a||(a=U),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=ct,s.set(t,e);var c=po(a(t),a(e),i,r,o,s);return s["delete"](t),c;case te:if(hh)return hh.call(t)==hh.call(e)}return!1}function mo(t,e,n,i,r,o){var s=n&ut,a=vo(t),l=a.length,u=vo(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in e:gc.call(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var m=s;++h<l;){d=a[h];var g=t[d],v=e[d];if(i)var y=s?i(v,g,d,e,t,o):i(g,v,d,t,e,o);if(!(y===Z?g===v||r(g,v,n,i,o):y)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o["delete"](t),o["delete"](e),f}function go(t){return Nh(Ko(t,Z,ps),t+"")}function vo(t){return gi(t,zl,Sh)}function yo(t){return gi(t,Fl,$h)}function bo(t){for(var e=t.name+"",n=rh[e],i=gc.call(rh,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function wo(t){var e=gc.call(x,"placeholder")?x:t;return e.placeholder}function _o(){var t=x.iteratee||Du;return t=t===Du?Li:t,arguments.length?t(arguments[0],arguments[1]):t}function xo(t,e){var n=t.__data__;return jo(e)?n["string"==typeof e?"string":"hash"]:n.map}function ko(t){for(var e=zl(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Fo(r)]}return e}function So(t,e){var n=M(t,e);return Ii(n)?n:Z}function $o(t){var e=gc.call(t,Oc),n=t[Oc];try{t[Oc]=Z;var i=!0}catch(r){}var o=bc.call(t);return i&&(e?t[Oc]=n:delete t[Oc]),o}function To(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Wc(e,t+s);break;case"takeRight":t=Vc(t,e-s)}}return{start:t,end:e}}function Eo(t){var e=t.match(Ie);return e?e[1].split(Me):[]}function Co(t,e,n){e=Sr(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var s=Jo(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&il(r)&&Io(s,r)&&(gd(t)||md(t)))}function Ao(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&gc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function No(t){return"function"!=typeof t.constructor||zo(t)?{}:ph(Ec(t))}function Do(t,e,n){var i=t.constructor;switch(e){case re:return Er(t);case Rt:case zt:return new i(+t);case oe:return Cr(t,n);case se:case ae:case le:case ue:case ce:case he:case de:case pe:case fe:return Dr(t,n);case Vt:return new i;case Wt:case Jt:return new i(t);case Qt:return Ar(t);case Zt:return new i;case te:return Nr(t)}}function Po(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Oe,"{\n/* [wrapped with "+e+"] */\n")}function Oo(t){return gd(t)||md(t)||!!(Dc&&t&&t[Dc])}function Io(t,e){var n=typeof t;return e=null==e?At:e,!!e&&("number"==n||"symbol"!=n&&qe.test(t))&&t>-1&&t%1==0&&e>t}function Mo(t,e,n){if(!rl(n))return!1;var i=typeof e;return("number"==i?Wa(n)&&Io(e,n.length):"string"==i&&e in n)?Va(n[e],t):!1}function Bo(t,e){if(gd(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||gl(t)?!0:Te.test(t)||!$e.test(t)||null!=e&&t in ac(e)}function jo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Lo(t){var e=bo(t),n=x[e];if("function"!=typeof n||!(e in Y.prototype))return!1;if(t===n)return!0;var i=kh(n);return!!i&&t===i[0]}function Ro(t){return!!yc&&yc in t}function zo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||pc;return t===n}function Fo(t){return t===t&&!rl(t)}function Ho(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==Z||t in ac(n))}}function Uo(t){var e=Da(t,function(t){return n.size===rt&&n.clear(),t}),n=e.cache;return e}function qo(t,e){var n=t[1],i=e[1],r=n|i,o=(ht|dt|yt)>r,s=i==yt&&n==ft||i==yt&&n==bt&&t[7].length<=e[8]||i==(yt|bt)&&e[7].length<=e[8]&&n==ft;if(!o&&!s)return t;i&ht&&(t[2]=e[2],r|=n&ht?0:pt);var a=e[3];if(a){var l=t[3];t[3]=l?Ir(l,a,e[4]):a,t[4]=l?F(t[3],ot):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?Mr(l,a,e[6]):a,t[6]=l?F(t[5],ot):e[6]),a=e[7],a&&(t[7]=a),i&yt&&(t[8]=null==t[8]?e[8]:Wc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Vo(t){var e=[];if(null!=t)for(var n in ac(t))e.push(n);return e}function Wo(t){return bc.call(t)}function Ko(e,n,i){return n=Vc(n===Z?e.length-1:n,0),function(){for(var r=arguments,o=-1,s=Vc(r.length-n,0),a=nc(s);++o<s;)a[o]=r[n+o];o=-1;for(var l=nc(n+1);++o<n;)l[o]=r[o];return l[n]=i(a),t(e,this,l)}}function Xo(t,e){return e.length<2?t:di(t,lr(e,0,-1))}function Go(t,e){for(var n=t.length,i=Wc(e.length,n),r=Br(t);i--;){var o=e[i];t[i]=Io(o,n)?r[o]:Z}return t}function Yo(t,e,n){var i=e+"";return Nh(t,Po(i,es(Eo(i),n)))}function Qo(t){var e=0,n=0;return function(){var i=Kc(),r=St-(i-n);if(n=i,r>0){if(++e>=kt)return arguments[0]}else e=0;return t.apply(Z,arguments)}}function Zo(t,e){var n=-1,i=t.length,r=i-1;for(e=e===Z?i:e;++n<e;){var o=tr(n,r),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function Jo(t){if("string"==typeof t||gl(t))return t;var e=t+"";return"0"==e&&1/t==-Ct?"-0":e}function ts(t){if(null!=t){try{return mc.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function es(t,e){return n(Mt,function(n){var i="_."+n[0];e&n[1]&&!s(t,i)&&t.push(i)}),t.sort()}function ns(t){if(t instanceof Y)return t.clone();var e=new G(t.__wrapped__,t.__chain__);return e.__actions__=Br(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function is(t,e,n){e=(n?Mo(t,e,n):e===Z)?1:Vc(xl(e),0);var i=null==t?0:t.length;if(!i||1>e)return[];for(var r=0,o=0,s=nc(Lc(i/e));i>r;)s[o++]=lr(t,r,r+=e);return s}function rs(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function os(){var t=arguments.length;if(!t)return[];for(var e=nc(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return u(gd(n)?Br(n):[n],ei(e,1))}function ss(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Z?1:xl(e),lr(t,0>e?0:e,i)):[]}function as(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Z?1:xl(e),e=i-e,lr(t,0,0>e?0:e)):[]}function ls(t,e){return t&&t.length?yr(t,_o(e,3),!0,!0):[]}function us(t,e){return t&&t.length?yr(t,_o(e,3),!0):[]}function cs(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Mo(t,e,n)&&(n=0,i=r),Zn(t,e,n,i)):[]}function hs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:xl(n);return 0>r&&(r=Vc(i+r,0)),g(t,_o(e,3),r)}function ds(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==Z&&(r=xl(n),r=0>n?Vc(i+r,0):Wc(r,i-1)),g(t,_o(e,3),r,!0)}function ps(t){var e=null==t?0:t.length;return e?ei(t,1):[]}function fs(t){var e=null==t?0:t.length;return e?ei(t,Ct):[]}function ms(t,e){var n=null==t?0:t.length;return n?(e=e===Z?1:xl(e),ei(t,e)):[]}function gs(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function vs(t){return t&&t.length?t[0]:Z}function ys(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:xl(n);return 0>r&&(r=Vc(i+r,0)),v(t,e,r)}function bs(t){var e=null==t?0:t.length;return e?lr(t,0,-1):[]}function ws(t,e){return null==t?"":Uc.call(t,e)}function _s(t){var e=null==t?0:t.length;return e?t[e-1]:Z}function xs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==Z&&(r=xl(n),r=0>r?Vc(i+r,0):Wc(r,i-1)),e===e?W(t,e,r):g(t,b,r,!0)}function ks(t,e){return t&&t.length?Ki(t,xl(e)):Z}function Ss(t,e){return t&&t.length&&e&&e.length?Zi(t,e):t}function $s(t,e,n){return t&&t.length&&e&&e.length?Zi(t,e,_o(n,2)):t}function Ts(t,e,n){return t&&t.length&&e&&e.length?Zi(t,e,Z,n):t}function Es(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=_o(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return Ji(t,r),n}function Cs(t){return null==t?t:Yc.call(t)}function As(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Mo(t,e,n)?(e=0,n=i):(e=null==e?0:xl(e),n=n===Z?i:xl(n)),lr(t,e,n)):[]}function Ns(t,e){return cr(t,e)}function Ds(t,e,n){return hr(t,e,_o(n,2))}function Ps(t,e){var n=null==t?0:t.length;if(n){var i=cr(t,e);if(n>i&&Va(t[i],e))return i}return-1}function Os(t,e){return cr(t,e,!0)}function Is(t,e,n){return hr(t,e,_o(n,2),!0)}function Ms(t,e){var n=null==t?0:t.length;if(n){var i=cr(t,e,!0)-1;if(Va(t[i],e))return i}return-1}function Bs(t){return t&&t.length?dr(t):[]}function js(t,e){return t&&t.length?dr(t,_o(e,2)):[]}function Ls(t){var e=null==t?0:t.length;return e?lr(t,1,e):[]}function Rs(t,e,n){return t&&t.length?(e=n||e===Z?1:xl(e),lr(t,0,0>e?0:e)):[]}function zs(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Z?1:xl(e),e=i-e,lr(t,0>e?0:e,i)):[]}function Fs(t,e){return t&&t.length?yr(t,_o(e,3),!1,!0):[]}function Hs(t,e){return t&&t.length?yr(t,_o(e,3)):[]}function Us(t){return t&&t.length?mr(t):[]}function qs(t,e){return t&&t.length?mr(t,_o(e,2)):[]}function Vs(t,e){return e="function"==typeof e?e:Z,t&&t.length?mr(t,Z,e):[]}function Ws(t){if(!t||!t.length)return[];var e=0;return t=o(t,function(t){return Ka(t)?(e=Vc(t.length,e),!0):void 0}),T(e,function(e){return l(t,_(e))})}function Ks(e,n){if(!e||!e.length)return[];var i=Ws(e);return null==n?i:l(i,function(e){return t(n,Z,e)})}function Xs(t,e){return _r(t||[],e||[],An)}function Gs(t,e){return _r(t||[],e||[],sr)}function Ys(t){var e=x(t);return e.__chain__=!0,e}function Qs(t,e){return e(t),t}function Zs(t,e){return e(t)}function Js(){return Ys(this)}function ta(){return new G(this.value(),this.__chain__)}function ea(){this.__values__===Z&&(this.__values__=wl(this.value()));var t=this.__index__>=this.__values__.length,e=t?Z:this.__values__[this.__index__++];return{done:t,value:e}}function na(){return this}function ia(t){for(var e,n=this;n instanceof V;){var i=ns(n);i.__index__=0,i.__values__=Z,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function ra(){var t=this.__wrapped__;if(t instanceof Y){var e=t;return this.__actions__.length&&(e=new Y(this)),e=e.reverse(),e.__actions__.push({func:Zs,args:[Cs],thisArg:Z}),new G(e,this.__chain__)}return this.thru(Cs)}function oa(){return br(this.__wrapped__,this.__actions__)}function sa(t,e,n){var i=gd(t)?r:Xn;return n&&Mo(t,e,n)&&(e=Z),i(t,_o(e,3))}function aa(t,e){var n=gd(t)?o:Jn;return n(t,_o(e,3))}function la(t,e){return ei(fa(t,e),1)}function ua(t,e){return ei(fa(t,e),Ct)}function ca(t,e,n){return n=n===Z?1:xl(n),ei(fa(t,e),n)}function ha(t,e){var i=gd(t)?n:fh;return i(t,_o(e,3))}function da(t,e){var n=gd(t)?i:mh;return n(t,_o(e,3))}function pa(t,e,n,i){t=Wa(t)?t:Jl(t),n=n&&!i?xl(n):0;var r=t.length;return 0>n&&(n=Vc(r+n,0)),ml(t)?r>=n&&t.indexOf(e,n)>-1:!!r&&v(t,e,n)>-1}function fa(t,e){var n=gd(t)?l:Hi;return n(t,_o(e,3))}function ma(t,e,n,i){return null==t?[]:(gd(e)||(e=null==e?[]:[e]),n=i?Z:n,gd(n)||(n=null==n?[]:[n]),Xi(t,e,n))}function ga(t,e,n){var i=gd(t)?c:k,r=arguments.length<3;return i(t,_o(e,4),n,r,fh)}function va(t,e,n){var i=gd(t)?h:k,r=arguments.length<3;return i(t,_o(e,4),n,r,mh)}function ya(t,e){var n=gd(t)?o:Jn;return n(t,Pa(_o(e,3)))}function ba(t){var e=gd(t)?$n:rr;return e(t)}function wa(t,e,n){e=(n?Mo(t,e,n):e===Z)?1:xl(e);var i=gd(t)?Tn:or;return i(t,e)}function _a(t){var e=gd(t)?En:ar;return e(t)}function xa(t){if(null==t)return 0;if(Wa(t))return ml(t)?K(t):t.length;var e=Th(t);return e==Vt||e==Zt?t.size:Ri(t).length}function ka(t,e,n){var i=gd(t)?d:ur;return n&&Mo(t,e,n)&&(e=Z),i(t,_o(e,3))}function Sa(t,e){if("function"!=typeof e)throw new cc(nt);return t=xl(t),function(){return--t<1?e.apply(this,arguments):void 0}}function $a(t,e,n){return e=n?Z:e,e=t&&null==e?t.length:e,lo(t,yt,Z,Z,Z,Z,e)}function Ta(t,e){var n;if("function"!=typeof e)throw new cc(nt);return t=xl(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=Z),n}}function Ea(t,e,n){e=n?Z:e;var i=lo(t,ft,Z,Z,Z,Z,Z,e);return i.placeholder=Ea.placeholder,i}function Ca(t,e,n){e=n?Z:e;var i=lo(t,mt,Z,Z,Z,Z,Z,e);return i.placeholder=Ca.placeholder,i}function Aa(t,e,n){function i(e){var n=d,i=p;return d=p=Z,y=e,m=t.apply(i,n)}function r(t){return y=t,g=Ah(a,e),b?i(t):m}function o(t){var n=t-v,i=t-y,r=e-n;return w?Wc(r,f-i):r}function s(t){var n=t-v,i=t-y;return v===Z||n>=e||0>n||w&&i>=f}function a(){var t=rd();return s(t)?l(t):void(g=Ah(a,o(t)))}function l(t){return g=Z,_&&d?i(t):(d=p=Z,m)}function u(){g!==Z&&_h(g),y=0,d=v=p=g=Z}function c(){return g===Z?m:l(rd())}function h(){var t=rd(),n=s(t);if(d=arguments,p=this,v=t,n){if(g===Z)return r(v);if(w)return g=Ah(a,e),i(v)}return g===Z&&(g=Ah(a,e)),m}var d,p,f,m,g,v,y=0,b=!1,w=!1,_=!0;if("function"!=typeof t)throw new cc(nt);return e=Sl(e)||0,rl(n)&&(b=!!n.leading,w="maxWait"in n,f=w?Vc(Sl(n.maxWait)||0,e):f,_="trailing"in n?!!n.trailing:_),h.cancel=u,h.flush=c,h}function Na(t){return lo(t,wt)}function Da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new cc(nt);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Da.Cache||un),n}function Pa(t){if("function"!=typeof t)throw new cc(nt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Oa(t){return Ta(2,t)}function Ia(t,e){if("function"!=typeof t)throw new cc(nt);return e=e===Z?e:xl(e),ir(t,e)}function Ma(e,n){if("function"!=typeof e)throw new cc(nt);return n=null==n?0:Vc(xl(n),0),ir(function(i){var r=i[n],o=$r(i,0,n);return r&&u(o,r),t(e,this,o)})}function Ba(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new cc(nt);return rl(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Aa(t,e,{leading:i,maxWait:e,trailing:r})}function ja(t){return $a(t,1)}function La(t,e){return cd(kr(e),t)}function Ra(){if(!arguments.length)return[];var t=arguments[0];return gd(t)?t:[t]}function za(t){return Rn(t,lt)}function Fa(t,e){return e="function"==typeof e?e:Z,Rn(t,lt,e)}function Ha(t){return Rn(t,st|lt)}function Ua(t,e){return e="function"==typeof e?e:Z,Rn(t,st|lt,e)}function qa(t,e){return null==e||Fn(t,e,zl(e))}function Va(t,e){return t===e||t!==t&&e!==e}function Wa(t){return null!=t&&il(t.length)&&!el(t)}function Ka(t){return ol(t)&&Wa(t)}function Xa(t){return t===!0||t===!1||ol(t)&&bi(t)==Rt}function Ga(t){return ol(t)&&1===t.nodeType&&!pl(t)}function Ya(t){if(null==t)return!0;if(Wa(t)&&(gd(t)||"string"==typeof t||"function"==typeof t.splice||yd(t)||kd(t)||md(t)))return!t.length;var e=Th(t);if(e==Vt||e==Zt)return!t.size;if(zo(t))return!Ri(t).length;for(var n in t)if(gc.call(t,n))return!1;return!0}function Qa(t,e){return Ni(t,e)}function Za(t,e,n){n="function"==typeof n?n:Z;var i=n?n(t,e):Z;return i===Z?Ni(t,e,Z,n):!!i}function Ja(t){if(!ol(t))return!1;var e=bi(t);return e==Ht||e==Ft||"string"==typeof t.message&&"string"==typeof t.name&&!pl(t)}function tl(t){return"number"==typeof t&&Hc(t)}function el(t){if(!rl(t))return!1;var e=bi(t);return e==Ut||e==qt||e==Lt||e==Yt}function nl(t){return"number"==typeof t&&t==xl(t)}function il(t){return"number"==typeof t&&t>-1&&t%1==0&&At>=t}function rl(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ol(t){return null!=t&&"object"==typeof t}function sl(t,e){return t===e||Oi(t,e,ko(e))}function al(t,e,n){return n="function"==typeof n?n:Z,Oi(t,e,ko(e),n)}function ll(t){return dl(t)&&t!=+t}function ul(t){if(Eh(t))throw new rc(et);return Ii(t)}function cl(t){return null===t}function hl(t){return null==t}function dl(t){return"number"==typeof t||ol(t)&&bi(t)==Wt}function pl(t){if(!ol(t)||bi(t)!=Xt)return!1;var e=Ec(t);if(null===e)return!0;var n=gc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&mc.call(n)==wc}function fl(t){return nl(t)&&t>=-At&&At>=t}function ml(t){return"string"==typeof t||!gd(t)&&ol(t)&&bi(t)==Jt}function gl(t){return"symbol"==typeof t||ol(t)&&bi(t)==te}function vl(t){return t===Z}function yl(t){return ol(t)&&Th(t)==ne}function bl(t){return ol(t)&&bi(t)==ie}function wl(t){if(!t)return[];if(Wa(t))return ml(t)?X(t):Br(t);if(Pc&&t[Pc])return L(t[Pc]());var e=Th(t),n=e==Vt?R:e==Zt?U:Jl;return n(t)}function _l(t){if(!t)return 0===t?t:0;if(t=Sl(t),t===Ct||t===-Ct){var e=0>t?-1:1;return e*Nt}return t===t?t:0}function xl(t){var e=_l(t),n=e%1;return e===e?n?e-n:e:0}function kl(t){return t?Ln(xl(t),0,Pt):0}function Sl(t){if("number"==typeof t)return t;if(gl(t))return Dt;if(rl(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=rl(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ne,"");var n=Fe.test(t);return n||Ue.test(t)?Qn(t.slice(2),n?2:8):ze.test(t)?Dt:+t}function $l(t){return jr(t,Fl(t))}function Tl(t){return t?Ln(xl(t),-At,At):0===t?t:0}function El(t){return null==t?"":fr(t)}function Cl(t,e){var n=ph(t);return null==e?n:Pn(n,e)}function Al(t,e){return m(t,_o(e,3),ni)}function Nl(t,e){return m(t,_o(e,3),ri)}function Dl(t,e){return null==t?t:gh(t,_o(e,3),Fl)}function Pl(t,e){return null==t?t:vh(t,_o(e,3),Fl)}function Ol(t,e){return t&&ni(t,_o(e,3))}function Il(t,e){return t&&ri(t,_o(e,3))}function Ml(t){return null==t?[]:oi(t,zl(t))}function Bl(t){return null==t?[]:oi(t,Fl(t))}function jl(t,e,n){var i=null==t?Z:di(t,e);return i===Z?n:i}function Ll(t,e){return null!=t&&Co(t,e,_i)}function Rl(t,e){return null!=t&&Co(t,e,xi)}function zl(t){return Wa(t)?Sn(t):Ri(t)}function Fl(t){return Wa(t)?Sn(t,!0):zi(t)}function Hl(t,e){var n={};return e=_o(e,3),ni(t,function(t,i,r){In(n,e(t,i,r),t)}),n}function Ul(t,e){var n={};return e=_o(e,3),ni(t,function(t,i,r){In(n,i,e(t,i,r))}),n}function ql(t,e){return Vl(t,Pa(_o(e)))}function Vl(t,e){if(null==t)return{};var n=l(yo(t),function(t){return[t]});return e=_o(e),Yi(t,n,function(t,n){
return e(t,n[0])})}function Wl(t,e,n){e=Sr(e,t);var i=-1,r=e.length;for(r||(r=1,t=Z);++i<r;){var o=null==t?Z:t[Jo(e[i])];o===Z&&(i=r,o=n),t=el(o)?o.call(t):o}return t}function Kl(t,e,n){return null==t?t:sr(t,e,n)}function Xl(t,e,n,i){return i="function"==typeof i?i:Z,null==t?t:sr(t,e,n,i)}function Gl(t,e,i){var r=gd(t),o=r||yd(t)||kd(t);if(e=_o(e,4),null==i){var s=t&&t.constructor;i=o?r?new s:[]:rl(t)&&el(s)?ph(Ec(t)):{}}return(o?n:ni)(t,function(t,n,r){return e(i,t,n,r)}),i}function Yl(t,e){return null==t?!0:gr(t,e)}function Ql(t,e,n){return null==t?t:vr(t,e,kr(n))}function Zl(t,e,n,i){return i="function"==typeof i?i:Z,null==t?t:vr(t,e,kr(n),i)}function Jl(t){return null==t?[]:A(t,zl(t))}function tu(t){return null==t?[]:A(t,Fl(t))}function eu(t,e,n){return n===Z&&(n=e,e=Z),n!==Z&&(n=Sl(n),n=n===n?n:0),e!==Z&&(e=Sl(e),e=e===e?e:0),Ln(Sl(t),e,n)}function nu(t,e,n){return e=_l(e),n===Z?(n=e,e=0):n=_l(n),t=Sl(t),ki(t,e,n)}function iu(t,e,n){if(n&&"boolean"!=typeof n&&Mo(t,e,n)&&(e=n=Z),n===Z&&("boolean"==typeof e?(n=e,e=Z):"boolean"==typeof t&&(n=t,t=Z)),t===Z&&e===Z?(t=0,e=1):(t=_l(t),e===Z?(e=t,t=0):e=_l(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Gc();return Wc(t+r*(e-t+Yn("1e-"+((r+"").length-1))),e)}return tr(t,e)}function ru(t){return Gd(El(t).toLowerCase())}function ou(t){return t=El(t),t&&t.replace(Ve,pi).replace(jn,"")}function su(t,e,n){t=El(t),e=fr(e);var i=t.length;n=n===Z?i:Ln(xl(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function au(t){return t=El(t),t&&_e.test(t)?t.replace(be,fi):t}function lu(t){return t=El(t),t&&Ae.test(t)?t.replace(Ce,"\\$&"):t}function uu(t,e,n){t=El(t),e=xl(e);var i=e?K(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return eo(Rc(r),n)+t+eo(Lc(r),n)}function cu(t,e,n){t=El(t),e=xl(e);var i=e?K(t):0;return e&&e>i?t+eo(e-i,n):t}function hu(t,e,n){t=El(t),e=xl(e);var i=e?K(t):0;return e&&e>i?eo(e-i,n)+t:t}function du(t,e,n){return n||null==e?e=0:e&&(e=+e),Xc(El(t).replace(De,""),e||0)}function pu(t,e,n){return e=(n?Mo(t,e,n):e===Z)?1:xl(e),nr(El(t),e)}function fu(){var t=arguments,e=El(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function mu(t,e,n){return n&&"number"!=typeof n&&Mo(t,e,n)&&(e=n=Z),(n=n===Z?Pt:n>>>0)?(t=El(t),t&&("string"==typeof e||null!=e&&!_d(e))&&(e=fr(e),!e&&B(t))?$r(X(t),0,n):t.split(e,n)):[]}function gu(t,e,n){return t=El(t),n=null==n?0:Ln(xl(n),0,t.length),e=fr(e),t.slice(n,n+e.length)==e}function vu(t,e,n){var i=x.templateSettings;n&&Mo(t,e,n)&&(e=Z),t=El(t),e=Cd({},e,i,uo);var r,o,s=Cd({},e.imports,i.imports,uo),a=zl(s),l=A(s,a),u=0,c=e.interpolate||We,h="__p += '",d=lc((e.escape||We).source+"|"+c.source+"|"+(c===Se?Le:We).source+"|"+(e.evaluate||We).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Un+"]")+"\n";t.replace(d,function(e,n,i,s,a,l){return i||(i=s),h+=t.slice(u,l).replace(Ke,I),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),h+="';\n";var f=e.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(me,""):h).replace(ge,"$1").replace(ve,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Yd(function(){return oc(a,p+"return "+h).apply(Z,l)});if(m.source=h,Ja(m))throw m;return m}function yu(t){return El(t).toLowerCase()}function bu(t){return El(t).toUpperCase()}function wu(t,e,n){if(t=El(t),t&&(n||e===Z))return t.replace(Ne,"");if(!t||!(e=fr(e)))return t;var i=X(t),r=X(e),o=D(i,r),s=P(i,r)+1;return $r(i,o,s).join("")}function _u(t,e,n){if(t=El(t),t&&(n||e===Z))return t.replace(Pe,"");if(!t||!(e=fr(e)))return t;var i=X(t),r=P(i,X(e))+1;return $r(i,0,r).join("")}function xu(t,e,n){if(t=El(t),t&&(n||e===Z))return t.replace(De,"");if(!t||!(e=fr(e)))return t;var i=X(t),r=D(i,X(e));return $r(i,r).join("")}function ku(t,e){var n=_t,i=xt;if(rl(e)){var r="separator"in e?e.separator:r;n="length"in e?xl(e.length):n,i="omission"in e?fr(e.omission):i}t=El(t);var o=t.length;if(B(t)){var s=X(t);o=s.length}if(n>=o)return t;var a=n-K(i);if(1>a)return i;var l=s?$r(s,0,a).join(""):t.slice(0,a);if(r===Z)return l+i;if(s&&(a+=l.length-a),_d(r)){if(t.slice(a).search(r)){var u,c=l;for(r.global||(r=lc(r.source,El(Re.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var h=u.index;l=l.slice(0,h===Z?a:h)}}else if(t.indexOf(fr(r),a)!=a){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i}function Su(t){return t=El(t),t&&we.test(t)?t.replace(ye,mi):t}function $u(t,e,n){return t=El(t),e=n?Z:e,e===Z?j(t)?Q(t):f(t):t.match(e)||[]}function Tu(e){var n=null==e?0:e.length,i=_o();return e=n?l(e,function(t){if("function"!=typeof t[1])throw new cc(nt);return[i(t[0]),t[1]]}):[],ir(function(i){for(var r=-1;++r<n;){var o=e[r];if(t(o[0],this,i))return t(o[1],this,i)}})}function Eu(t){return zn(Rn(t,st))}function Cu(t){return function(){return t}}function Au(t,e){return null==t||t!==t?e:t}function Nu(t){return t}function Du(t){return Li("function"==typeof t?t:Rn(t,st))}function Pu(t){return Ui(Rn(t,st))}function Ou(t,e){return qi(t,Rn(e,st))}function Iu(t,e,i){var r=zl(e),o=oi(e,r);null!=i||rl(e)&&(o.length||!r.length)||(i=e,e=t,t=this,o=oi(e,zl(e)));var s=!(rl(i)&&"chain"in i&&!i.chain),a=el(t);return n(o,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),r=n.__actions__=Br(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,u([this.value()],arguments))})}),t}function Mu(){return ti._===this&&(ti._=_c),this}function Bu(){}function ju(t){return t=xl(t),ir(function(e){return Ki(e,t)})}function Lu(t){return Bo(t)?_(Jo(t)):Qi(t)}function Ru(t){return function(e){return null==t?Z:di(t,e)}}function zu(){return[]}function Fu(){return!1}function Hu(){return{}}function Uu(){return""}function qu(){return!0}function Vu(t,e){if(t=xl(t),1>t||t>At)return[];var n=Pt,i=Wc(t,Pt);e=_o(e),t-=Pt;for(var r=T(i,e);++n<t;)e(n);return r}function Wu(t){return gd(t)?l(t,Jo):gl(t)?[t]:Br(Dh(El(t)))}function Ku(t){var e=++vc;return El(t)+e}function Xu(t){return t&&t.length?Gn(t,Nu,wi):Z}function Gu(t,e){return t&&t.length?Gn(t,_o(e,2),wi):Z}function Yu(t){return w(t,Nu)}function Qu(t,e){return w(t,_o(e,2))}function Zu(t){return t&&t.length?Gn(t,Nu,Fi):Z}function Ju(t,e){return t&&t.length?Gn(t,_o(e,2),Fi):Z}function tc(t){return t&&t.length?$(t,Nu):0}function ec(t,e){return t&&t.length?$(t,_o(e,2)):0}p=null==p?ti:vi.defaults(ti.Object(),p,vi.pick(ti,Hn));var nc=p.Array,ic=p.Date,rc=p.Error,oc=p.Function,sc=p.Math,ac=p.Object,lc=p.RegExp,uc=p.String,cc=p.TypeError,hc=nc.prototype,dc=oc.prototype,pc=ac.prototype,fc=p["__core-js_shared__"],mc=dc.toString,gc=pc.hasOwnProperty,vc=0,yc=function(){var t=/[^.]+$/.exec(fc&&fc.keys&&fc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),bc=pc.toString,wc=mc.call(ac),_c=ti._,xc=lc("^"+mc.call(gc).replace(Ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kc=ii?p.Buffer:Z,Sc=p.Symbol,$c=p.Uint8Array,Tc=kc?kc.allocUnsafe:Z,Ec=z(ac.getPrototypeOf,ac),Cc=ac.create,Ac=pc.propertyIsEnumerable,Nc=hc.splice,Dc=Sc?Sc.isConcatSpreadable:Z,Pc=Sc?Sc.iterator:Z,Oc=Sc?Sc.toStringTag:Z,Ic=function(){try{var t=So(ac,"defineProperty");return t({},"",{}),t}catch(e){}}(),Mc=p.clearTimeout!==ti.clearTimeout&&p.clearTimeout,Bc=ic&&ic.now!==ti.Date.now&&ic.now,jc=p.setTimeout!==ti.setTimeout&&p.setTimeout,Lc=sc.ceil,Rc=sc.floor,zc=ac.getOwnPropertySymbols,Fc=kc?kc.isBuffer:Z,Hc=p.isFinite,Uc=hc.join,qc=z(ac.keys,ac),Vc=sc.max,Wc=sc.min,Kc=ic.now,Xc=p.parseInt,Gc=sc.random,Yc=hc.reverse,Qc=So(p,"DataView"),Zc=So(p,"Map"),Jc=So(p,"Promise"),th=So(p,"Set"),eh=So(p,"WeakMap"),nh=So(ac,"create"),ih=eh&&new eh,rh={},oh=ts(Qc),sh=ts(Zc),ah=ts(Jc),lh=ts(th),uh=ts(eh),ch=Sc?Sc.prototype:Z,hh=ch?ch.valueOf:Z,dh=ch?ch.toString:Z,ph=function(){function t(){}return function(e){if(!rl(e))return{};if(Cc)return Cc(e);t.prototype=e;var n=new t;return t.prototype=Z,n}}();x.templateSettings={escape:xe,evaluate:ke,interpolate:Se,variable:"",imports:{_:x}},x.prototype=V.prototype,x.prototype.constructor=x,G.prototype=ph(V.prototype),G.prototype.constructor=G,Y.prototype=ph(V.prototype),Y.prototype.constructor=Y,Ye.prototype.clear=Qe,Ye.prototype["delete"]=Ze,Ye.prototype.get=Je,Ye.prototype.has=tn,Ye.prototype.set=en,nn.prototype.clear=rn,nn.prototype["delete"]=on,nn.prototype.get=sn,nn.prototype.has=an,nn.prototype.set=ln,un.prototype.clear=cn,un.prototype["delete"]=hn,un.prototype.get=dn,un.prototype.has=pn,un.prototype.set=fn,mn.prototype.add=mn.prototype.push=gn,mn.prototype.has=vn,yn.prototype.clear=bn,yn.prototype["delete"]=wn,yn.prototype.get=_n,yn.prototype.has=xn,yn.prototype.set=kn;var fh=Hr(ni),mh=Hr(ri,!0),gh=Ur(),vh=Ur(!0),yh=ih?function(t,e){return ih.set(t,e),t}:Nu,bh=Ic?function(t,e){return Ic(t,"toString",{configurable:!0,enumerable:!1,value:Cu(e),writable:!0})}:Nu,wh=ir,_h=Mc||function(t){return ti.clearTimeout(t)},xh=th&&1/U(new th([,-0]))[1]==Ct?function(t){return new th(t)}:Bu,kh=ih?function(t){return ih.get(t)}:Bu,Sh=zc?function(t){return null==t?[]:(t=ac(t),o(zc(t),function(e){return Ac.call(t,e)}))}:zu,$h=zc?function(t){for(var e=[];t;)u(e,Sh(t)),t=Ec(t);return e}:zu,Th=bi;(Qc&&Th(new Qc(new ArrayBuffer(1)))!=oe||Zc&&Th(new Zc)!=Vt||Jc&&Th(Jc.resolve())!=Gt||th&&Th(new th)!=Zt||eh&&Th(new eh)!=ne)&&(Th=function(t){var e=bi(t),n=e==Xt?t.constructor:Z,i=n?ts(n):"";if(i)switch(i){case oh:return oe;case sh:return Vt;case ah:return Gt;case lh:return Zt;case uh:return ne}return e});var Eh=fc?el:Fu,Ch=Qo(yh),Ah=jc||function(t,e){return ti.setTimeout(t,e)},Nh=Qo(bh),Dh=Uo(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ee,function(t,n,i,r){e.push(i?r.replace(je,"$1"):n||t)}),e}),Ph=ir(function(t,e){return Ka(t)?Kn(t,ei(e,1,Ka,!0)):[]}),Oh=ir(function(t,e){var n=_s(e);return Ka(n)&&(n=Z),Ka(t)?Kn(t,ei(e,1,Ka,!0),_o(n,2)):[]}),Ih=ir(function(t,e){var n=_s(e);return Ka(n)&&(n=Z),Ka(t)?Kn(t,ei(e,1,Ka,!0),Z,n):[]}),Mh=ir(function(t){var e=l(t,xr);return e.length&&e[0]===t[0]?Si(e):[]}),Bh=ir(function(t){var e=_s(t),n=l(t,xr);return e===_s(n)?e=Z:n.pop(),n.length&&n[0]===t[0]?Si(n,_o(e,2)):[]}),jh=ir(function(t){var e=_s(t),n=l(t,xr);return e="function"==typeof e?e:Z,e&&n.pop(),n.length&&n[0]===t[0]?Si(n,Z,e):[]}),Lh=ir(Ss),Rh=go(function(t,e){var n=null==t?0:t.length,i=Mn(t,e);return Ji(t,l(e,function(t){return Io(t,n)?+t:t}).sort(Pr)),i}),zh=ir(function(t){return mr(ei(t,1,Ka,!0))}),Fh=ir(function(t){var e=_s(t);return Ka(e)&&(e=Z),mr(ei(t,1,Ka,!0),_o(e,2))}),Hh=ir(function(t){var e=_s(t);return e="function"==typeof e?e:Z,mr(ei(t,1,Ka,!0),Z,e)}),Uh=ir(function(t,e){return Ka(t)?Kn(t,e):[]}),qh=ir(function(t){return wr(o(t,Ka))}),Vh=ir(function(t){var e=_s(t);return Ka(e)&&(e=Z),wr(o(t,Ka),_o(e,2))}),Wh=ir(function(t){var e=_s(t);return e="function"==typeof e?e:Z,wr(o(t,Ka),Z,e)}),Kh=ir(Ws),Xh=ir(function(t){var e=t.length,n=e>1?t[e-1]:Z;return n="function"==typeof n?(t.pop(),n):Z,Ks(t,n)}),Gh=go(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Mn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Y&&Io(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Zs,args:[r],thisArg:Z}),new G(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Z),t})):this.thru(r)}),Yh=zr(function(t,e,n){gc.call(t,n)?++t[n]:In(t,n,1)}),Qh=Gr(hs),Zh=Gr(ds),Jh=zr(function(t,e,n){gc.call(t,n)?t[n].push(e):In(t,n,[e])}),td=ir(function(e,n,i){var r=-1,o="function"==typeof n,s=Wa(e)?nc(e.length):[];return fh(e,function(e){s[++r]=o?t(n,e,i):Ti(e,n,i)}),s}),ed=zr(function(t,e,n){In(t,n,e)}),nd=zr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),id=ir(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Mo(t,e[0],e[1])?e=[]:n>2&&Mo(e[0],e[1],e[2])&&(e=[e[0]]),Xi(t,ei(e,1),[])}),rd=Bc||function(){return ti.Date.now()},od=ir(function(t,e,n){var i=ht;if(n.length){var r=F(n,wo(od));i|=gt}return lo(t,i,e,n,r)}),sd=ir(function(t,e,n){var i=ht|dt;if(n.length){var r=F(n,wo(sd));i|=gt}return lo(e,i,t,n,r)}),ad=ir(function(t,e){return Wn(t,1,e)}),ld=ir(function(t,e,n){return Wn(t,Sl(e)||0,n)});Da.Cache=un;var ud=wh(function(e,n){n=1==n.length&&gd(n[0])?l(n[0],C(_o())):l(ei(n,1),C(_o()));var i=n.length;return ir(function(r){for(var o=-1,s=Wc(r.length,i);++o<s;)r[o]=n[o].call(this,r[o]);return t(e,this,r)})}),cd=ir(function(t,e){var n=F(e,wo(cd));return lo(t,gt,Z,e,n)}),hd=ir(function(t,e){var n=F(e,wo(hd));return lo(t,vt,Z,e,n)}),dd=go(function(t,e){return lo(t,bt,Z,Z,Z,e)}),pd=ro(wi),fd=ro(function(t,e){return t>=e}),md=Ei(function(){return arguments}())?Ei:function(t){return ol(t)&&gc.call(t,"callee")&&!Ac.call(t,"callee")},gd=nc.isArray,vd=si?C(si):Ci,yd=Fc||Fu,bd=ai?C(ai):Ai,wd=li?C(li):Pi,_d=ui?C(ui):Mi,xd=ci?C(ci):Bi,kd=hi?C(hi):ji,Sd=ro(Fi),$d=ro(function(t,e){return e>=t}),Td=Fr(function(t,e){if(zo(e)||Wa(e))return void jr(e,zl(e),t);for(var n in e)gc.call(e,n)&&An(t,n,e[n])}),Ed=Fr(function(t,e){jr(e,Fl(e),t)}),Cd=Fr(function(t,e,n,i){jr(e,Fl(e),t,i)}),Ad=Fr(function(t,e,n,i){jr(e,zl(e),t,i)}),Nd=go(Mn),Dd=ir(function(t,e){t=ac(t);var n=-1,i=e.length,r=i>2?e[2]:Z;for(r&&Mo(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],s=Fl(o),a=-1,l=s.length;++a<l;){var u=s[a],c=t[u];(c===Z||Va(c,pc[u])&&!gc.call(t,u))&&(t[u]=o[u])}return t}),Pd=ir(function(e){return e.push(Z,co),t(jd,Z,e)}),Od=Zr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=bc.call(e)),t[e]=n},Cu(Nu)),Id=Zr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=bc.call(e)),gc.call(t,e)?t[e].push(n):t[e]=[n]},_o),Md=ir(Ti),Bd=Fr(function(t,e,n){Vi(t,e,n)}),jd=Fr(function(t,e,n,i){Vi(t,e,n,i)}),Ld=go(function(t,e){var n={};if(null==t)return n;var i=!1;e=l(e,function(e){return e=Sr(e,t),i||(i=e.length>1),e}),jr(t,yo(t),n),i&&(n=Rn(n,st|at|lt,ho));for(var r=e.length;r--;)gr(n,e[r]);return n}),Rd=go(function(t,e){return null==t?{}:Gi(t,e)}),zd=ao(zl),Fd=ao(Fl),Hd=Wr(function(t,e,n){return e=e.toLowerCase(),t+(n?ru(e):e)}),Ud=Wr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qd=Wr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Vd=Vr("toLowerCase"),Wd=Wr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Kd=Wr(function(t,e,n){return t+(n?" ":"")+Gd(e)}),Xd=Wr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Gd=Vr("toUpperCase"),Yd=ir(function(e,n){try{return t(e,Z,n)}catch(i){return Ja(i)?i:new rc(i)}}),Qd=go(function(t,e){return n(e,function(e){e=Jo(e),In(t,e,od(t[e],t))}),t}),Zd=Yr(),Jd=Yr(!0),tp=ir(function(t,e){return function(n){return Ti(n,t,e)}}),ep=ir(function(t,e){return function(n){return Ti(t,n,e)}}),np=to(l),ip=to(r),rp=to(d),op=io(),sp=io(!0),ap=Jr(function(t,e){return t+e},0),lp=so("ceil"),up=Jr(function(t,e){return t/e},1),cp=so("floor"),hp=Jr(function(t,e){return t*e},1),dp=so("round"),pp=Jr(function(t,e){return t-e},0);return x.after=Sa,x.ary=$a,x.assign=Td,x.assignIn=Ed,x.assignInWith=Cd,x.assignWith=Ad,x.at=Nd,x.before=Ta,x.bind=od,x.bindAll=Qd,x.bindKey=sd,x.castArray=Ra,x.chain=Ys,x.chunk=is,x.compact=rs,x.concat=os,x.cond=Tu,x.conforms=Eu,x.constant=Cu,x.countBy=Yh,x.create=Cl,x.curry=Ea,x.curryRight=Ca,x.debounce=Aa,x.defaults=Dd,x.defaultsDeep=Pd,x.defer=ad,x.delay=ld,x.difference=Ph,x.differenceBy=Oh,x.differenceWith=Ih,x.drop=ss,x.dropRight=as,x.dropRightWhile=ls,x.dropWhile=us,x.fill=cs,x.filter=aa,x.flatMap=la,x.flatMapDeep=ua,x.flatMapDepth=ca,x.flatten=ps,x.flattenDeep=fs,x.flattenDepth=ms,x.flip=Na,x.flow=Zd,x.flowRight=Jd,x.fromPairs=gs,x.functions=Ml,x.functionsIn=Bl,x.groupBy=Jh,x.initial=bs,x.intersection=Mh,x.intersectionBy=Bh,x.intersectionWith=jh,x.invert=Od,x.invertBy=Id,x.invokeMap=td,x.iteratee=Du,x.keyBy=ed,x.keys=zl,x.keysIn=Fl,x.map=fa,x.mapKeys=Hl,x.mapValues=Ul,x.matches=Pu,x.matchesProperty=Ou,x.memoize=Da,x.merge=Bd,x.mergeWith=jd,x.method=tp,x.methodOf=ep,x.mixin=Iu,x.negate=Pa,x.nthArg=ju,x.omit=Ld,x.omitBy=ql,x.once=Oa,x.orderBy=ma,x.over=np,x.overArgs=ud,x.overEvery=ip,x.overSome=rp,x.partial=cd,x.partialRight=hd,x.partition=nd,x.pick=Rd,x.pickBy=Vl,x.property=Lu,x.propertyOf=Ru,x.pull=Lh,x.pullAll=Ss,x.pullAllBy=$s,x.pullAllWith=Ts,x.pullAt=Rh,x.range=op,x.rangeRight=sp,x.rearg=dd,x.reject=ya,x.remove=Es,x.rest=Ia,x.reverse=Cs,x.sampleSize=wa,x.set=Kl,x.setWith=Xl,x.shuffle=_a,x.slice=As,x.sortBy=id,x.sortedUniq=Bs,x.sortedUniqBy=js,x.split=mu,x.spread=Ma,x.tail=Ls,x.take=Rs,x.takeRight=zs,x.takeRightWhile=Fs,x.takeWhile=Hs,x.tap=Qs,x.throttle=Ba,x.thru=Zs,x.toArray=wl,x.toPairs=zd,x.toPairsIn=Fd,x.toPath=Wu,x.toPlainObject=$l,x.transform=Gl,x.unary=ja,x.union=zh,x.unionBy=Fh,x.unionWith=Hh,x.uniq=Us,x.uniqBy=qs,x.uniqWith=Vs,x.unset=Yl,x.unzip=Ws,x.unzipWith=Ks,x.update=Ql,x.updateWith=Zl,x.values=Jl,x.valuesIn=tu,x.without=Uh,x.words=$u,x.wrap=La,x.xor=qh,x.xorBy=Vh,x.xorWith=Wh,x.zip=Kh,x.zipObject=Xs,x.zipObjectDeep=Gs,x.zipWith=Xh,x.entries=zd,x.entriesIn=Fd,x.extend=Ed,x.extendWith=Cd,Iu(x,x),x.add=ap,x.attempt=Yd,x.camelCase=Hd,x.capitalize=ru,x.ceil=lp,x.clamp=eu,x.clone=za,x.cloneDeep=Ha,x.cloneDeepWith=Ua,x.cloneWith=Fa,x.conformsTo=qa,x.deburr=ou,x.defaultTo=Au,x.divide=up,x.endsWith=su,x.eq=Va,x.escape=au,x.escapeRegExp=lu,x.every=sa,x.find=Qh,x.findIndex=hs,x.findKey=Al,x.findLast=Zh,x.findLastIndex=ds,x.findLastKey=Nl,x.floor=cp,x.forEach=ha,x.forEachRight=da,x.forIn=Dl,x.forInRight=Pl,x.forOwn=Ol,x.forOwnRight=Il,x.get=jl,x.gt=pd,x.gte=fd,x.has=Ll,x.hasIn=Rl,x.head=vs,x.identity=Nu,x.includes=pa,x.indexOf=ys,x.inRange=nu,x.invoke=Md,x.isArguments=md,x.isArray=gd,x.isArrayBuffer=vd,x.isArrayLike=Wa,x.isArrayLikeObject=Ka,x.isBoolean=Xa,x.isBuffer=yd,x.isDate=bd,x.isElement=Ga,x.isEmpty=Ya,x.isEqual=Qa,x.isEqualWith=Za,x.isError=Ja,x.isFinite=tl,x.isFunction=el,x.isInteger=nl,x.isLength=il,x.isMap=wd,x.isMatch=sl,x.isMatchWith=al,x.isNaN=ll,x.isNative=ul,x.isNil=hl,x.isNull=cl,x.isNumber=dl,x.isObject=rl,x.isObjectLike=ol,x.isPlainObject=pl,x.isRegExp=_d,x.isSafeInteger=fl,x.isSet=xd,x.isString=ml,x.isSymbol=gl,x.isTypedArray=kd,x.isUndefined=vl,x.isWeakMap=yl,x.isWeakSet=bl,x.join=ws,x.kebabCase=Ud,x.last=_s,x.lastIndexOf=xs,x.lowerCase=qd,x.lowerFirst=Vd,x.lt=Sd,x.lte=$d,x.max=Xu,x.maxBy=Gu,x.mean=Yu,x.meanBy=Qu,x.min=Zu,x.minBy=Ju,x.stubArray=zu,x.stubFalse=Fu,x.stubObject=Hu,x.stubString=Uu,x.stubTrue=qu,x.multiply=hp,x.nth=ks,x.noConflict=Mu,x.noop=Bu,x.now=rd,x.pad=uu,x.padEnd=cu,x.padStart=hu,x.parseInt=du,x.random=iu,x.reduce=ga,x.reduceRight=va,x.repeat=pu,x.replace=fu,x.result=Wl,x.round=dp,x.runInContext=yi,x.sample=ba,x.size=xa,x.snakeCase=Wd,x.some=ka,x.sortedIndex=Ns,x.sortedIndexBy=Ds,x.sortedIndexOf=Ps,x.sortedLastIndex=Os,x.sortedLastIndexBy=Is,x.sortedLastIndexOf=Ms,x.startCase=Kd,x.startsWith=gu,x.subtract=pp,x.sum=tc,x.sumBy=ec,x.template=vu,x.times=Vu,x.toFinite=_l,x.toInteger=xl,x.toLength=kl,x.toLower=yu,x.toNumber=Sl,x.toSafeInteger=Tl,x.toString=El,x.toUpper=bu,x.trim=wu,x.trimEnd=_u,x.trimStart=xu,x.truncate=ku,x.unescape=Su,x.uniqueId=Ku,x.upperCase=Xd,x.upperFirst=Gd,x.each=ha,x.eachRight=da,x.first=vs,Iu(x,function(){var t={};return ni(x,function(e,n){gc.call(x.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),x.VERSION=J,n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){x[t].placeholder=x}),n(["drop","take"],function(t,e){Y.prototype[t]=function(n){n=n===Z?1:Vc(xl(n),0);var i=this.__filtered__&&!e?new Y(this):this.clone();return i.__filtered__?i.__takeCount__=Wc(n,i.__takeCount__):i.__views__.push({size:Wc(n,Pt),type:t+(i.__dir__<0?"Right":"")}),i},Y.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),n(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==$t||n==Et;Y.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:_o(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),n(["head","last"],function(t,e){var n="take"+(e?"Right":"");Y.prototype[t]=function(){return this[n](1).value()[0]}}),n(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Y.prototype[t]=function(){return this.__filtered__?new Y(this):this[n](1)}}),Y.prototype.compact=function(){return this.filter(Nu)},Y.prototype.find=function(t){return this.filter(t).head()},Y.prototype.findLast=function(t){return this.reverse().find(t)},Y.prototype.invokeMap=ir(function(t,e){return"function"==typeof t?new Y(this):this.map(function(n){return Ti(n,t,e)})}),Y.prototype.reject=function(t){return this.filter(Pa(_o(t)))},Y.prototype.slice=function(t,e){t=xl(t);var n=this;return n.__filtered__&&(t>0||0>e)?new Y(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Z&&(e=xl(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},Y.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Y.prototype.toArray=function(){return this.take(Pt)},ni(Y.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=x[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(x.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,a=e instanceof Y,l=s[0],c=a||gd(e),h=function(t){var e=r.apply(x,u([t],s));return i&&d?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(a=c=!1);var d=this.__chain__,p=!!this.__actions__.length,f=o&&!d,m=a&&!p;if(!o&&c){e=m?e:new Y(this);var g=t.apply(e,s);return g.__actions__.push({func:Zs,args:[h],thisArg:Z}),new G(g,d)}return f&&m?t.apply(this,s):(g=this.thru(h),f?i?g.value()[0]:g.value():g)})}),n(["pop","push","shift","sort","splice","unshift"],function(t){var e=hc[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);x.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(gd(r)?r:[],t)}return this[n](function(n){return e.apply(gd(n)?n:[],t)})}}),ni(Y.prototype,function(t,e){var n=x[e];if(n){var i=n.name+"",r=rh[i]||(rh[i]=[]);r.push({name:e,func:n})}}),rh[Qr(Z,dt).name]=[{name:"wrapper",func:Z}],Y.prototype.clone=Be,Y.prototype.reverse=Xe,Y.prototype.value=Ge,x.prototype.at=Gh,x.prototype.chain=Js,x.prototype.commit=ta,x.prototype.next=ea,x.prototype.plant=ia,x.prototype.reverse=ra,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=oa,x.prototype.first=x.prototype.head,Pc&&(x.prototype[Pc]=na),x},vi=gi();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ti._=vi,define(function(){return vi})):ni?((ni.exports=vi)._=vi,ei._=vi):ti._=vi}.call(this),/*!
 * Sir Trevor JS v0.5.0-beta3
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * 2015-03-04
 */
function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.SirTrevor=t()}}(function(){var t;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){e.exports=t("./src/")},{"./src/":176}],2:[function(t,e,n){!function(t){if(!Array.prototype.find){var e=function(t){var e=Object(this),n=e.length<0?0:e.length>>>0;if(0===n)return void 0;if("function"!=typeof t||"[object Function]"!==Object.prototype.toString.call(t))throw new TypeError("Array#find: predicate must be a function");for(var i,r=arguments[1],o=0;n>o;o++)if(i=e[o],t.call(r,i,o,e))return i;return void 0};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"find",{value:e,configurable:!0,enumerable:!1,writable:!0})}catch(n){}Array.prototype.find||(Array.prototype.find=e)}}(this)},{}],3:[function(e,n,i){!function(e,r){"function"==typeof t&&t.amd?t("eventable",function(){return e.Eventable=r()}):"undefined"!=typeof i?n.exports=r():e.Eventable=r()}(this,function(){function t(t){var e,n=2;return function(){return--n>0?e=t.apply(this,arguments):t=null,e}}function e(t,e){r[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=(new Date).getTime());return r[o]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}var n=[],i=n.slice,r={on:function(t,e,n){if(!s(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(e,n,i){if(!s(this,"once",e,[n,i])||!n)return this;var r=this,o=t(function(){r.off(e,o),n.apply(this,arguments)});return o._callback=n,this.on(e,o,i)},off:function(t,e,n){var i,r,o,a,l,u,c,h;if(!this._events||!s(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(a=t?[t]:Object.keys(this._events),l=0,u=a.length;u>l;l++)if(t=a[l],o=this._events[t]){if(this._events[t]=i=[],e||n)for(c=0,h=o.length;h>c;c++)r=o[c],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=i.call(arguments,1);if(!s(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&a(n,e),r&&a(r,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t);for(var o in i)i[o].off(e,n,this),r&&delete this._listeners[o];return this}},o=/\s+/,s=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(o.test(n)){for(var s=n.split(o),a=0,l=s.length;l>a;a++)t[e].apply(t,[s[a]].concat(i));return!1}return!0},a=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}};return e("listenTo","on"),e("listenToOnce","once"),r.bind=r.on,r.unbind=r.off,r})},{}],4:[function(t,e,n){function i(t){var e=!0;if(!t)return e;var n=h.call(t),i=t.length;return n==a||n==u||n==s||n==l&&"number"==typeof i&&o(t.splice)?!i:(r(t,function(){return e=!1}),e)}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash.forown"),o=t("lodash.isfunction"),s="[object Arguments]",a="[object Array]",l="[object Object]",u="[object String]",c=Object.prototype,h=c.toString;e.exports=i},{"lodash.forown":5,"lodash.isfunction":28}],5:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i=t("lodash._basecreatecallback"),r=t("lodash.keys"),o=t("lodash._objecttypes"),s=function(t,e,n){var s,a=t,l=a;if(!a)return l;if(!o[typeof a])return l;e=e&&"undefined"==typeof n?e:i(e,n,3);for(var u=-1,c=o[typeof a]&&r(a),h=c?c.length:0;++u<h;)if(s=c[u],e(a[s],s,t)===!1)return l;return l};e.exports=s},{"lodash._basecreatecallback":6,"lodash._objecttypes":24,"lodash.keys":25}],6:[function(t,e,n){function i(t,e,n){if("function"!=typeof t)return o;if("undefined"==typeof e||!("prototype"in t))return t;var i=t.__bindData__;if("undefined"==typeof i&&(a.funcNames&&(i=!t.name),i=i||!a.funcDecomp,!i)){var h=c.call(t);a.funcNames||(i=!l.test(h)),i||(i=u.test(h),s(t,i))}if(i===!1||i!==!0&&1&i[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return r(t,e)}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash.bind"),o=t("lodash.identity"),s=t("lodash._setbinddata"),a=t("lodash.support"),l=/^\s*function[ \n\r\t]+\w/,u=/\bthis\b/,c=Function.prototype.toString;e.exports=i},{"lodash._setbinddata":7,"lodash.bind":10,"lodash.identity":21,"lodash.support":22}],7:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i=t("lodash._isnative"),r=t("lodash.noop"),o={configurable:!1,enumerable:!1,value:null,writable:!1},s=function(){try{var t={},e=i(e=Object.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),a=s?function(t,e){o.value=e,s(t,"__bindData__",o)}:r;e.exports=a},{"lodash._isnative":8,"lodash.noop":9}],8:[function(t,e,n){function i(t){return"function"==typeof t&&s.test(t)}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=Object.prototype,o=r.toString,s=RegExp("^"+String(o).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");e.exports=i},{}],9:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
function i(){}e.exports=i},{}],10:[function(t,e,n){function i(t,e){return arguments.length>2?r(t,17,o(arguments,2),null,e):r(t,1,null,null,e)}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash._createwrapper"),o=t("lodash._slice");e.exports=i},{"lodash._createwrapper":11,"lodash._slice":20}],11:[function(t,e,n){function i(t,e,n,l,h,d){var p=1&e,f=2&e,m=4&e,g=16&e,v=32&e;if(!f&&!s(t))throw new TypeError;g&&!n.length&&(e&=-17,g=n=!1),v&&!l.length&&(e&=-33,v=l=!1);var y=t&&t.__bindData__;if(y&&y!==!0)return y=a(y),y[2]&&(y[2]=a(y[2])),y[3]&&(y[3]=a(y[3])),!p||1&y[1]||(y[4]=h),!p&&1&y[1]&&(e|=8),!m||4&y[1]||(y[5]=d),g&&u.apply(y[2]||(y[2]=[]),n),v&&c.apply(y[3]||(y[3]=[]),l),y[1]|=e,i.apply(null,y);var b=1==e||17===e?r:o;return b([t,e,n,l,h,d])}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash._basebind"),o=t("lodash._basecreatewrapper"),s=t("lodash.isfunction"),a=t("lodash._slice"),l=[],u=l.push,c=l.unshift;e.exports=i},{"lodash._basebind":12,"lodash._basecreatewrapper":16,"lodash._slice":20,"lodash.isfunction":28}],12:[function(t,e,n){function i(t){function e(){if(i){var t=a(i);u.apply(t,arguments)}if(this instanceof e){var s=r(n.prototype),c=n.apply(s,t||arguments);return o(c)?c:s}return n.apply(l,t||arguments)}var n=t[0],i=t[2],l=t[4];return s(e,t),e}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash._basecreate"),o=t("lodash.isobject"),s=t("lodash._setbinddata"),a=t("lodash._slice"),l=[],u=l.push;e.exports=i},{"lodash._basecreate":13,"lodash._setbinddata":7,"lodash._slice":20,"lodash.isobject":29}],13:[function(t,e,n){(function(n){function i(t,e){return o(t)?s(t):{}}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash._isnative"),o=t("lodash.isobject"),s=(t("lodash.noop"),r(s=Object.create)&&s);s||(i=function(){function t(){}return function(e){if(o(e)){t.prototype=e;var i=new t;t.prototype=null}return i||n.Object()}}()),e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._isnative":14,"lodash.isobject":29,"lodash.noop":15}],14:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{dup:8}],15:[function(t,e,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],16:[function(t,e,n){function i(t){function e(){var t=f?d:this;if(c){var s=a(c);u.apply(s,arguments)}if((h||g)&&(s||(s=a(arguments)),h&&u.apply(s,h),g&&s.length<p))return l|=16,i([n,v?l:-4&l,s,null,d,p]);if(s||(s=arguments),m&&(n=t[y]),this instanceof e){t=r(n.prototype);var b=n.apply(t,s);return o(b)?b:t}return n.apply(t,s)}var n=t[0],l=t[1],c=t[2],h=t[3],d=t[4],p=t[5],f=1&l,m=2&l,g=4&l,v=8&l,y=n;return s(e,t),e}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash._basecreate"),o=t("lodash.isobject"),s=t("lodash._setbinddata"),a=t("lodash._slice"),l=[],u=l.push;e.exports=i},{"lodash._basecreate":17,"lodash._setbinddata":7,"lodash._slice":20,"lodash.isobject":29}],17:[function(t,e,n){arguments[4][13][0].apply(n,arguments)},{dup:13,"lodash._isnative":18,"lodash.isobject":29,"lodash.noop":19}],18:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{dup:8}],19:[function(t,e,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],20:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
function i(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,r=n-e||0,o=Array(0>r?0:r);++i<r;)o[i]=t[e+i];return o}e.exports=i},{}],21:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
function i(t){return t}e.exports=i},{}],22:[function(t,e,n){(function(n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i=t("lodash._isnative"),r=/\bthis\b/,o={};o.funcDecomp=!i(n.WinRTError)&&r.test(function(){return this}),o.funcNames="string"==typeof Function.name,e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._isnative":23}],23:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{dup:8}],24:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};e.exports=i},{}],25:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i=t("lodash._isnative"),r=t("lodash.isobject"),o=t("lodash._shimkeys"),s=i(s=Object.keys)&&s,a=s?function(t){return r(t)?s(t):[]}:o;e.exports=a},{"lodash._isnative":26,"lodash._shimkeys":27,"lodash.isobject":29}],26:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{dup:8}],27:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i=t("lodash._objecttypes"),r=Object.prototype,o=r.hasOwnProperty,s=function(t){var e,n=t,r=[];if(!n)return r;if(!i[typeof t])return r;for(e in n)o.call(n,e)&&r.push(e);return r};e.exports=s},{"lodash._objecttypes":24}],28:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
function i(t){return"function"==typeof t}e.exports=i},{}],29:[function(t,e,n){function i(t){return!(!t||!r[typeof t])}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash._objecttypes");e.exports=i},{"lodash._objecttypes":30}],30:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],31:[function(t,e,n){function i(t){return"string"==typeof t||t&&"object"==typeof t&&s.call(t)==r||!1}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r="[object String]",o=Object.prototype,s=o.toString;e.exports=i},{}],32:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
function i(t){return"undefined"==typeof t}e.exports=i},{}],33:[function(t,e,n){function i(t,e){if(t){var n=t[e];return r(n)?t[e]():n}}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash.isfunction");e.exports=i},{"lodash.isfunction":28}],34:[function(t,e,n){function i(t,e,n){var i=l.imports._.templateSettings||l;t=String(t||""),n=r({},n,i);var g,v=r({},n.imports,i.imports),y=s(v),b=u(v),w=0,_=n.interpolate||f,x="__p += '",k=RegExp((n.escape||f).source+"|"+_.source+"|"+(_===a?p:f).source+"|"+(n.evaluate||f).source+"|$","g");t.replace(k,function(e,n,i,r,s,a){return i||(i=r),x+=t.slice(w,a).replace(m,o),n&&(x+="' +\n__e("+n+") +\n'"),s&&(g=!0,x+="';\n"+s+";\n__p += '"),i&&(x+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),w=a+e.length,e}),x+="';\n";var S=n.variable,$=S;$||(S="obj",x="with ("+S+") {\n"+x+"\n}\n"),x=(g?x.replace(c,""):x).replace(h,"$1").replace(d,"$1;"),x="function("+S+") {\n"+($?"":S+" || ("+S+" = {});\n")+"var __t, __p = '', __e = _.escape"+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+x+"return __p\n}";try{var T=Function(y,"return "+x).apply(void 0,b)}catch(E){throw E.source=x,E}return e?T(e):(T.source=x,T)}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash.defaults"),o=(t("lodash.escape"),t("lodash._escapestringchar")),s=t("lodash.keys"),a=t("lodash._reinterpolate"),l=t("lodash.templatesettings"),u=t("lodash.values"),c=/\b__p \+= '';/g,h=/\b(__p \+=) '' \+/g,d=/(__e\(.*?\)|\b__t\)) \+\n'';/g,p=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,f=/($^)/,m=/['\n\r\t\u2028\u2029\\]/g;e.exports=i},{"lodash._escapestringchar":35,"lodash._reinterpolate":36,"lodash.defaults":37,"lodash.escape":39,"lodash.keys":44,"lodash.templatesettings":48,"lodash.values":49}],35:[function(t,e,n){function i(t){return"\\"+r[t]}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};e.exports=i},{}],36:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i=/<%=([\s\S]+?)%>/g;e.exports=i},{}],37:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i=t("lodash.keys"),r=t("lodash._objecttypes"),o=function(t,e,n){var o,s=t,a=s;if(!s)return a;for(var l=arguments,u=0,c="number"==typeof n?2:l.length;++u<c;)if(s=l[u],s&&r[typeof s])for(var h=-1,d=r[typeof s]&&i(s),p=d?d.length:0;++h<p;)o=d[h],"undefined"==typeof a[o]&&(a[o]=s[o]);return a};e.exports=o},{"lodash._objecttypes":38,"lodash.keys":44}],38:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],39:[function(t,e,n){function i(t){return null==t?"":String(t).replace(o,r)}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash._escapehtmlchar"),o=(t("lodash.keys"),t("lodash._reunescapedhtml"));e.exports=i},{"lodash._escapehtmlchar":40,"lodash._reunescapedhtml":42,"lodash.keys":44}],40:[function(t,e,n){function i(t){return r[t]}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash._htmlescapes");e.exports=i},{"lodash._htmlescapes":41}],41:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};e.exports=i},{}],42:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i=t("lodash._htmlescapes"),r=t("lodash.keys"),o=RegExp("["+r(i).join("")+"]","g");e.exports=o},{"lodash._htmlescapes":43,"lodash.keys":44}],43:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],44:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25,"lodash._isnative":45,"lodash._shimkeys":46,"lodash.isobject":29}],45:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{dup:8}],46:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27,"lodash._objecttypes":47}],47:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],48:[function(t,e,n){/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var i=t("lodash.escape"),r=t("lodash._reinterpolate"),o={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:r,variable:"",imports:{_:{escape:i}}};e.exports=o},{"lodash._reinterpolate":36,"lodash.escape":39}],49:[function(t,e,n){function i(t){for(var e=-1,n=r(t),i=n.length,o=Array(i);++e<i;)o[e]=t[n[e]];return o}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=t("lodash.keys");e.exports=i},{"lodash.keys":44}],50:[function(t,e,n){function i(t){var e=++r;return String(null==t?"":t)+e}/**
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize modern exports="npm" -o ./npm/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var r=0;e.exports=i},{}],51:[function(t,e,n){"use strict";var i=t("object-keys"),r=function(t){return"undefined"!=typeof t&&null!==t},o=function(t,e){if(!r(t))throw new TypeError("target must be an object");var n,o,s,a,l=Object(t);for(n=1;n<arguments.length;++n)for(o=Object(arguments[n]),a=i(o),s=0;s<a.length;++s)l[a[s]]=o[a[s]];return l};o.shim=function(){return Object.assign||(Object.assign=o),Object.assign||o},e.exports=o},{"object-keys":52}],52:[function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=t("./isArguments"),s=!{toString:null}.propertyIsEnumerable("toString"),a=function(){}.propertyIsEnumerable("prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===r.call(t),u=o(t),c=e&&"[object String]"===r.call(t),h=[];if(!e&&!n&&!u)throw new TypeError("Object.keys called on a non-object");var d=a&&n;if(c&&t.length>0&&!i.call(t,0))for(var p=0;p<t.length;++p)h.push(String(p));if(u&&t.length>0)for(var f=0;f<t.length;++f)h.push(String(f));else for(var m in t)d&&"prototype"===m||!i.call(t,m)||h.push(String(m));if(s)for(var g=t.constructor,v=g&&g.prototype===t,y=0;y<l.length;++y)v&&"constructor"===l[y]||!i.call(t,l[y])||h.push(l[y]);return h};u.shim=function(){return Object.keys||(Object.keys=u),Object.keys||u},e.exports=u},{"./isArguments":53}],53:[function(t,e,n){"use strict";var i=Object.prototype.toString;e.exports=function(t){var e=i.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===i.call(t.callee)),n}},{}],54:[function(e,n,i){/**
 *  Copyright (c) 2014, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */
!function(e,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof t&&t.amd?t(r):e.Immutable=r()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return t.value=!1,t}function n(t){t&&(t.value=!0)}function i(){}function r(t,e){e=e||0;for(var n=Math.max(0,t.length-e),i=new Array(n),r=0;n>r;r++)i[r]=t[r+e];return i}function o(t){return void 0===t.size&&(t.size=t.__iterate(a)),t.size}function s(t,e){return e>=0?+e:o(t)+ +e}function a(){return!0}function l(t,e,n){return(0===t||void 0!==n&&-n>=t)&&(void 0===e||void 0!==n&&e>=n)}function u(t,e){return h(t,e,0)}function c(t,e){return h(t,e,e)}function h(t,e,n){return void 0===t?n:0>t?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function d(t){return g(t)?t:A(t)}function p(t){return v(t)?t:N(t)}function f(t){return y(t)?t:D(t)}function m(t){return g(t)&&!b(t)?t:P(t)}function g(t){return!(!t||!t[pn])}function v(t){return!(!t||!t[fn])}function y(t){return!(!t||!t[mn])}function b(t){return v(t)||y(t)}function w(t){return!(!t||!t[gn])}function _(t){this.next=t}function x(t,e,n,i){var r=0===t?e:1===t?n:[e,n];return i?i.value=r:i={value:r,done:!1},i}function k(){return{value:void 0,done:!0}}function S(t){return!!E(t)}function $(t){return t&&"function"==typeof t.next}function T(t){var e=E(t);return e&&e.call(t)}function E(t){var e=t&&(wn&&t[wn]||t[_n]);return"function"==typeof e?e:void 0}function C(t){return t&&"number"==typeof t.length}function A(t){return null===t||void 0===t?L():g(t)?t.toSeq():F(t)}function N(t){return null===t||void 0===t?L().toKeyedSeq():g(t)?v(t)?t.toSeq():t.fromEntrySeq():R(t)}function D(t){return null===t||void 0===t?L():g(t)?v(t)?t.entrySeq():t.toIndexedSeq():z(t)}function P(t){return(null===t||void 0===t?L():g(t)?v(t)?t.entrySeq():t:z(t)).toSetSeq()}function O(t){this._array=t,this.size=t.length}function I(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function M(t){this._iterable=t,this.size=t.length||t.size}function B(t){this._iterator=t,this._iteratorCache=[]}function j(t){return!(!t||!t[kn])}function L(){return Sn||(Sn=new O([]))}function R(t){var e=Array.isArray(t)?new O(t).fromEntrySeq():$(t)?new B(t).fromEntrySeq():S(t)?new M(t).fromEntrySeq():"object"==typeof t?new I(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function z(t){var e=H(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function F(t){var e=H(t)||"object"==typeof t&&new I(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function H(t){return C(t)?new O(t):$(t)?new B(t):S(t)?new M(t):void 0}function U(t,e,n,i){var r=t._cache;if(r){for(var o=r.length-1,s=0;o>=s;s++){var a=r[n?o-s:s];if(e(a[1],i?a[0]:s,t)===!1)return s+1}return s}return t.__iterateUncached(e,n)}function q(t,e,n,i){var r=t._cache;if(r){var o=r.length-1,s=0;return new _(function(){var t=r[n?o-s:s];return s++>o?k():x(e,i?t[0]:s-1,t[1])})}return t.__iteratorUncached(e,n)}function V(){throw TypeError("Abstract")}function W(){}function K(){}function X(){}function G(t,e){return t===e||t!==t&&e!==e?!0:t&&e?("function"==typeof t.valueOf&&"function"==typeof e.valueOf&&(t=t.valueOf(),e=e.valueOf()),"function"==typeof t.equals&&"function"==typeof e.equals?t.equals(e):t===e||t!==t&&e!==e):!1}function Y(t,e){return e?Q(e,t,"",{"":t}):Z(t)}function Q(t,e,n,i){return Array.isArray(e)?t.call(i,n,D(e).map(function(n,i){return Q(t,n,i,e)})):J(e)?t.call(i,n,N(e).map(function(n,i){return Q(t,n,i,e)})):e}function Z(t){return Array.isArray(t)?D(t).map(Z).toList():J(t)?N(t).map(Z).toMap():t}function J(t){return t&&t.constructor===Object}function tt(t){return t>>>1&1073741824|3221225471&t}function et(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return tt(n)}return"string"===e?t.length>Nn?nt(t):it(t):"function"==typeof t.hashCode?t.hashCode():rt(t)}function nt(t){var e=On[t];return void 0===e&&(e=it(t),Pn===Dn&&(Pn=0,On={}),Pn++,On[t]=e),e}function it(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return tt(e)}function rt(t){var e=En&&En.get(t);if(e)return e;if(e=t[An])return e;if(!Tn){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[An])return e;if(e=ot(t))return e}if(Object.isExtensible&&!Object.isExtensible(t))throw new Error("Non-extensible objects are not allowed as keys.");if(e=++Cn,1073741824&Cn&&(Cn=0),En)En.set(t,e);else if(Tn)Object.defineProperty(t,An,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[An]=e;else{if(!t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[An]=e}return e}function ot(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function st(t,e){if(!t)throw new Error(e)}function at(t){st(t!==1/0,"Cannot perform this action with an infinite size.")}function lt(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ut(t){this._iter=t,this.size=t.size}function ct(t){this._iter=t,this.size=t.size}function ht(t){this._iter=t,this.size=t.size}function dt(t){var e=Ot(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.contains(e)},e.contains=function(e){return t.has(e)},e.cacheResult=It,e.__iterateUncached=function(e,n){var i=this;return t.__iterate(function(t,n){return e(n,t,i)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===bn){var i=t.__iterator(e,n);return new _(function(){var t=i.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===yn?vn:yn,n)},e}function pt(t,e,n){var i=Ot(t);return i.size=t.size,i.has=function(e){return t.has(e)},i.get=function(i,r){var o=t.get(i,cn);return o===cn?r:e.call(n,o,i,t)},i.__iterateUncached=function(i,r){var o=this;return t.__iterate(function(t,r,s){return i(e.call(n,t,r,s),r,o)!==!1},r)},i.__iteratorUncached=function(i,r){var o=t.__iterator(bn,r);return new _(function(){var r=o.next();if(r.done)return r;var s=r.value,a=s[0];return x(i,a,e.call(n,s[1],a,t),r)})},i}function ft(t,e){var n=Ot(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=dt(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,i){return t.get(e?n:-1-n,i)},n.has=function(n){return t.has(e?n:-1-n)},n.contains=function(e){return t.contains(e)},n.cacheResult=It,n.__iterate=function(e,n){var i=this;return t.__iterate(function(t,n){return e(t,n,i)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function mt(t,e,n,i){var r=Ot(t);return i&&(r.has=function(i){var r=t.get(i,cn);return r!==cn&&!!e.call(n,r,i,t)},r.get=function(i,r){var o=t.get(i,cn);return o!==cn&&e.call(n,o,i,t)?o:r}),r.__iterateUncached=function(r,o){var s=this,a=0;return t.__iterate(function(t,o,l){return e.call(n,t,o,l)?(a++,r(t,i?o:a-1,s)):void 0},o),a},r.__iteratorUncached=function(r,o){var s=t.__iterator(bn,o),a=0;return new _(function(){for(;;){var o=s.next();if(o.done)return o;var l=o.value,u=l[0],c=l[1];if(e.call(n,c,u,t))return x(r,i?u:a++,c,o)}})},r}function gt(t,e,n){var i=jt().asMutable();return t.__iterate(function(r,o){i.update(e.call(n,r,o,t),0,function(t){return t+1})}),i.asImmutable()}function vt(t,e,n){var i=v(t),r=(w(t)?ke():jt()).asMutable();t.__iterate(function(o,s){r.update(e.call(n,o,s,t),function(t){return t=t||[],t.push(i?[s,o]:o),t})});var o=Pt(t);return r.map(function(e){return At(t,o(e))})}function yt(t,e,n,i){var r=t.size;if(l(e,n,r))return t;var o=u(e,r),a=c(n,r);if(o!==o||a!==a)return yt(t.toSeq().cacheResult(),e,n,i);var h=a-o;0>h&&(h=0);var d=Ot(t);return d.size=0===h?h:t.size&&h||void 0,!i&&j(t)&&h>=0&&(d.get=function(e,n){return e=s(this,e),e>=0&&h>e?t.get(e+o,n):n}),d.__iterateUncached=function(e,n){var r=this;if(0===h)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,a=!0,l=0;return t.__iterate(function(t,n){return a&&(a=s++<o)?void 0:(l++,e(t,i?n:l-1,r)!==!1&&l!==h)}),l},d.__iteratorUncached=function(e,n){if(h&&n)return this.cacheResult().__iterator(e,n);var r=h&&t.__iterator(e,n),s=0,a=0;return new _(function(){for(;s++!==o;)r.next();if(++a>h)return k();var t=r.next();return i||e===yn?t:e===vn?x(e,a-1,void 0,t):x(e,a-1,t.value[1],t)})},d}function bt(t,e,n){var i=Ot(t);return i.__iterateUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterate(i,r);var s=0;return t.__iterate(function(t,r,a){return e.call(n,t,r,a)&&++s&&i(t,r,o)}),s},i.__iteratorUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterator(i,r);var s=t.__iterator(bn,r),a=!0;return new _(function(){if(!a)return k();var t=s.next();if(t.done)return t;var r=t.value,l=r[0],u=r[1];return e.call(n,u,l,o)?i===bn?t:x(i,l,u,t):(a=!1,k())})},i}function wt(t,e,n,i){var r=Ot(t);return r.__iterateUncached=function(r,o){var s=this;if(o)return this.cacheResult().__iterate(r,o);var a=!0,l=0;return t.__iterate(function(t,o,u){return a&&(a=e.call(n,t,o,u))?void 0:(l++,r(t,i?o:l-1,s))}),l},r.__iteratorUncached=function(r,o){var s=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(bn,o),l=!0,u=0;return new _(function(){var t,o,c;do{if(t=a.next(),t.done)return i||r===yn?t:r===vn?x(r,u++,void 0,t):x(r,u++,t.value[1],t);var h=t.value;o=h[0],c=h[1],l&&(l=e.call(n,c,o,s))}while(l);return r===bn?t:x(r,o,c,t)})},r}function _t(t,e){var n=v(t),i=[t].concat(e).map(function(t){return g(t)?n&&(t=p(t)):t=n?R(t):z(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var r=i[0];if(r===t||n&&v(r)||y(t)&&y(r))return r}var o=new O(i);return n?o=o.toKeyedSeq():y(t)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),o}function xt(t,e,n){var i=Ot(t);return i.__iterateUncached=function(i,r){function o(t,l){var u=this;t.__iterate(function(t,r){return(!e||e>l)&&g(t)?o(t,l+1):i(t,n?r:s++,u)===!1&&(a=!0),!a},r)}var s=0,a=!1;return o(t,0),s},i.__iteratorUncached=function(i,r){var o=t.__iterator(i,r),s=[],a=0;return new _(function(){for(;o;){var t=o.next();if(t.done===!1){var l=t.value;if(i===bn&&(l=l[1]),e&&!(s.length<e)||!g(l))return n?t:x(i,a++,l,t);s.push(o),o=l.__iterator(i,r)}else o=s.pop()}return k()})},i}function kt(t,e,n){var i=Pt(t);return t.toSeq().map(function(r,o){return i(e.call(n,r,o,t))}).flatten(!0)}function St(t,e){var n=Ot(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,i){var r=this,o=0;return t.__iterate(function(t,i){return(!o||n(e,o++,r)!==!1)&&n(t,o++,r)!==!1},i),o},n.__iteratorUncached=function(n,i){var r,o=t.__iterator(yn,i),s=0;return new _(function(){return(!r||s%2)&&(r=o.next(),r.done)?r:s%2?x(n,s++,e):x(n,s++,r.value,r)})},n}function $t(t,e,n){e||(e=Mt);var i=v(t),r=0,o=t.toSeq().map(function(e,i){return[i,e,r++,n?n(e,i,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(i?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),i?N(o):y(t)?D(o):P(o)}function Tt(t,e,n){if(e||(e=Mt),n){var i=t.toSeq().map(function(e,i){return[e,n(e,i,t)]}).reduce(function(t,n){return Et(e,t[1],n[1])?n:t});return i&&i[0]}return t.reduce(function(t,n){return Et(e,t,n)?n:t})}function Et(t,e,n){var i=t(n,e);return 0===i&&n!==e&&(void 0===n||null===n||n!==n)||i>0}function Ct(t,e,n){var i=Ot(t);return i.size=new O(n).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,i=this.__iterator(yn,e),r=0;!(n=i.next()).done&&t(n.value,r++,this)!==!1;);return r},i.__iteratorUncached=function(t,i){var r=n.map(function(t){return t=d(t),T(i?t.reverse():t)}),o=0,s=!1;return new _(function(){var n;return s||(n=r.map(function(t){return t.next()}),s=n.some(function(t){return t.done})),s?k():x(t,o++,e.apply(null,n.map(function(t){return t.value})))})},i}function At(t,e){return j(t)?e:t.constructor(e)}function Nt(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Dt(t){return at(t.size),o(t)}function Pt(t){return v(t)?p:y(t)?f:m}function Ot(t){return Object.create((v(t)?N:y(t)?D:P).prototype)}function It(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):A.prototype.cacheResult.call(this)}function Mt(t,e){return t>e?1:e>t?-1:0}function Bt(t){var e=T(t);if(!e){if(!C(t))throw new TypeError("Expected iterable or array-like: "+t);e=T(d(t))}return e}function jt(t){return null===t||void 0===t?Xt():Lt(t)?t:Xt().withMutations(function(e){var n=p(t);at(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Lt(t){return!(!t||!t[In])}function Rt(t,e){this.ownerID=t,this.entries=e}function zt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Ft(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Ht(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Ut(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function qt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Wt(t._root)}function Vt(t,e){return x(t,e[0],e[1])}function Wt(t,e){return{node:t,index:0,__prev:e}}function Kt(t,e,n,i){var r=Object.create(Mn);return r.size=t,r._root=e,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function Xt(){return Bn||(Bn=Kt(0))}function Gt(t,n,i){var r,o;if(t._root){var s=e(hn),a=e(dn);if(r=Yt(t._root,t.__ownerID,0,void 0,n,i,s,a),!a.value)return t;o=t.size+(s.value?i===cn?-1:1:0)}else{if(i===cn)return t;o=1,r=new Rt(t.__ownerID,[[n,i]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Kt(o,r):Xt()}function Yt(t,e,i,r,o,s,a,l){return t?t.update(e,i,r,o,s,a,l):s===cn?t:(n(l),n(a),new Ut(e,r,[o,s]))}function Qt(t){return t.constructor===Ut||t.constructor===Ht}function Zt(t,e,n,i,r){if(t.keyHash===i)return new Ht(e,i,[t.entry,r]);var o,s=(0===n?t.keyHash:t.keyHash>>>n)&un,a=(0===n?i:i>>>n)&un,l=s===a?[Zt(t,e,n+an,i,r)]:(o=new Ut(e,i,r),a>s?[t,o]:[o,t]);return new zt(e,1<<s|1<<a,l)}function Jt(t,e,n,r){t||(t=new i);for(var o=new Ut(t,et(n),[n,r]),s=0;s<e.length;s++){var a=e[s];o=o.update(t,0,void 0,a[0],a[1])}return o}function te(t,e,n,i){for(var r=0,o=0,s=new Array(n),a=0,l=1,u=e.length;u>a;a++,l<<=1){var c=e[a];void 0!==c&&a!==i&&(r|=l,s[o++]=c)}return new zt(t,r,s)}function ee(t,e,n,i,r){for(var o=0,s=new Array(ln),a=0;0!==n;a++,n>>>=1)s[a]=1&n?e[o++]:void 0;return s[i]=r,new Ft(t,o+1,s)}function ne(t,e,n){for(var i=[],r=0;r<n.length;r++){var o=n[r],s=p(o);g(o)||(s=s.map(function(t){return Y(t)})),i.push(s)}return re(t,e,i)}function ie(t){return function(e,n){return e&&e.mergeDeepWith&&g(n)?e.mergeDeepWith(t,n):t?t(e,n):n}}function re(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0===t.size&&1===n.length?t.constructor(n[0]):t.withMutations(function(t){for(var i=e?function(n,i){t.update(i,cn,function(t){return t===cn?n:e(t,n)})}:function(e,n){t.set(n,e)},r=0;r<n.length;r++)n[r].forEach(i)})}function oe(t,e,n,i){var r=t===cn,o=e.next();if(o.done){var s=r?n:t,a=i(s);return a===s?t:a}st(r||t&&t.set,"invalid keyPath");var l=o.value,u=r?cn:t.get(l,cn),c=oe(u,e,n,i);return c===u?t:c===cn?t.remove(l):(r?Xt():t).set(l,c)}function se(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function ae(t,e,n,i){var o=i?t:r(t);return o[e]=n,o}function le(t,e,n,i){var r=t.length+1;if(i&&e+1===r)return t[e]=n,t;for(var o=new Array(r),s=0,a=0;r>a;a++)a===e?(o[a]=n,s=-1):o[a]=t[a+s];return o}function ue(t,e,n){var i=t.length-1;if(n&&e===i)return t.pop(),t;for(var r=new Array(i),o=0,s=0;i>s;s++)s===e&&(o=1),r[s]=t[s+o];return r}function ce(t){var e=me();if(null===t||void 0===t)return e;if(he(t))return t;var n=f(t),i=n.size;return 0===i?e:(at(i),i>0&&ln>i?fe(0,i,an,null,new de(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function he(t){return!(!t||!t[zn])}function de(t,e){this.array=t,this.ownerID=e}function pe(t,e){function n(t,e,n){return 0===e?i(t,n):r(t,e,n)}function i(t,n){var i=n===a?l&&l.array:t&&t.array,r=n>o?0:o-n,u=s-n;return u>ln&&(u=ln),function(){if(r===u)return Un;var t=e?--u:r++;return i&&i[t]}}function r(t,i,r){var a,l=t&&t.array,u=r>o?0:o-r>>i,c=(s-r>>i)+1;return c>ln&&(c=ln),function(){for(;;){if(a){var t=a();if(t!==Un)return t;a=null}if(u===c)return Un;var o=e?--c:u++;a=n(l&&l[o],i-an,r+(o<<i))}}}var o=t._origin,s=t._capacity,a=xe(s),l=t._tail;return n(t._root,t._level,0)}function fe(t,e,n,i,r,o,s){var a=Object.create(Fn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=i,a._tail=r,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function me(){return Hn||(Hn=fe(0,0,an))}function ge(t,n,i){if(n=s(t,n),n>=t.size||0>n)return t.withMutations(function(t){0>n?we(t,n).set(0,i):we(t,0,n+1).set(n,i)});n+=t._origin;var r=t._tail,o=t._root,a=e(dn);return n>=xe(t._capacity)?r=ve(r,t.__ownerID,0,n,i,a):o=ve(o,t.__ownerID,t._level,n,i,a),a.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):fe(t._origin,t._capacity,t._level,o,r):t}function ve(t,e,i,r,o,s){var a=r>>>i&un,l=t&&a<t.array.length;if(!l&&void 0===o)return t;var u;if(i>0){var c=t&&t.array[a],h=ve(c,e,i-an,r,o,s);return h===c?t:(u=ye(t,e),u.array[a]=h,u)}return l&&t.array[a]===o?t:(n(s),u=ye(t,e),void 0===o&&a===u.array.length-1?u.array.pop():u.array[a]=o,u)}function ye(t,e){return e&&t&&e===t.ownerID?t:new de(t?t.array.slice():[],e)}function be(t,e){if(e>=xe(t._capacity))return t._tail;if(e<1<<t._level+an){for(var n=t._root,i=t._level;n&&i>0;)n=n.array[e>>>i&un],i-=an;return n}}function we(t,e,n){var r=t.__ownerID||new i,o=t._origin,s=t._capacity,a=o+e,l=void 0===n?s:0>n?s+n:o+n;if(a===o&&l===s)return t;if(a>=l)return t.clear();for(var u=t._level,c=t._root,h=0;0>a+h;)c=new de(c&&c.array.length?[void 0,c]:[],r),u+=an,h+=1<<u;h&&(a+=h,o+=h,l+=h,s+=h);for(var d=xe(s),p=xe(l);p>=1<<u+an;)c=new de(c&&c.array.length?[c]:[],r),u+=an;var f=t._tail,m=d>p?be(t,l-1):p>d?new de([],r):f;if(f&&p>d&&s>a&&f.array.length){c=ye(c,r);for(var g=c,v=u;v>an;v-=an){var y=d>>>v&un;g=g.array[y]=ye(g.array[y],r)}g.array[d>>>an&un]=f}if(s>l&&(m=m&&m.removeAfter(r,0,l)),a>=p)a-=p,l-=p,u=an,c=null,m=m&&m.removeBefore(r,0,a);else if(a>o||d>p){for(h=0;c;){var b=a>>>u&un;if(b!==p>>>u&un)break;b&&(h+=(1<<u)*b),u-=an,c=c.array[b]}c&&a>o&&(c=c.removeBefore(r,u,a-h)),c&&d>p&&(c=c.removeAfter(r,u,p-h)),h&&(a-=h,l-=h)}return t.__ownerID?(t.size=l-a,t._origin=a,t._capacity=l,t._level=u,t._root=c,t._tail=m,t.__hash=void 0,t.__altered=!0,t):fe(a,l,u,c,m)}function _e(t,e,n){for(var i=[],r=0,o=0;o<n.length;o++){var s=n[o],a=f(s);a.size>r&&(r=a.size),g(s)||(a=a.map(function(t){return Y(t)})),i.push(a)}return r>t.size&&(t=t.setSize(r)),re(t,e,i)}function xe(t){return ln>t?0:t-1>>>an<<an}function ke(t){return null===t||void 0===t?Te():Se(t)?t:Te().withMutations(function(e){var n=p(t);at(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Se(t){return Lt(t)&&w(t)}function $e(t,e,n,i){var r=Object.create(ke.prototype);return r.size=t?t.size:0,r._map=t,r._list=e,r.__ownerID=n,r.__hash=i,r}function Te(){return qn||(qn=$e(Xt(),me()))}function Ee(t,e,n){var i,r,o=t._map,s=t._list,a=o.get(e),l=void 0!==a;if(n===cn){if(!l)return t;s.size>=ln&&s.size>=2*o.size?(r=s.filter(function(t,e){return void 0!==t&&a!==e}),i=r.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(i.__ownerID=r.__ownerID=t.__ownerID)):(i=o.remove(e),r=a===s.size-1?s.pop():s.set(a,void 0))}else if(l){if(n===s.get(a)[1])return t;i=o,r=s.set(a,[e,n])}else i=o.set(e,s.size),r=s.set(s.size,[e,n]);return t.__ownerID?(t.size=i.size,t._map=i,t._list=r,t.__hash=void 0,t):$e(i,r)}function Ce(t){return null===t||void 0===t?De():Ae(t)?t:De().unshiftAll(t)}function Ae(t){return!(!t||!t[Vn])}function Ne(t,e,n,i){var r=Object.create(Wn);return r.size=t,r._head=e,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function De(){return Kn||(Kn=Ne(0))}function Pe(t){return null===t||void 0===t?Be():Oe(t)?t:Be().withMutations(function(e){var n=m(t);at(n.size),n.forEach(function(t){return e.add(t)})})}function Oe(t){return!(!t||!t[Xn])}function Ie(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Me(t,e){var n=Object.create(Gn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Be(){return Yn||(Yn=Me(Xt()))}function je(t){return null===t||void 0===t?ze():Le(t)?t:ze().withMutations(function(e){var n=m(t);at(n.size),n.forEach(function(t){return e.add(t)})})}function Le(t){return Oe(t)&&w(t)}function Re(t,e){var n=Object.create(Qn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function ze(){return Zn||(Zn=Re(Te()))}function Fe(t,e){var n=function(t){return this instanceof n?void(this._map=jt(t)):new n(t)},i=Object.keys(t),r=n.prototype=Object.create(Jn);r.constructor=n,e&&(r._name=e),r._defaultValues=t,r._keys=i,r.size=i.length;try{i.forEach(function(t){Object.defineProperty(n.prototype,t,{get:function(){return this.get(t)},set:function(e){st(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})})}catch(o){}return n}function He(t,e,n){var i=Object.create(Object.getPrototypeOf(t));return i._map=e,i.__ownerID=n,i}function Ue(t){return t._name||t.constructor.name}function qe(t,e){if(t===e)return!0;if(!g(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||v(t)!==v(e)||y(t)!==y(e)||w(t)!==w(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!b(t);if(w(t)){var i=t.entries();return e.every(function(t,e){var r=i.next().value;return r&&G(r[1],t)&&(n||G(r[0],e))})&&i.next().done}var r=!1;if(void 0===t.size)if(void 0===e.size)t.cacheResult();else{r=!0;var o=t;t=e,e=o}var s=!0,a=e.__iterate(function(e,i){return(n?t.has(e):r?G(e,t.get(i,cn)):G(t.get(i,cn),e))?void 0:(s=!1,!1)});return s&&t.size===a}function Ve(t,e,n){if(!(this instanceof Ve))return new Ve(t,e,n);if(st(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),t>e&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(ti)return ti;ti=this}}function We(t,e){if(!(this instanceof We))return new We(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(ei)return ei;ei=this}}function Ke(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Xe(t,e){return e}function Ge(t,e){return[e,t]}function Ye(t){return function(){return!t.apply(this,arguments)}}function Qe(t){return function(){return-t.apply(this,arguments)}}function Ze(t){return"string"==typeof t?JSON.stringify(t):t}function Je(){return r(arguments)}function tn(t,e){return e>t?1:t>e?-1:0}function en(t){if(t.size===1/0)return 0;var e=w(t),n=v(t),i=e?1:0,r=t.__iterate(n?e?function(t,e){i=31*i+rn(et(t),et(e))|0}:function(t,e){i=i+rn(et(t),et(e))|0}:e?function(t){i=31*i+et(t)|0}:function(t){i=i+et(t)|0});return nn(r,i)}function nn(t,e){return e=$n(e,3432918353),e=$n(e<<15|e>>>-15,461845907),e=$n(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=$n(e^e>>>16,2246822507),e=$n(e^e>>>13,3266489909),e=tt(e^e>>>16)}function rn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var on=Array.prototype.slice,sn="delete",an=5,ln=1<<an,un=ln-1,cn={},hn={value:!1},dn={value:!1};t(p,d),t(f,d),t(m,d),d.isIterable=g,d.isKeyed=v,d.isIndexed=y,d.isAssociative=b,d.isOrdered=w,d.Keyed=p,d.Indexed=f,d.Set=m;var pn="@@__IMMUTABLE_ITERABLE__@@",fn="@@__IMMUTABLE_KEYED__@@",mn="@@__IMMUTABLE_INDEXED__@@",gn="@@__IMMUTABLE_ORDERED__@@",vn=0,yn=1,bn=2,wn="function"==typeof Symbol&&Symbol.iterator,_n="@@iterator",xn=wn||_n;_.prototype.toString=function(){return"[Iterator]"},_.KEYS=vn,_.VALUES=yn,_.ENTRIES=bn,_.prototype.inspect=_.prototype.toSource=function(){return this.toString()},_.prototype[xn]=function(){return this},t(A,d),A.of=function(){return A(arguments)},A.prototype.toSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq {","}")},A.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},A.prototype.__iterate=function(t,e){return U(this,t,e,!0)},A.prototype.__iterator=function(t,e){return q(this,t,e,!0)},t(N,A),N.of=function(){return N(arguments)},N.prototype.toKeyedSeq=function(){return this},N.prototype.toSeq=function(){return this},t(D,A),D.of=function(){return D(arguments)},D.prototype.toIndexedSeq=function(){return this},D.prototype.toString=function(){return this.__toString("Seq [","]")},D.prototype.__iterate=function(t,e){return U(this,t,e,!1)},D.prototype.__iterator=function(t,e){return q(this,t,e,!1)},t(P,A),P.of=function(){return P(arguments)},P.prototype.toSetSeq=function(){return this},A.isSeq=j,A.Keyed=N,A.Set=P,A.Indexed=D;var kn="@@__IMMUTABLE_SEQ__@@";A.prototype[kn]=!0,t(O,D),O.prototype.get=function(t,e){return this.has(t)?this._array[s(this,t)]:e},O.prototype.__iterate=function(t,e){for(var n=this._array,i=n.length-1,r=0;i>=r;r++)if(t(n[e?i-r:r],r,this)===!1)return r+1;return r},O.prototype.__iterator=function(t,e){var n=this._array,i=n.length-1,r=0;return new _(function(){return r>i?k():x(t,r,n[e?i-r++:r++])})},t(I,N),I.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},I.prototype.has=function(t){return this._object.hasOwnProperty(t)},I.prototype.__iterate=function(t,e){for(var n=this._object,i=this._keys,r=i.length-1,o=0;r>=o;o++){var s=i[e?r-o:o];if(t(n[s],s,this)===!1)return o+1}return o},I.prototype.__iterator=function(t,e){var n=this._object,i=this._keys,r=i.length-1,o=0;return new _(function(){var s=i[e?r-o:o];return o++>r?k():x(t,s,n[s])})},I.prototype[gn]=!0,t(M,D),M.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,i=T(n),r=0;if($(i))for(var o;!(o=i.next()).done&&t(o.value,r++,this)!==!1;);return r},M.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,i=T(n);if(!$(i))return new _(k);var r=0;return new _(function(){var e=i.next();return e.done?e:x(t,r++,e.value)})},t(B,D),B.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,i=this._iteratorCache,r=0;r<i.length;)if(t(i[r],r++,this)===!1)return r;for(var o;!(o=n.next()).done;){var s=o.value;if(i[r]=s,t(s,r++,this)===!1)break}return r},B.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,i=this._iteratorCache,r=0;return new _(function(){if(r>=i.length){var e=n.next();if(e.done)return e;i[r]=e.value}return x(t,r,i[r++])})};var Sn;t(V,d),t(W,V),t(K,V),t(X,V),V.Keyed=W,V.Indexed=K,V.Set=X;var $n="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,i=65535&e;return n*i+((t>>>16)*i+n*(e>>>16)<<16>>>0)|0},Tn=function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}(),En="function"==typeof WeakMap&&new WeakMap,Cn=0,An="__immutablehash__";"function"==typeof Symbol&&(An=Symbol(An));var Nn=16,Dn=255,Pn=0,On={};t(lt,N),lt.prototype.get=function(t,e){return this._iter.get(t,e)},lt.prototype.has=function(t){return this._iter.has(t)},lt.prototype.valueSeq=function(){return this._iter.valueSeq()},lt.prototype.reverse=function(){var t=this,e=ft(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},lt.prototype.map=function(t,e){var n=this,i=pt(this,t,e);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().map(t,e)}),i},lt.prototype.__iterate=function(t,e){var n,i=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,i)}:(n=e?Dt(this):0,function(r){return t(r,e?--n:n++,i)}),e)},lt.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(yn,e),i=e?Dt(this):0;return new _(function(){var r=n.next();return r.done?r:x(t,e?--i:i++,r.value,r)})},lt.prototype[gn]=!0,t(ut,D),ut.prototype.contains=function(t){return this._iter.contains(t)},ut.prototype.__iterate=function(t,e){var n=this,i=0;return this._iter.__iterate(function(e){return t(e,i++,n)},e)},ut.prototype.__iterator=function(t,e){var n=this._iter.__iterator(yn,e),i=0;return new _(function(){var e=n.next();return e.done?e:x(t,i++,e.value,e)})},t(ct,P),ct.prototype.has=function(t){return this._iter.contains(t)},ct.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},ct.prototype.__iterator=function(t,e){var n=this._iter.__iterator(yn,e);return new _(function(){var e=n.next();return e.done?e:x(t,e.value,e.value,e)})},t(ht,N),ht.prototype.entrySeq=function(){return this._iter.toSeq()},ht.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return e?(Nt(e),t(e[1],e[0],n)):void 0},e)},ht.prototype.__iterator=function(t,e){var n=this._iter.__iterator(yn,e);return new _(function(){for(;;){var e=n.next();if(e.done)return e;var i=e.value;if(i)return Nt(i),t===bn?e:x(t,i[0],i[1],e)}})},ut.prototype.cacheResult=lt.prototype.cacheResult=ct.prototype.cacheResult=ht.prototype.cacheResult=It,t(jt,W),jt.prototype.toString=function(){return this.__toString("Map {","}")},jt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},jt.prototype.set=function(t,e){return Gt(this,t,e)},jt.prototype.setIn=function(t,e){return this.updateIn(t,cn,function(){return e})},jt.prototype.remove=function(t){return Gt(this,t,cn)},jt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return cn})},jt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},jt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var i=oe(this,Bt(t),e,n);return i===cn?void 0:i},jt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Xt()},jt.prototype.merge=function(){return ne(this,void 0,arguments)},jt.prototype.mergeWith=function(t){var e=on.call(arguments,1);return ne(this,t,e)},jt.prototype.mergeIn=function(t){var e=on.call(arguments,1);return this.updateIn(t,Xt(),function(t){return t.merge.apply(t,e)})},jt.prototype.mergeDeep=function(){return ne(this,ie(void 0),arguments)},jt.prototype.mergeDeepWith=function(t){var e=on.call(arguments,1);return ne(this,ie(t),e)},jt.prototype.mergeDeepIn=function(t){var e=on.call(arguments,1);return this.updateIn(t,Xt(),function(t){return t.mergeDeep.apply(t,e)})},jt.prototype.sort=function(t){return ke($t(this,t))},jt.prototype.sortBy=function(t,e){return ke($t(this,e,t))},jt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},jt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new i)},jt.prototype.asImmutable=function(){return this.__ensureOwner()},jt.prototype.wasAltered=function(){return this.__altered},jt.prototype.__iterator=function(t,e){return new qt(this,t,e)},jt.prototype.__iterate=function(t,e){var n=this,i=0;return this._root&&this._root.iterate(function(e){return i++,t(e[1],e[0],n)},e),i},jt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Kt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},jt.isMap=Lt;var In="@@__IMMUTABLE_MAP__@@",Mn=jt.prototype;Mn[In]=!0,Mn[sn]=Mn.remove,Mn.removeIn=Mn.deleteIn,Rt.prototype.get=function(t,e,n,i){for(var r=this.entries,o=0,s=r.length;s>o;o++)if(G(n,r[o][0]))return r[o][1];return i},Rt.prototype.update=function(t,e,i,o,s,a,l){for(var u=s===cn,c=this.entries,h=0,d=c.length;d>h&&!G(o,c[h][0]);h++);var p=d>h;if(p?c[h][1]===s:u)return this;if(n(l),(u||!p)&&n(a),!u||1!==c.length){if(!p&&!u&&c.length>=jn)return Jt(t,c,o,s);var f=t&&t===this.ownerID,m=f?c:r(c);return p?u?h===d-1?m.pop():m[h]=m.pop():m[h]=[o,s]:m.push([o,s]),f?(this.entries=m,this):new Rt(t,m)}},zt.prototype.get=function(t,e,n,i){void 0===e&&(e=et(n));var r=1<<((0===t?e:e>>>t)&un),o=this.bitmap;return 0===(o&r)?i:this.nodes[se(o&r-1)].get(t+an,e,n,i)},zt.prototype.update=function(t,e,n,i,r,o,s){void 0===n&&(n=et(i));var a=(0===e?n:n>>>e)&un,l=1<<a,u=this.bitmap,c=0!==(u&l);if(!c&&r===cn)return this;var h=se(u&l-1),d=this.nodes,p=c?d[h]:void 0,f=Yt(p,t,e+an,n,i,r,o,s);
if(f===p)return this;if(!c&&f&&d.length>=Ln)return ee(t,d,u,a,f);if(c&&!f&&2===d.length&&Qt(d[1^h]))return d[1^h];if(c&&f&&1===d.length&&Qt(f))return f;var m=t&&t===this.ownerID,g=c?f?u:u^l:u|l,v=c?f?ae(d,h,f,m):ue(d,h,m):le(d,h,f,m);return m?(this.bitmap=g,this.nodes=v,this):new zt(t,g,v)},Ft.prototype.get=function(t,e,n,i){void 0===e&&(e=et(n));var r=(0===t?e:e>>>t)&un,o=this.nodes[r];return o?o.get(t+an,e,n,i):i},Ft.prototype.update=function(t,e,n,i,r,o,s){void 0===n&&(n=et(i));var a=(0===e?n:n>>>e)&un,l=r===cn,u=this.nodes,c=u[a];if(l&&!c)return this;var h=Yt(c,t,e+an,n,i,r,o,s);if(h===c)return this;var d=this.count;if(c){if(!h&&(d--,Rn>d))return te(t,u,d,a)}else d++;var p=t&&t===this.ownerID,f=ae(u,a,h,p);return p?(this.count=d,this.nodes=f,this):new Ft(t,d,f)},Ht.prototype.get=function(t,e,n,i){for(var r=this.entries,o=0,s=r.length;s>o;o++)if(G(n,r[o][0]))return r[o][1];return i},Ht.prototype.update=function(t,e,i,o,s,a,l){void 0===i&&(i=et(o));var u=s===cn;if(i!==this.keyHash)return u?this:(n(l),n(a),Zt(this,t,e,i,[o,s]));for(var c=this.entries,h=0,d=c.length;d>h&&!G(o,c[h][0]);h++);var p=d>h;if(p?c[h][1]===s:u)return this;if(n(l),(u||!p)&&n(a),u&&2===d)return new Ut(t,this.keyHash,c[1^h]);var f=t&&t===this.ownerID,m=f?c:r(c);return p?u?h===d-1?m.pop():m[h]=m.pop():m[h]=[o,s]:m.push([o,s]),f?(this.entries=m,this):new Ht(t,this.keyHash,m)},Ut.prototype.get=function(t,e,n,i){return G(n,this.entry[0])?this.entry[1]:i},Ut.prototype.update=function(t,e,i,r,o,s,a){var l=o===cn,u=G(r,this.entry[0]);return(u?o===this.entry[1]:l)?this:(n(a),l?void n(s):u?t&&t===this.ownerID?(this.entry[1]=o,this):new Ut(t,this.keyHash,[r,o]):(n(s),Zt(this,t,e,et(r),[r,o])))},Rt.prototype.iterate=Ht.prototype.iterate=function(t,e){for(var n=this.entries,i=0,r=n.length-1;r>=i;i++)if(t(n[e?r-i:i])===!1)return!1},zt.prototype.iterate=Ft.prototype.iterate=function(t,e){for(var n=this.nodes,i=0,r=n.length-1;r>=i;i++){var o=n[e?r-i:i];if(o&&o.iterate(t,e)===!1)return!1}},Ut.prototype.iterate=function(t,e){return t(this.entry)},t(qt,_),qt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,i=e.node,r=e.index++;if(i.entry){if(0===r)return Vt(t,i.entry)}else if(i.entries){if(n=i.entries.length-1,n>=r)return Vt(t,i.entries[this._reverse?n-r:r])}else if(n=i.nodes.length-1,n>=r){var o=i.nodes[this._reverse?n-r:r];if(o){if(o.entry)return Vt(t,o.entry);e=this._stack=Wt(o,e)}continue}e=this._stack=this._stack.__prev}return k()};var Bn,jn=ln/4,Ln=ln/2,Rn=ln/4;t(ce,K),ce.of=function(){return this(arguments)},ce.prototype.toString=function(){return this.__toString("List [","]")},ce.prototype.get=function(t,e){if(t=s(this,t),0>t||t>=this.size)return e;t+=this._origin;var n=be(this,t);return n&&n.array[t&un]},ce.prototype.set=function(t,e){return ge(this,t,e)},ce.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},ce.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=an,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):me()},ce.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){we(n,0,e+t.length);for(var i=0;i<t.length;i++)n.set(e+i,t[i])})},ce.prototype.pop=function(){return we(this,0,-1)},ce.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){we(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},ce.prototype.shift=function(){return we(this,1)},ce.prototype.merge=function(){return _e(this,void 0,arguments)},ce.prototype.mergeWith=function(t){var e=on.call(arguments,1);return _e(this,t,e)},ce.prototype.mergeDeep=function(){return _e(this,ie(void 0),arguments)},ce.prototype.mergeDeepWith=function(t){var e=on.call(arguments,1);return _e(this,ie(t),e)},ce.prototype.setSize=function(t){return we(this,0,t)},ce.prototype.slice=function(t,e){var n=this.size;return l(t,e,n)?this:we(this,u(t,n),c(e,n))},ce.prototype.__iterator=function(t,e){var n=0,i=pe(this,e);return new _(function(){var e=i();return e===Un?k():x(t,n++,e)})},ce.prototype.__iterate=function(t,e){for(var n,i=0,r=pe(this,e);(n=r())!==Un&&t(n,i++,this)!==!1;);return i},ce.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?fe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},ce.isList=he;var zn="@@__IMMUTABLE_LIST__@@",Fn=ce.prototype;Fn[zn]=!0,Fn[sn]=Fn.remove,Fn.setIn=Mn.setIn,Fn.deleteIn=Fn.removeIn=Mn.removeIn,Fn.update=Mn.update,Fn.updateIn=Mn.updateIn,Fn.mergeIn=Mn.mergeIn,Fn.mergeDeepIn=Mn.mergeDeepIn,Fn.withMutations=Mn.withMutations,Fn.asMutable=Mn.asMutable,Fn.asImmutable=Mn.asImmutable,Fn.wasAltered=Mn.wasAltered,de.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var i=n>>>e&un;if(i>=this.array.length)return new de([],t);var r,o=0===i;if(e>0){var s=this.array[i];if(r=s&&s.removeBefore(t,e-an,n),r===s&&o)return this}if(o&&!r)return this;var a=ye(this,t);if(!o)for(var l=0;i>l;l++)a.array[l]=void 0;return r&&(a.array[i]=r),a},de.prototype.removeAfter=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var i=n-1>>>e&un;if(i>=this.array.length)return this;var r,o=i===this.array.length-1;if(e>0){var s=this.array[i];if(r=s&&s.removeAfter(t,e-an,n),r===s&&o)return this}if(o&&!r)return this;var a=ye(this,t);return o||a.array.pop(),r&&(a.array[i]=r),a};var Hn,Un={};t(ke,jt),ke.of=function(){return this(arguments)},ke.prototype.toString=function(){return this.__toString("OrderedMap {","}")},ke.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Te()},ke.prototype.set=function(t,e){return Ee(this,t,e)},ke.prototype.remove=function(t){return Ee(this,t,cn)},ke.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},ke.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},ke.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},ke.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?$e(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},ke.isOrderedMap=Se,ke.prototype[gn]=!0,ke.prototype[sn]=ke.prototype.remove;var qn;t(Ce,K),Ce.of=function(){return this(arguments)},Ce.prototype.toString=function(){return this.__toString("Stack [","]")},Ce.prototype.get=function(t,e){for(var n=this._head;n&&t--;)n=n.next;return n?n.value:e},Ce.prototype.peek=function(){return this._head&&this._head.value},Ce.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Ne(t,e)},Ce.prototype.pushAll=function(t){if(t=f(t),0===t.size)return this;at(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ne(e,n)},Ce.prototype.pop=function(){return this.slice(1)},Ce.prototype.unshift=function(){return this.push.apply(this,arguments)},Ce.prototype.unshiftAll=function(t){return this.pushAll(t)},Ce.prototype.shift=function(){return this.pop.apply(this,arguments)},Ce.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):De()},Ce.prototype.slice=function(t,e){if(l(t,e,this.size))return this;var n=u(t,this.size),i=c(e,this.size);if(i!==this.size)return K.prototype.slice.call(this,t,e);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Ne(r,o)},Ce.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ne(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ce.prototype.__iterate=function(t,e){if(e)return this.toSeq().cacheResult.__iterate(t,e);for(var n=0,i=this._head;i&&t(i.value,n++,this)!==!1;)i=i.next;return n},Ce.prototype.__iterator=function(t,e){if(e)return this.toSeq().cacheResult().__iterator(t,e);var n=0,i=this._head;return new _(function(){if(i){var e=i.value;return i=i.next,x(t,n++,e)}return k()})},Ce.isStack=Ae;var Vn="@@__IMMUTABLE_STACK__@@",Wn=Ce.prototype;Wn[Vn]=!0,Wn.withMutations=Mn.withMutations,Wn.asMutable=Mn.asMutable,Wn.asImmutable=Mn.asImmutable,Wn.wasAltered=Mn.wasAltered;var Kn;t(Pe,X),Pe.of=function(){return this(arguments)},Pe.fromKeys=function(t){return this(p(t).keySeq())},Pe.prototype.toString=function(){return this.__toString("Set {","}")},Pe.prototype.has=function(t){return this._map.has(t)},Pe.prototype.add=function(t){return Ie(this,this._map.set(t,!0))},Pe.prototype.remove=function(t){return Ie(this,this._map.remove(t))},Pe.prototype.clear=function(){return Ie(this,this._map.clear())},Pe.prototype.union=function(){var t=on.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0===this.size&&1===t.length?this.constructor(t[0]):this.withMutations(function(e){for(var n=0;n<t.length;n++)m(t[n]).forEach(function(t){return e.add(t)})})},Pe.prototype.intersect=function(){var t=on.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return m(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.contains(e)})||n.remove(e)})})},Pe.prototype.subtract=function(){var t=on.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return m(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.contains(e)})&&n.remove(e)})})},Pe.prototype.merge=function(){return this.union.apply(this,arguments)},Pe.prototype.mergeWith=function(t){var e=on.call(arguments,1);return this.union.apply(this,e)},Pe.prototype.sort=function(t){return je($t(this,t))},Pe.prototype.sortBy=function(t,e){return je($t(this,e,t))},Pe.prototype.wasAltered=function(){return this._map.wasAltered()},Pe.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,i){return t(i,i,n)},e)},Pe.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Pe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Pe.isSet=Oe;var Xn="@@__IMMUTABLE_SET__@@",Gn=Pe.prototype;Gn[Xn]=!0,Gn[sn]=Gn.remove,Gn.mergeDeep=Gn.merge,Gn.mergeDeepWith=Gn.mergeWith,Gn.withMutations=Mn.withMutations,Gn.asMutable=Mn.asMutable,Gn.asImmutable=Mn.asImmutable,Gn.__empty=Be,Gn.__make=Me;var Yn;t(je,Pe),je.of=function(){return this(arguments)},je.fromKeys=function(t){return this(p(t).keySeq())},je.prototype.toString=function(){return this.__toString("OrderedSet {","}")},je.isOrderedSet=Le;var Qn=je.prototype;Qn[gn]=!0,Qn.__empty=ze,Qn.__make=Re;var Zn;t(Fe,W),Fe.prototype.toString=function(){return this.__toString(Ue(this)+" {","}")},Fe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Fe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Fe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=Object.getPrototypeOf(this).constructor;return t._empty||(t._empty=He(this,Xt()))},Fe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Ue(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:He(this,n)},Fe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:He(this,e)},Fe.prototype.wasAltered=function(){return this._map.wasAltered()},Fe.prototype.__iterator=function(t,e){var n=this;return p(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},Fe.prototype.__iterate=function(t,e){var n=this;return p(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},Fe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?He(this,e,t):(this.__ownerID=t,this._map=e,this)};var Jn=Fe.prototype;Jn[sn]=Jn.remove,Jn.deleteIn=Jn.removeIn=Mn.removeIn,Jn.merge=Mn.merge,Jn.mergeWith=Mn.mergeWith,Jn.mergeIn=Mn.mergeIn,Jn.mergeDeep=Mn.mergeDeep,Jn.mergeDeepWith=Mn.mergeDeepWith,Jn.mergeDeepIn=Mn.mergeDeepIn,Jn.setIn=Mn.setIn,Jn.update=Mn.update,Jn.updateIn=Mn.updateIn,Jn.withMutations=Mn.withMutations,Jn.asMutable=Mn.asMutable,Jn.asImmutable=Mn.asImmutable,t(Ve,D),Ve.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Ve.prototype.get=function(t,e){return this.has(t)?this._start+s(this,t)*this._step:e},Ve.prototype.contains=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Ve.prototype.slice=function(t,e){return l(t,e,this.size)?this:(t=u(t,this.size),e=c(e,this.size),t>=e?new Ve(0,0):new Ve(this.get(t,this._end),this.get(e,this._end),this._step))},Ve.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Ve.prototype.lastIndexOf=function(t){return this.indexOf(t)},Ve.prototype.__iterate=function(t,e){for(var n=this.size-1,i=this._step,r=e?this._start+n*i:this._start,o=0;n>=o;o++){if(t(r,o,this)===!1)return o+1;r+=e?-i:i}return o},Ve.prototype.__iterator=function(t,e){var n=this.size-1,i=this._step,r=e?this._start+n*i:this._start,o=0;return new _(function(){var s=r;return r+=e?-i:i,o>n?k():x(t,o++,s)})},Ve.prototype.equals=function(t){return t instanceof Ve?this._start===t._start&&this._end===t._end&&this._step===t._step:qe(this,t)};var ti;t(We,D),We.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},We.prototype.get=function(t,e){return this.has(t)?this._value:e},We.prototype.contains=function(t){return G(this._value,t)},We.prototype.slice=function(t,e){var n=this.size;return l(t,e,n)?this:new We(this._value,c(e,n)-u(t,n))},We.prototype.reverse=function(){return this},We.prototype.indexOf=function(t){return G(this._value,t)?0:-1},We.prototype.lastIndexOf=function(t){return G(this._value,t)?this.size:-1},We.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},We.prototype.__iterator=function(t,e){var n=this,i=0;return new _(function(){return i<n.size?x(t,i++,n._value):k()})},We.prototype.equals=function(t){return t instanceof We?G(this._value,t._value):qe(t)};var ei;d.Iterator=_,Ke(d,{toArray:function(){at(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ut(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new lt(this,!0)},toMap:function(){return jt(this.toKeyedSeq())},toObject:function(){at(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return ke(this.toKeyedSeq())},toOrderedSet:function(){return je(v(this)?this.valueSeq():this)},toSet:function(){return Pe(v(this)?this.valueSeq():this)},toSetSeq:function(){return new ct(this)},toSeq:function(){return y(this)?this.toIndexedSeq():v(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ce(v(this)?this.valueSeq():this)},toList:function(){return ce(v(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=on.call(arguments,0);return At(this,_t(this,t))},contains:function(t){return this.some(function(e){return G(e,t)})},entries:function(){return this.__iterator(bn)},every:function(t,e){at(this.size);var n=!0;return this.__iterate(function(i,r,o){return t.call(e,i,r,o)?void 0:(n=!1,!1)}),n},filter:function(t,e){return At(this,mt(this,t,e,!0))},find:function(t,e,n){var i=this.findEntry(t,e);return i?i[1]:n},findEntry:function(t,e){var n;return this.__iterate(function(i,r,o){return t.call(e,i,r,o)?(n=[r,i],!1):void 0}),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return at(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){at(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(i){n?n=!1:e+=t,e+=null!==i&&void 0!==i?i:""}),e},keys:function(){return this.__iterator(vn)},map:function(t,e){return At(this,pt(this,t,e))},reduce:function(t,e,n){at(this.size);var i,r;return arguments.length<2?r=!0:i=e,this.__iterate(function(e,o,s){r?(r=!1,i=e):i=t.call(n,i,e,o,s)}),i},reduceRight:function(t,e,n){var i=this.toKeyedSeq().reverse();return i.reduce.apply(i,arguments)},reverse:function(){return At(this,ft(this,!0))},slice:function(t,e){return At(this,yt(this,t,e,!0))},some:function(t,e){return!this.every(Ye(t),e)},sort:function(t){return At(this,$t(this,t))},values:function(){return this.__iterator(yn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return o(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return gt(this,t,e)},equals:function(t){return qe(this,t)},entrySeq:function(){var t=this;if(t._cache)return new O(t._cache);var e=t.toSeq().map(Ge).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Ye(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(a)},flatMap:function(t,e){return At(this,kt(this,t,e))},flatten:function(t){return At(this,xt(this,t,!0))},fromEntrySeq:function(){return new ht(this)},get:function(t,e){return this.find(function(e,n){return G(n,t)},void 0,e)},getIn:function(t,e){for(var n,i=this,r=Bt(t);!(n=r.next()).done;){var o=n.value;if(i=i&&i.get?i.get(o,cn):cn,i===cn)return e}return i},groupBy:function(t,e){return vt(this,t,e)},has:function(t){return this.get(t,cn)!==cn},hasIn:function(t){return this.getIn(t,cn)!==cn},isSubset:function(t){return t="function"==typeof t.contains?t:d(t),this.every(function(e){return t.contains(e)})},isSuperset:function(t){return t.isSubset(this)},keySeq:function(){return this.toSeq().map(Xe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Tt(this,t)},maxBy:function(t,e){return Tt(this,e,t)},min:function(t){return Tt(this,t?Qe(t):tn)},minBy:function(t,e){return Tt(this,e?Qe(e):tn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return At(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return At(this,wt(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Ye(t),e)},sortBy:function(t,e){return At(this,$t(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return At(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return At(this,bt(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Ye(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=en(this))}});var ni=d.prototype;ni[pn]=!0,ni[xn]=ni.values,ni.__toJS=ni.toArray,ni.__toStringMapper=Ze,ni.inspect=ni.toSource=function(){return this.toString()},ni.chain=ni.flatMap,function(){try{Object.defineProperty(ni,"length",{get:function(){if(!d.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Ke(p,{flip:function(){return At(this,dt(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return G(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return G(e,t)})},mapEntries:function(t,e){var n=this,i=0;return At(this,this.toSeq().map(function(r,o){return t.call(e,[o,r],i++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return At(this,this.toSeq().flip().map(function(i,r){return t.call(e,i,r,n)}).flip())}});var ii=p.prototype;ii[fn]=!0,ii[xn]=ni.entries,ii.__toJS=ni.toObject,ii.__toStringMapper=function(t,e){return e+": "+Ze(t)},Ke(f,{toKeyedSeq:function(){return new lt(this,!1)},filter:function(t,e){return At(this,mt(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){return this.toSeq().reverse().indexOf(t)},reverse:function(){return At(this,ft(this,!1))},slice:function(t,e){return At(this,yt(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=u(t,this.size);var i=this.slice(0,t);return At(this,1===n?i:i.concat(r(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return At(this,xt(this,t,!1))},get:function(t,e){return t=s(this,t),0>t||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=s(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return At(this,St(this,t))},interleave:function(){var t=[this].concat(r(arguments)),e=Ct(this.toSeq(),D.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),At(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return At(this,wt(this,t,e,!1))},zip:function(){var t=[this].concat(r(arguments));return At(this,Ct(this,Je,t))},zipWith:function(t){var e=r(arguments);return e[0]=this,At(this,Ct(this,t,e))}}),f.prototype[mn]=!0,f.prototype[gn]=!0,Ke(m,{get:function(t,e){return this.has(t)?t:e},contains:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),m.prototype.has=ni.contains,Ke(N,p.prototype),Ke(D,f.prototype),Ke(P,m.prototype),Ke(W,p.prototype),Ke(K,f.prototype),Ke(X,m.prototype);var ri={Iterable:d,Seq:A,Collection:V,Map:jt,OrderedMap:ke,List:ce,Stack:Ce,Set:Pe,OrderedSet:je,Record:Fe,Range:Ve,Repeat:We,is:G,fromJS:Y};return ri})},{}],55:[function(t,e,n){function i(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(t=o(t,n,i)),r(t,e)}var r=t("../internals/baseFlatten"),o=t("../collections/map");e.exports=i},{"../collections/map":59,"../internals/baseFlatten":68}],56:[function(t,e,n){function i(t,e,n){var i=0,l=t?t.length:0;if("number"!=typeof e&&null!=e){var u=l;for(e=o(e,n,3);u--&&e(t[u],u,t);)i++}else if(i=e,null==i||n)return t?t[l-1]:r;return s(t,a(0,l-i))}var r,o=t("../functions/createCallback"),s=t("../internals/slice"),a=Math.max;e.exports=i},{"../functions/createCallback":62,"../internals/slice":82}],57:[function(t,e,n){function i(t){for(var e=arguments,n=0,i=e.length,r=t?t.length:0;++n<i;)for(var s=-1,a=e[n];++s<r;)t[s]===a&&(o.call(t,s--,1),r--);return t}var r=[],o=r.splice;e.exports=i},{}],58:[function(t,e,n){function i(t,e,n){var i=-1,u=r,c=t?t.length:0,h=!1;return n=(0>n?l(0,c+n):n)||0,s(t)?h=u(t,e,n)>-1:"number"==typeof c?h=(a(t)?t.indexOf(e,n):u(t,e,n))>-1:o(t,function(t){return++i>=n?!(h=t===e):void 0}),h}var r=t("../internals/baseIndexOf"),o=t("../objects/forOwn"),s=t("../objects/isArray"),a=t("../objects/isString"),l=Math.max;e.exports=i},{"../internals/baseIndexOf":69,"../objects/forOwn":86,"../objects/isArray":88,"../objects/isString":91}],59:[function(t,e,n){function i(t,e,n){var i=-1,s=t?t.length:0;if(e=r(e,n,3),"number"==typeof s)for(var a=Array(s);++i<s;)a[i]=e(t[i],i,t);else a=[],o(t,function(t,n,r){a[++i]=e(t,n,r)});return a}var r=t("../functions/createCallback"),o=t("../objects/forOwn");e.exports=i},{"../functions/createCallback":62,"../objects/forOwn":86}],60:[function(t,e,n){function i(t){return t&&"number"==typeof t.length?r(t):o(t)}var r=(t("../objects/isString"),t("../internals/slice")),o=t("../objects/values");e.exports=i},{"../internals/slice":82,"../objects/isString":91,"../objects/values":93}],61:[function(t,e,n){function i(t,e){return arguments.length>2?r(t,17,o(arguments,2),null,e):r(t,1,null,null,e)}var r=t("../internals/createWrapper"),o=t("../internals/slice");e.exports=i},{"../internals/createWrapper":71,"../internals/slice":82}],62:[function(t,e,n){function i(t,e,n){var i=typeof t;if(null==t||"function"==i)return r(t,e,n);if("object"!=i)return l(t);var u=a(t),c=u[0],h=t[c];return 1!=u.length||h!==h||s(h)?function(e){for(var n=u.length,i=!1;n--&&(i=o(e[u[n]],t[u[n]],null,!0)););return i}:function(t){var e=t[c];return h===e&&(0!==h||1/h==1/e)}}var r=t("../internals/baseCreateCallback"),o=t("../internals/baseIsEqual"),s=t("../objects/isObject"),a=t("../objects/keys"),l=t("../utilities/property");e.exports=i},{"../internals/baseCreateCallback":66,"../internals/baseIsEqual":70,"../objects/isObject":90,"../objects/keys":92,"../utilities/property":98}],63:[function(t,e,n){var i=[];e.exports=i},{}],64:[function(t,e,n){function i(t){function e(){if(i){var t=a(i);u.apply(t,arguments)}if(this instanceof e){var s=r(n.prototype),c=n.apply(s,t||arguments);return o(c)?c:s}return n.apply(l,t||arguments)}var n=t[0],i=t[2],l=t[4];return s(e,t),e}var r=t("./baseCreate"),o=t("../objects/isObject"),s=t("./setBindData"),a=t("./slice"),l=[],u=l.push;e.exports=i},{"../objects/isObject":90,"./baseCreate":65,"./setBindData":80,"./slice":82}],65:[function(t,e,n){function i(t,e){return o(t)?s(t):{}}var r=t("./isNative"),o=t("../objects/isObject"),s=(t("../utilities/noop"),r(s=Object.create)&&s);s||(i=function(){function t(){}return function(e){if(o(e)){t.prototype=e;var n=new t;t.prototype=null}return n||window.Object()}}()),e.exports=i},{"../objects/isObject":90,"../utilities/noop":97,"./isNative":75}],66:[function(t,e,n){function i(t,e,n){if("function"!=typeof t)return o;if("undefined"==typeof e||!("prototype"in t))return t;var i=t.__bindData__;if("undefined"==typeof i&&(a.funcNames&&(i=!t.name),i=i||!a.funcDecomp,!i)){var h=c.call(t);a.funcNames||(i=!l.test(h)),i||(i=u.test(h),s(t,i))}if(i===!1||i!==!0&&1&i[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return r(t,e)}var r=t("../functions/bind"),o=t("../utilities/identity"),s=t("./setBindData"),a=t("../support"),l=/^\s*function[ \n\r\t]+\w/,u=/\bthis\b/,c=Function.prototype.toString;e.exports=i},{"../functions/bind":61,"../support":94,"../utilities/identity":96,"./setBindData":80}],67:[function(t,e,n){function i(t){function e(){var t=f?d:this;if(c){var s=a(c);u.apply(s,arguments)}if((h||g)&&(s||(s=a(arguments)),h&&u.apply(s,h),g&&s.length<p))return l|=16,i([n,v?l:-4&l,s,null,d,p]);if(s||(s=arguments),m&&(n=t[y]),this instanceof e){t=r(n.prototype);var b=n.apply(t,s);return o(b)?b:t}return n.apply(t,s)}var n=t[0],l=t[1],c=t[2],h=t[3],d=t[4],p=t[5],f=1&l,m=2&l,g=4&l,v=8&l,y=n;return s(e,t),e}var r=t("./baseCreate"),o=t("../objects/isObject"),s=t("./setBindData"),a=t("./slice"),l=[],u=l.push;e.exports=i},{"../objects/isObject":90,"./baseCreate":65,"./setBindData":80,"./slice":82}],68:[function(t,e,n){function i(t,e,n,s){for(var a=(s||0)-1,l=t?t.length:0,u=[];++a<l;){var c=t[a];if(c&&"object"==typeof c&&"number"==typeof c.length&&(o(c)||r(c))){e||(c=i(c,e,n));var h=-1,d=c.length,p=u.length;for(u.length+=d;++h<d;)u[p++]=c[h]}else n||u.push(c)}return u}var r=t("../objects/isArguments"),o=t("../objects/isArray");e.exports=i},{"../objects/isArguments":87,"../objects/isArray":88}],69:[function(t,e,n){function i(t,e,n){for(var i=(n||0)-1,r=t?t.length:0;++i<r;)if(t[i]===e)return i;return-1}e.exports=i},{}],70:[function(t,e,n){function i(t,e,n,v,w,_){if(n){var x=n(t,e);if("undefined"!=typeof x)return!!x}if(t===e)return 0!==t||1/t==1/e;var k=typeof t,S=typeof e;if(!(t!==t||t&&a[k]||e&&a[S]))return!1;if(null==t||null==e)return t===e;var $=y.call(t),T=y.call(e);if($==u&&($=f),T==u&&(T=f),$!=T)return!1;switch($){case h:case d:return+t==+e;case p:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case m:case g:return t==String(e)}var E=$==c;if(!E){var C=b.call(t,"__wrapped__"),A=b.call(e,"__wrapped__");if(C||A)return i(C?t.__wrapped__:t,A?e.__wrapped__:e,n,v,w,_);if($!=f)return!1;var N=t.constructor,D=e.constructor;if(N!=D&&!(s(N)&&N instanceof N&&s(D)&&D instanceof D)&&"constructor"in t&&"constructor"in e)return!1}var P=!w;w||(w=o()),_||(_=o());for(var O=w.length;O--;)if(w[O]==t)return _[O]==e;var I=0;if(x=!0,w.push(t),_.push(e),E){if(O=t.length,I=e.length,x=I==O,x||v)for(;I--;){var M=O,B=e[I];if(v)for(;M--&&!(x=i(t[M],B,n,v,w,_)););else if(!(x=i(t[I],B,n,v,w,_)))break}}else r(e,function(e,r,o){return b.call(o,r)?(I++,x=b.call(t,r)&&i(t[r],e,n,v,w,_)):void 0}),x&&!v&&r(t,function(t,e,n){return b.call(n,e)?x=--I>-1:void 0});return w.pop(),_.pop(),P&&(l(w),l(_)),x}var r=t("../objects/forIn"),o=t("./getArray"),s=t("../objects/isFunction"),a=t("./objectTypes"),l=t("./releaseArray"),u="[object Arguments]",c="[object Array]",h="[object Boolean]",d="[object Date]",p="[object Number]",f="[object Object]",m="[object RegExp]",g="[object String]",v=Object.prototype,y=v.toString,b=v.hasOwnProperty;e.exports=i},{"../objects/forIn":85,"../objects/isFunction":89,"./getArray":73,"./objectTypes":77,"./releaseArray":79}],71:[function(t,e,n){function i(t,e,n,l,h,d){var p=1&e,f=2&e,m=4&e,g=16&e,v=32&e;if(!f&&!s(t))throw new TypeError;g&&!n.length&&(e&=-17,g=n=!1),v&&!l.length&&(e&=-33,v=l=!1);var y=t&&t.__bindData__;if(y&&y!==!0)return y=a(y),y[2]&&(y[2]=a(y[2])),y[3]&&(y[3]=a(y[3])),!p||1&y[1]||(y[4]=h),!p&&1&y[1]&&(e|=8),!m||4&y[1]||(y[5]=d),g&&u.apply(y[2]||(y[2]=[]),n),v&&c.apply(y[3]||(y[3]=[]),l),y[1]|=e,i.apply(null,y);var b=1==e||17===e?r:o;return b([t,e,n,l,h,d])}var r=t("./baseBind"),o=t("./baseCreateWrapper"),s=t("../objects/isFunction"),a=t("./slice"),l=[],u=l.push,c=l.unshift;e.exports=i},{"../objects/isFunction":89,"./baseBind":64,"./baseCreateWrapper":67,"./slice":82}],72:[function(t,e,n){function i(t){return r[t]}var r=t("./htmlEscapes");e.exports=i},{"./htmlEscapes":74}],73:[function(t,e,n){function i(){return r.pop()||[]}var r=t("./arrayPool");e.exports=i},{"./arrayPool":63}],74:[function(t,e,n){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};e.exports=i},{}],75:[function(t,e,n){function i(t){return"function"==typeof t&&s.test(t)}var r=Object.prototype,o=r.toString,s=RegExp("^"+String(o).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");e.exports=i},{}],76:[function(t,e,n){var i=40;e.exports=i},{}],77:[function(t,e,n){var i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};e.exports=i},{}],78:[function(t,e,n){var i=t("./htmlEscapes"),r=t("../objects/keys"),o=RegExp("["+r(i).join("")+"]","g");e.exports=o},{"../objects/keys":92,"./htmlEscapes":74}],79:[function(t,e,n){function i(t){t.length=0,r.length<o&&r.push(t)}var r=t("./arrayPool"),o=t("./maxPoolSize");e.exports=i},{"./arrayPool":63,"./maxPoolSize":76}],80:[function(t,e,n){var i=t("./isNative"),r=t("../utilities/noop"),o={configurable:!1,enumerable:!1,value:null,writable:!1},s=function(){try{var t={},e=i(e=Object.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),a=s?function(t,e){o.value=e,s(t,"__bindData__",o)}:r;e.exports=a},{"../utilities/noop":97,"./isNative":75}],81:[function(t,e,n){var i=t("./objectTypes"),r=Object.prototype,o=r.hasOwnProperty,s=function(t){var e,n=t,r=[];if(!n)return r;if(!i[typeof t])return r;for(e in n)o.call(n,e)&&r.push(e);return r};e.exports=s},{"./objectTypes":77}],82:[function(t,e,n){function i(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,r=n-e||0,o=Array(0>r?0:r);++i<r;)o[i]=t[e+i];return o}e.exports=i},{}],83:[function(t,e,n){var i=t("../internals/baseCreateCallback"),r=t("./keys"),o=t("../internals/objectTypes"),s=function(t,e,n){
var s,a=t,l=a;if(!a)return l;var u=arguments,c=0,h="number"==typeof n?2:u.length;if(h>3&&"function"==typeof u[h-2])var d=i(u[--h-1],u[h--],2);else h>2&&"function"==typeof u[h-1]&&(d=u[--h]);for(;++c<h;)if(a=u[c],a&&o[typeof a])for(var p=-1,f=o[typeof a]&&r(a),m=f?f.length:0;++p<m;)s=f[p],l[s]=d?d(l[s],a[s]):a[s];return l};e.exports=s},{"../internals/baseCreateCallback":66,"../internals/objectTypes":77,"./keys":92}],84:[function(t,e,n){var i=t("./keys"),r=t("../internals/objectTypes"),o=function(t,e,n){var o,s=t,a=s;if(!s)return a;for(var l=arguments,u=0,c="number"==typeof n?2:l.length;++u<c;)if(s=l[u],s&&r[typeof s])for(var h=-1,d=r[typeof s]&&i(s),p=d?d.length:0;++h<p;)o=d[h],"undefined"==typeof a[o]&&(a[o]=s[o]);return a};e.exports=o},{"../internals/objectTypes":77,"./keys":92}],85:[function(t,e,n){var i=t("../internals/baseCreateCallback"),r=t("../internals/objectTypes"),o=function(t,e,n){var o,s=t,a=s;if(!s)return a;if(!r[typeof s])return a;e=e&&"undefined"==typeof n?e:i(e,n,3);for(o in s)if(e(s[o],o,t)===!1)return a;return a};e.exports=o},{"../internals/baseCreateCallback":66,"../internals/objectTypes":77}],86:[function(t,e,n){var i=t("../internals/baseCreateCallback"),r=t("./keys"),o=t("../internals/objectTypes"),s=function(t,e,n){var s,a=t,l=a;if(!a)return l;if(!o[typeof a])return l;e=e&&"undefined"==typeof n?e:i(e,n,3);for(var u=-1,c=o[typeof a]&&r(a),h=c?c.length:0;++u<h;)if(s=c[u],e(a[s],s,t)===!1)return l;return l};e.exports=s},{"../internals/baseCreateCallback":66,"../internals/objectTypes":77,"./keys":92}],87:[function(t,e,n){function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&s.call(t)==r||!1}var r="[object Arguments]",o=Object.prototype,s=o.toString;e.exports=i},{}],88:[function(t,e,n){var i=t("../internals/isNative"),r="[object Array]",o=Object.prototype,s=o.toString,a=i(a=Array.isArray)&&a,l=a||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&s.call(t)==r||!1};e.exports=l},{"../internals/isNative":75}],89:[function(t,e,n){function i(t){return"function"==typeof t}e.exports=i},{}],90:[function(t,e,n){function i(t){return!(!t||!r[typeof t])}var r=t("../internals/objectTypes");e.exports=i},{"../internals/objectTypes":77}],91:[function(t,e,n){function i(t){return"string"==typeof t||t&&"object"==typeof t&&s.call(t)==r||!1}var r="[object String]",o=Object.prototype,s=o.toString;e.exports=i},{}],92:[function(t,e,n){var i=t("../internals/isNative"),r=t("./isObject"),o=t("../internals/shimKeys"),s=i(s=Object.keys)&&s,a=s?function(t){return r(t)?s(t):[]}:o;e.exports=a},{"../internals/isNative":75,"../internals/shimKeys":81,"./isObject":90}],93:[function(t,e,n){function i(t){for(var e=-1,n=r(t),i=n.length,o=Array(i);++e<i;)o[e]=t[n[e]];return o}var r=t("./keys");e.exports=i},{"./keys":92}],94:[function(t,e,n){var i=t("./internals/isNative"),r=/\bthis\b/,o={};o.funcDecomp=!i(window.WinRTError)&&r.test(function(){return this}),o.funcNames="string"==typeof Function.name,e.exports=o},{"./internals/isNative":75}],95:[function(t,e,n){function i(t){return null==t?"":String(t).replace(o,r)}var r=t("../internals/escapeHtmlChar"),o=(t("../objects/keys"),t("../internals/reUnescapedHtml"));e.exports=i},{"../internals/escapeHtmlChar":72,"../internals/reUnescapedHtml":78,"../objects/keys":92}],96:[function(t,e,n){function i(t){return t}e.exports=i},{}],97:[function(t,e,n){function i(){}e.exports=i},{}],98:[function(t,e,n){function i(t){return function(e){return e[t]}}e.exports=i},{}],99:[function(t,e,n){var i=t("./api/command-patch"),r=t("./api/command"),o=t("./api/node"),s=t("./api/selection"),a=t("./api/simple-command");e.exports=function(t){this.CommandPatch=i(t),this.Command=r(t),this.Node=o,this.Selection=s(t),this.SimpleCommand=a(this,t)}},{"./api/command":101,"./api/command-patch":100,"./api/node":102,"./api/selection":103,"./api/simple-command":104}],100:[function(t,e,n){"use strict";e.exports=function(t){function e(t){this.commandName=t}return e.prototype.execute=function(e){t.transactionManager.run(function(){document.execCommand(this.commandName,!1,e||null)}.bind(this))},e.prototype.queryState=function(){return document.queryCommandState(this.commandName)},e.prototype.queryEnabled=function(){return document.queryCommandEnabled(this.commandName)},e}},{}],101:[function(t,e,n){"use strict";e.exports=function(t){function e(e){this.commandName=e,this.patch=t.commandPatches[this.commandName]}return e.prototype.execute=function(e){this.patch?this.patch.execute(e):t.transactionManager.run(function(){document.execCommand(this.commandName,!1,e||null)}.bind(this))},e.prototype.queryState=function(){return this.patch?this.patch.queryState():document.queryCommandState(this.commandName)},e.prototype.queryEnabled=function(){return this.patch?this.patch.queryEnabled():document.queryCommandEnabled(this.commandName)},e}},{}],102:[function(t,e,n){"use strict";function i(t){this.node=t}i.prototype.getAncestor=function(t,e){var n=function(e){return t===e};if(!n(this.node))for(var i=this.node.parentNode;i&&!n(i);){if(e(i))return i;i=i.parentNode}},i.prototype.nextAll=function(){for(var t=[],e=this.node.nextSibling;e;)t.push(e),e=e.nextSibling;return t},e.exports=i},{}],103:[function(t,e,n){t("../element");e.exports=function(t){function e(){for(var e=document,n=t.el.parentNode;n&&n.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&n.nodeType!==Node.DOCUMENT_NODE;)n=n.parentNode;if(n&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.getSelection&&(e=n),this.selection=e.getSelection(),this.selection.rangeCount){this.range=document.createRange();var i=document.createRange();this.range.setStart(this.selection.anchorNode,this.selection.anchorOffset),i.setStart(this.selection.focusNode,this.selection.focusOffset),this.range.compareBoundaryPoints(Range.START_TO_START,i)<=0?this.range.setEnd(this.selection.focusNode,this.selection.focusOffset):(this.range=i,this.range.setEnd(this.selection.anchorNode,this.selection.anchorOffset))}}return e.prototype.getContaining=function(e){var n=this.range;if(n){var i=new t.api.Node(this.range.commonAncestorContainer),r=i.node&&t.el===i.node;return!r&&e(i.node)?i.node:i.getAncestor(t.el,e)}},e.prototype.placeMarkers=function(){var e=this.range;if(e&&t.el.offsetParent){var n=document.createRange();n.selectNodeContents(t.el);var i=this.range.compareBoundaryPoints(Range.START_TO_START,n)>=0,r=this.range.compareBoundaryPoints(Range.END_TO_END,n)<=0;if(i&&r){var o=document.createElement("em");o.classList.add("scribe-marker");var s=document.createElement("em");s.classList.add("scribe-marker");var a=this.range.cloneRange();if(a.collapse(!1),a.insertNode(s),s.nextSibling&&s.nextSibling.nodeType===Node.TEXT_NODE&&""===s.nextSibling.data&&s.parentNode.removeChild(s.nextSibling),s.previousSibling&&s.previousSibling.nodeType===Node.TEXT_NODE&&""===s.previousSibling.data&&s.parentNode.removeChild(s.previousSibling),!this.range.collapsed){var l=this.range.cloneRange();l.collapse(!0),l.insertNode(o),o.nextSibling&&o.nextSibling.nodeType===Node.TEXT_NODE&&""===o.nextSibling.data&&o.parentNode.removeChild(o.nextSibling),o.previousSibling&&o.previousSibling.nodeType===Node.TEXT_NODE&&""===o.previousSibling.data&&o.parentNode.removeChild(o.previousSibling)}this.selection.removeAllRanges(),this.selection.addRange(this.range)}}},e.prototype.getMarkers=function(){return t.el.querySelectorAll("em.scribe-marker")},e.prototype.removeMarkers=function(){var t=this.getMarkers();Array.prototype.forEach.call(t,function(t){t.parentNode.removeChild(t)})},e.prototype.selectMarkers=function(t){var e=this.getMarkers();if(e.length){var n=document.createRange();n.setStartBefore(e[0]),e.length>=2?n.setEndAfter(e[1]):n.setEndAfter(e[0]),t||this.removeMarkers(),this.selection.removeAllRanges(),this.selection.addRange(n)}},e.prototype.isCaretOnNewLine=function(){function t(t){for(var e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null,!1),n=e.root;n;){var i=n.childNodes.length;if(i>1||1===i&&""!==n.textContent.trim())return!1;if(0===i)return""===n.textContent.trim();n=e.nextNode()}}var e=this.getContaining(function(t){return"P"===t.nodeName});return e?t(e):!1},e}},{"../element":106}],104:[function(t,e,n){"use strict";e.exports=function(t,e){function n(t,n){e.api.Command.call(this,t),this._nodeName=n}return n.prototype=Object.create(t.Command.prototype),n.prototype.constructor=n,n.prototype.queryState=function(){var t=new e.api.Selection;return e.api.Command.prototype.queryState.call(this)&&!!t.getContaining(function(t){return t.nodeName===this._nodeName}.bind(this))},n}},{}],105:[function(t,e,n){function i(t,e){function n(t){var e=r(t.map(function(t){var e=o(t.addedNodes),n=o(t.removedNodes);return e.concat(n)})),n=e.filter(function(t){return!a.isEmptyTextNode(t)}).filter(function(t){return!s.isSelectionMarkerNode(t)});return n.length>0}var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,l=!1,u=new i(function(t){if(!l&&n(t)){l=!0;try{e()}catch(i){throw i}finally{setTimeout(function(){l=!1},0)}}});return u.observe(t,{attributes:!0,childList:!0,subtree:!0}),u}var r=t("lodash-amd/modern/arrays/flatten"),o=t("lodash-amd/modern/collections/toArray"),s=t("./element"),a=t("./node");e.exports=i},{"./element":106,"./node":108,"lodash-amd/modern/arrays/flatten":55,"lodash-amd/modern/collections/toArray":60}],106:[function(t,e,n){function i(t){return a(l,t.nodeName)}function r(t){return t.nodeType===Node.ELEMENT_NODE&&"scribe-marker"===t.className}function o(t){return t.nodeType===Node.ELEMENT_NODE&&"caret-position"===t.className}function s(t,e){for(;e.childNodes.length>0;)t.insertBefore(e.childNodes[0],e);t.removeChild(e)}var a=t("lodash-amd/modern/collections/contains"),l=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","CANVAS","DD","DIV","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TD","TH","TFOOT","UL","VIDEO"];e.exports={isBlockElement:i,isSelectionMarkerNode:r,isCaretPositionNode:o,unwrap:s}},{"lodash-amd/modern/collections/contains":58}],107:[function(t,e,n){function i(){this._listeners={}}var r=(t("lodash-amd/modern/arrays/pull"),t("immutable/dist/immutable"));i.prototype.on=function(t,e){var n=this._listeners[t]||r.Set();this._listeners[t]=n.add(e)},i.prototype.off=function(t,e){var n=this._listeners[t]||r.Set();n=e?n["delete"](e):n.clear()},i.prototype.trigger=function(t,e){for(var n=t.split(":");n.length;){var i=n.join(":"),o=this._listeners[i]||r.Set();o.forEach(function(t){t.apply(null,e)}),n.splice(n.length-1,1)}},e.exports=i},{"immutable/dist/immutable":54,"lodash-amd/modern/arrays/pull":57}],108:[function(t,e,n){"use strict";function i(t){return t.nodeType===Node.TEXT_NODE&&""===t.textContent}function r(t,e){return e.parentNode.insertBefore(t,e.nextSibling)}function o(t){return t.parentNode.removeChild(t)}e.exports={isEmptyTextNode:i,insertAfter:r,removeNode:o}},{}],109:[function(t,e,n){var i=t("./commands/indent"),r=t("./commands/insert-list"),o=t("./commands/outdent"),s=t("./commands/redo"),a=t("./commands/subscript"),l=t("./commands/superscript"),u=t("./commands/undo");e.exports={indent:i,insertList:r,outdent:o,redo:s,subscript:a,superscript:l,undo:u}},{"./commands/indent":110,"./commands/insert-list":111,"./commands/outdent":112,"./commands/redo":113,"./commands/subscript":114,"./commands/superscript":115,"./commands/undo":116}],110:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.Command("indent");e.queryEnabled=function(){var e=new t.api.Selection,n=e.getContaining(function(t){return"UL"===t.nodeName||"OL"===t.nodeName});return t.api.Command.prototype.queryEnabled.call(this)&&t.allowsBlockElements()&&!n},t.commands.indent=e}}},{}],111:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=function(e){t.api.Command.call(this,e)};e.prototype=Object.create(t.api.Command.prototype),e.prototype.constructor=e,e.prototype.execute=function(e){function n(t){if(t.length>0){var e=document.createElement(o.nodeName);t.forEach(function(t){e.appendChild(t)}),o.parentNode.insertBefore(e,o.nextElementSibling)}}if(this.queryState()){var i=new t.api.Selection,r=i.range,o=i.getContaining(function(t){return"OL"===t.nodeName||"UL"===t.nodeName}),s=i.getContaining(function(t){return"LI"===t.nodeName});t.transactionManager.run(function(){if(s){var e=new t.api.Node(s).nextAll();n(e),i.placeMarkers();var a=document.createElement("p");a.innerHTML=s.innerHTML,o.parentNode.insertBefore(a,o.nextElementSibling),s.parentNode.removeChild(s)}else{var l=Array.prototype.map.call(o.querySelectorAll("li"),function(t){return r.intersectsNode(t)&&t}).filter(function(t){return t}),u=l.slice(-1)[0],c=new t.api.Node(u).nextAll();n(c),i.placeMarkers();var h=document.createDocumentFragment();l.forEach(function(t){var e=document.createElement("p");e.innerHTML=t.innerHTML,h.appendChild(e)}),o.parentNode.insertBefore(h,o.nextElementSibling),l.forEach(function(t){t.parentNode.removeChild(t)})}0===o.childNodes.length&&o.parentNode.removeChild(o),i.selectMarkers()}.bind(this))}else t.api.Command.prototype.execute.call(this,e)},e.prototype.queryEnabled=function(){return t.api.Command.prototype.queryEnabled.call(this)&&t.allowsBlockElements()},t.commands.insertOrderedList=new e("insertOrderedList"),t.commands.insertUnorderedList=new e("insertUnorderedList")}}},{}],112:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.Command("outdent");e.queryEnabled=function(){var e=new t.api.Selection,n=e.getContaining(function(t){return"UL"===t.nodeName||"OL"===t.nodeName});return t.api.Command.prototype.queryEnabled.call(this)&&t.allowsBlockElements()&&!n},t.commands.outdent=e}}},{}],113:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.Command("redo");e.execute=function(){var e=t.undoManager.redo();"undefined"!=typeof e&&t.restoreFromHistory(e)},e.queryEnabled=function(){return t.undoManager.position<t.undoManager.stack.length-1},t.commands.redo=e,t.options.undo.enabled&&t.el.addEventListener("keydown",function(t){t.shiftKey&&(t.metaKey||t.ctrlKey)&&90===t.keyCode&&(t.preventDefault(),e.execute())})}}},{}],114:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.Command("subscript");t.commands.subscript=e}}},{}],115:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.Command("superscript");t.commands.superscript=e}}},{}],116:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.Command("undo");e.execute=function(){var e=t.undoManager.undo();"undefined"!=typeof e&&t.restoreFromHistory(e)},e.queryEnabled=function(){return t.undoManager.position>1},t.commands.undo=e,t.options.undo.enabled&&t.el.addEventListener("keydown",function(t){t.shiftKey||!t.metaKey&&!t.ctrlKey||90!==t.keyCode||(t.preventDefault(),e.execute())})}}},{}],117:[function(t,e,n){var i=t("lodash-amd/modern/collections/contains"),r=t("../../dom-observer");e.exports=function(){return function(t){var e=function(){setTimeout(function(){t.pushHistory()}.bind(t),0),t.el.removeEventListener("focus",e)}.bind(t);t.el.addEventListener("focus",e),t.el.addEventListener("focus",function(){function e(t){var n=document.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),i=n.currentNode;return n.firstChild()?"BR"===n.currentNode.nodeName?i:e(n.currentNode):n.currentNode}var n=new t.api.Selection;if(n.range){var i=t.allowsBlockElements()&&n.range.startContainer===t.el;if(i){var r=e(t.el.firstChild),o=n.range;o.setStart(r,0),o.setEnd(r,0),n.selection.removeAllRanges(),n.selection.addRange(o)}}}.bind(t));var n=function(){if(!t._skipFormatters){var e=new t.api.Selection,n=e.range,i=function(){n&&e.placeMarkers(),t.setHTML(t._htmlFormatterFactory.format(t.getHTML())),e.selectMarkers()}.bind(t);n?(t.undoManager&&t.undoManager.undo(),t.transactionManager.run(i)):i()}delete t._skipFormatters}.bind(t);r(t.el,n),t.allowsBlockElements()&&t.el.addEventListener("keydown",function(e){if(13===e.keyCode){var n=new t.api.Selection,i=n.range,r=n.getContaining(function(t){return/^(H[1-6])$/.test(t.nodeName)});if(r&&i.collapsed){var o=i.cloneRange();o.setEndAfter(r,0);var s=o.cloneContents();""===s.firstChild.textContent&&(e.preventDefault(),t.transactionManager.run(function(){var t=document.createElement("p"),e=document.createElement("br");t.appendChild(e),r.parentNode.insertBefore(t,r.nextElementSibling),i.setStart(t,0),i.setEnd(t,0),n.selection.removeAllRanges(),n.selection.addRange(i)}))}}}),t.allowsBlockElements()&&t.el.addEventListener("keydown",function(e){if(13===e.keyCode||8===e.keyCode){var n=new t.api.Selection,i=n.range;if(i.collapsed){var r=n.getContaining(function(t){return"LI"===t.nodeName});if(r&&""===r.textContent.trim()){e.preventDefault();var o=n.getContaining(function(t){return"UL"===t.nodeName||"OL"===t.nodeName}),s=t.getCommand("OL"===o.nodeName?"insertOrderedList":"insertUnorderedList");s.execute()}}}}),t.el.addEventListener("paste",function(e){if(e.clipboardData)e.preventDefault(),i(e.clipboardData.types,"text/html")?t.insertHTML(e.clipboardData.getData("text/html")):t.insertPlainText(e.clipboardData.getData("text/plain"));else{var n=new t.api.Selection;n.placeMarkers();var r=document.createElement("div");document.body.appendChild(r),r.setAttribute("contenteditable",!0),r.focus(),setTimeout(function(){var e=r.innerHTML;r.parentNode.removeChild(r),n.selectMarkers(),t.el.focus(),t.insertHTML(e)},1)}})}}},{"../../dom-observer":105,"lodash-amd/modern/collections/contains":58}],118:[function(t,e,n){function i(t,e){var n=Array.prototype.reduce.call(e.childNodes,function(e,n){function i(){var t=[n];e.push(t)}var r=o(e);if(r){var s=t.element.isBlockElement(r[0]);s===t.element.isBlockElement(n)?r.push(n):i()}else i();return e},[]),i=n.filter(function(e){var n=t.element.isBlockElement(e[0]);return!n});i.forEach(function(t){var e=document.createElement("p");t[0].parentNode.insertBefore(e,t[0]),t.forEach(function(t){e.appendChild(t)})}),e._isWrapped=!0}function r(t,e){for(var n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1),o=n.firstChild();o;){if("BLOCKQUOTE"===o.nodeName&&!o._isWrapped){i(t,o),r(t,e);break}o=n.nextSibling()}}var o=t("lodash-amd/modern/arrays/last");e.exports=function(){return function(t){t.registerHTMLFormatter("normalize",function(e){var n=document.createElement("div");return n.innerHTML=e,i(t,n),r(t,n),n.innerHTML})}}},{"lodash-amd/modern/arrays/last":56}],119:[function(t,e,n){function i(t,e){return t.isCaretPositionNode(e)?!0:""===e.parentNode.textContent.trim()}function r(t,e){function n(e){return 0===e.children.length&&t.isBlockElement(e)||1===e.children.length&&t.isSelectionMarkerNode(e.children[0])?!0:t.isBlockElement(e)||0!==e.children.length?!1:i(t,e)}for(var a=e.firstElementChild;a;)t.isSelectionMarkerNode(a)||(n(a)&&""===a.textContent.trim()&&!o(s,a.nodeName)?a.appendChild(document.createElement("br")):a.children.length>0&&r(t,a)),a=a.nextElementSibling}var o=(t("../../../../element"),t("lodash-amd/modern/collections/contains")),s=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];e.exports=function(){return function(t){t.registerHTMLFormatter("normalize",function(e){var n=document.createElement("div");return n.innerHTML=e,r(t.element,n),n.innerHTML})}}},{"../../../../element":106,"lodash-amd/modern/collections/contains":58}],120:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=/(\s|&nbsp;)+/g;t.registerHTMLFormatter("export",function(t){return t.replace(e," ")})}}},{}],121:[function(t,e,n){var i=t("lodash-amd/modern/utilities/escape");e.exports=function(){return function(t){t.registerPlainTextFormatter(i)}}},{"lodash-amd/modern/utilities/escape":95}],122:[function(t,e,n){"use strict";function i(t){for(var e=document.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1);e.nextNode();)if(e.currentNode&&(~["br"].indexOf(e.currentNode.nodeName.toLowerCase())||e.currentNode.length>0))return!0;return!1}e.exports=function(){return function(t){t.el.addEventListener("keydown",function(e){if(13===e.keyCode){var n=new t.api.Selection,r=n.range,o=n.getContaining(function(t){return"LI"===t.nodeName||/^(H[1-6])$/.test(t.nodeName)});o||(e.preventDefault(),t.transactionManager.run(function(){"BR"===t.el.lastChild.nodeName&&t.el.removeChild(t.el.lastChild);var e=document.createElement("br");r.insertNode(e),r.collapse(!1);var o=r.cloneRange();o.setEndAfter(t.el.lastChild,0);var s=o.cloneContents();if(!i(s)){var a=document.createElement("br");r.insertNode(a)}var l=r.cloneRange();l.setStartAfter(e,0),l.setEndAfter(e,0),n.selection.removeAllRanges(),n.selection.addRange(l)}))}}.bind(this)),""===t.getHTML().trim()&&t.setContent("")}}},{}],123:[function(t,e,n){var i=t("./patches/commands/bold"),r=t("./patches/commands/indent"),o=t("./patches/commands/insert-html"),s=t("./patches/commands/insert-list"),a=t("./patches/commands/outdent"),l=t("./patches/commands/create-link"),u=t("./patches/events");e.exports={commands:{bold:i,indent:r,insertHTML:o,insertList:s,outdent:a,createLink:l},events:u}},{"./patches/commands/bold":124,"./patches/commands/create-link":125,"./patches/commands/indent":126,"./patches/commands/insert-html":127,"./patches/commands/insert-list":128,"./patches/commands/outdent":129,"./patches/events":130}],124:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.CommandPatch("bold");e.queryEnabled=function(){var e=new t.api.Selection,n=e.getContaining(function(t){return/^(H[1-6])$/.test(t.nodeName)});return t.api.CommandPatch.prototype.queryEnabled.apply(this,arguments)&&!n},t.commandPatches.bold=e}}},{}],125:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.CommandPatch("createLink");t.commandPatches.createLink=e,e.execute=function(e){var n=new t.api.Selection;if(n.range.collapsed){var i=document.createElement("a");i.setAttribute("href",e),i.textContent=e,n.range.insertNode(i);var r=document.createRange();r.setStartBefore(i),r.setEndAfter(i),n.selection.removeAllRanges(),n.selection.addRange(r)}else t.api.CommandPatch.prototype.execute.call(this,e)}}}},{}],126:[function(t,e,n){"use strict";var i="\ufeff";e.exports=function(){return function(t){var e=new t.api.CommandPatch("indent");e.execute=function(e){t.transactionManager.run(function(){var n=new t.api.Selection,r=n.range,o="P"===r.commonAncestorContainer.nodeName&&"<br>"===r.commonAncestorContainer.innerHTML;if(o){var s=document.createTextNode(i);r.insertNode(s),r.setStart(s,0),r.setEnd(s,0),n.selection.removeAllRanges(),n.selection.addRange(r)}t.api.CommandPatch.prototype.execute.call(this,e),n=new t.api.Selection;var a=n.getContaining(function(t){return"BLOCKQUOTE"===t.nodeName});a&&a.removeAttribute("style")}.bind(this))},t.commandPatches.indent=e}}},{}],127:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.CommandPatch("insertHTML"),n=t.element;e.execute=function(e){t.transactionManager.run(function(){function i(t){var e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null,!1),r=e.firstChild();if(r)do"SPAN"===r.nodeName?n.unwrap(t,r):(r.style.lineHeight=null,""===r.getAttribute("style")&&r.removeAttribute("style")),i(r);while(r=e.nextSibling())}t.api.CommandPatch.prototype.execute.call(this,e),i(t.el)}.bind(this))},t.commandPatches.insertHTML=e}}},{}],128:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=t.element,n=t.node,i=function(e){t.api.CommandPatch.call(this,e)};i.prototype=Object.create(t.api.CommandPatch.prototype),i.prototype.constructor=i,i.prototype.execute=function(i){t.transactionManager.run(function(){if(t.api.CommandPatch.prototype.execute.call(this,i),this.queryState()){var r=new t.api.Selection,o=r.getContaining(function(t){return"OL"===t.nodeName||"UL"===t.nodeName});if(o.nextElementSibling&&0===o.nextElementSibling.childNodes.length&&n.removeNode(o.nextElementSibling),o){var s=o.parentNode;s&&/^(H[1-6]|P)$/.test(s.nodeName)&&(r.placeMarkers(),n.insertAfter(o,s),r.selectMarkers(),2===s.childNodes.length&&n.isEmptyTextNode(s.firstChild)&&n.removeNode(s),0===s.childNodes.length&&n.removeNode(s))}var a=Array.prototype.slice.call(o.childNodes);a.forEach(function(t){var n=Array.prototype.slice.call(t.childNodes);n.forEach(function(n){if("SPAN"===n.nodeName){var i=n;e.unwrap(t,i)}else n.nodeType===Node.ELEMENT_NODE&&(n.style.lineHeight=null,""===n.getAttribute("style")&&n.removeAttribute("style"))})})}}.bind(this))},t.commandPatches.insertOrderedList=new i("insertOrderedList"),t.commandPatches.insertUnorderedList=new i("insertUnorderedList")}}},{}],129:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.CommandPatch("outdent");e.execute=function(){t.transactionManager.run(function(){var e=new t.api.Selection,n=e.range,i=e.getContaining(function(t){return"BLOCKQUOTE"===t.nodeName});if("BLOCKQUOTE"===n.commonAncestorContainer.nodeName){e.placeMarkers(),e.selectMarkers(!0);var r=n.cloneContents();i.parentNode.insertBefore(r,i),n.deleteContents(),e.selectMarkers(),""===i.textContent&&i.parentNode.removeChild(i)}else{var o=e.getContaining(function(t){return"P"===t.nodeName});if(o){var s=new t.api.Node(o).nextAll();if(s.length){var a=document.createElement(i.nodeName);s.forEach(function(t){a.appendChild(t)}),i.parentNode.insertBefore(a,i.nextElementSibling)}e.placeMarkers(),i.parentNode.insertBefore(o,i.nextElementSibling),e.selectMarkers(),""===i.innerHTML&&i.parentNode.removeChild(i)}else t.api.CommandPatch.prototype.execute.call(this)}}.bind(this))},t.commandPatches.outdent=e}}},{}],130:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=t.element;t.allowsBlockElements()&&t.el.addEventListener("keyup",function(n){if(8===n.keyCode||46===n.keyCode){var i=new t.api.Selection,r=i.getContaining(function(t){return"P"===t.nodeName});r&&(t.undoManager&&t.undoManager.undo(),t.transactionManager.run(function(){i.placeMarkers();var t=Array.prototype.slice.call(r.childNodes);t.forEach(function(t){if("SPAN"===t.nodeName){var n=t;e.unwrap(r,n)}else t.nodeType===Node.ELEMENT_NODE&&(t.style.lineHeight=null,""===t.getAttribute("style")&&t.removeAttribute("style"))}),i.selectMarkers()}))}})}}},{}],131:[function(t,e,n){"use strict";e.exports=function(){return function(t){""===t.getHTML().trim()&&t.setContent("<p><br></p>")}}},{}],132:[function(t,e,n){function i(t,e){b.call(this),this.el=t,this.commands={},this.options=s(e||{},{allowBlockElements:!0,debug:!1,undo:{enabled:!0},defaultCommandPatches:["bold","indent","insertHTML","insertList","outdent","createLink"]}),this.commandPatches={},this._plainTextFormatterFactory=new r,this._htmlFormatterFactory=new o,this.api=new g(this),this.node=_,this.element=w,this.Immutable=x;var n=v(this);if(this.transactionManager=new n,this.undoManager=!1,this.options.undo.enabled){var i=y(this);this.undoManager=new i}this.el.setAttribute("contenteditable",!0),this.el.addEventListener("input",function(){this.transactionManager.run()}.bind(this),!1),this.allowsBlockElements()?(this.use(m()),this.use(c()),this.use(h())):this.use(p());var k=x.List.of(d,u),S=x.List.of(f.events),$=x.List(this.options.defaultCommandPatches).map(function(t){return f.commands[t]}),T=x.List.of("indent","insertList","outdent","redo","subscript","superscript","undo").map(function(t){return a[t]}),E=x.List().concat(k,S,$,T);E.forEach(function(t){this.use(t())}.bind(this)),this.use(l())}function r(){this.formatters=x.List()}function o(){this.formatters={sanitize:x.List(),normalize:x.List(),"export":x.List()}}var s=t("lodash-amd/modern/objects/defaults"),a=t("./plugins/core/commands"),l=t("./plugins/core/events"),u=t("./plugins/core/formatters/html/replace-nbsp-chars"),c=t("./plugins/core/formatters/html/enforce-p-elements"),h=t("./plugins/core/formatters/html/ensure-selectable-containers"),d=t("./plugins/core/formatters/plain-text/escape-html-characters"),p=t("./plugins/core/inline-elements-mode"),f=t("./plugins/core/patches"),m=t("./plugins/core/set-root-p-element"),g=t("./api"),v=t("./transaction-manager"),y=t("./undo-manager"),b=t("./event-emitter"),w=t("./element"),_=t("./node"),x=t("immutable/dist/immutable");i.prototype=Object.create(b.prototype),i.prototype.use=function(t){return t(this),this},i.prototype.setHTML=function(t,e){e&&(this._skipFormatters=!0),this.el.innerHTML!==t&&(this.el.innerHTML=t)},i.prototype.getHTML=function(){return this.el.innerHTML},i.prototype.getContent=function(){return this._htmlFormatterFactory.formatForExport(this.getHTML().replace(/<br>$/,""))},i.prototype.getTextContent=function(){return this.el.textContent},i.prototype.pushHistory=function(){if(this.options.undo.enabled){var t=this.undoManager.stack[this.undoManager.position],e=t&&t.replace(/<em class="scribe-marker">/g,"").replace(/<\/em>/g,"");if(!t||t&&this.getHTML()!==e){var n=new this.api.Selection;n.placeMarkers();var i=this.getHTML();return n.removeMarkers(),this.undoManager.push(i),!0}return!1}return!1},i.prototype.getCommand=function(t){return this.commands[t]||this.commandPatches[t]||new this.api.Command(t)},i.prototype.restoreFromHistory=function(t){this.setHTML(t,!0);var e=new this.api.Selection;e.selectMarkers(),this.trigger("content-changed")},i.prototype.allowsBlockElements=function(){return this.options.allowBlockElements},i.prototype.setContent=function(t){this.allowsBlockElements()||(t+="<br>"),this.setHTML(t),this.trigger("content-changed")},i.prototype.insertPlainText=function(t){this.insertHTML("<p>"+this._plainTextFormatterFactory.format(t)+"</p>")},i.prototype.insertHTML=function(t){this.getCommand("insertHTML").execute(this._htmlFormatterFactory.format(t))},i.prototype.isDebugModeEnabled=function(){return this.options.debug},i.prototype.registerHTMLFormatter=function(t,e){this._htmlFormatterFactory.formatters[t]=this._htmlFormatterFactory.formatters[t].push(e)},i.prototype.registerPlainTextFormatter=function(t){this._plainTextFormatterFactory.formatters=this._plainTextFormatterFactory.formatters.push(t)},r.prototype.format=function(t){var e=this.formatters.reduce(function(t,e){return e(t)},t);return e},o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.format=function(t){var e=this.formatters.sanitize.concat(this.formatters.normalize),n=e.reduce(function(t,e){return e(t)},t);return n},o.prototype.formatForExport=function(t){return this.formatters["export"].reduce(function(t,e){return e(t)},t)},e.exports=i},{"./api":99,"./element":106,"./event-emitter":107,"./node":108,"./plugins/core/commands":109,"./plugins/core/events":117,"./plugins/core/formatters/html/enforce-p-elements":118,"./plugins/core/formatters/html/ensure-selectable-containers":119,"./plugins/core/formatters/html/replace-nbsp-chars":120,"./plugins/core/formatters/plain-text/escape-html-characters":121,"./plugins/core/inline-elements-mode":122,"./plugins/core/patches":123,"./plugins/core/set-root-p-element":131,"./transaction-manager":133,"./undo-manager":134,"immutable/dist/immutable":54,"lodash-amd/modern/objects/defaults":84}],133:[function(t,e,n){var i=t("lodash-amd/modern/objects/assign");e.exports=function(t){function e(){this.history=[]}return i(e.prototype,{start:function(){this.history.push(1)},end:function(){this.history.pop(),0===this.history.length&&(t.pushHistory(),t.trigger("content-changed"))},run:function(t){this.start();try{t&&t()}finally{this.end()}}}),e}},{"lodash-amd/modern/objects/assign":83}],134:[function(t,e,n){"use strict";e.exports=function(t){function e(){this.position=-1,this.stack=[],this.debug=t.isDebugModeEnabled()}return e.prototype.maxStackSize=100,e.prototype.push=function(t){for(this.debug&&console.log("UndoManager.push: %s",t),this.stack.length=++this.position,this.stack.push(t);this.stack.length>this.maxStackSize;)this.stack.shift(),--this.position},e.prototype.undo=function(){return this.position>0?this.stack[--this.position]:void 0},e.prototype.redo=function(){return this.position<this.stack.length-1?this.stack[++this.position]:void 0},e}},{}],135:[function(t,e,n){"use strict";e.exports=function(){return function(t){t.registerPlainTextFormatter(function(t){return t.replace(/\n([ \t]*\n)+/g,"</p><p>").replace(/\n/g,"<br>")})}}},{}],136:[function(t,e,n){"use strict";e.exports=function(){return function(t){var e=new t.api.Command("createLink");e.nodeName="A",e.execute=function(){var e=new t.api.Selection,n=e.range,i=e.getContaining(function(t){return t.nodeName===this.nodeName}.bind(this)),r=i?i.href:"http://",o=window.prompt("Enter a link.",r);if(i&&(n.selectNode(i),e.selection.removeAllRanges(),e.selection.addRange(n)),o){var s=/^https?\:\/\//;if(!s.test(o))if(!/^mailto\:/.test(o)&&/@/.test(o)){
var a=window.confirm("The URL you entered appears to be an email address. Do you want to add the required \u201cmailto:\u201d prefix?");a&&(o="mailto:"+o)}else{var l=window.confirm("The URL you entered appears to be a link. Do you want to add the required \u201chttp://\u201d prefix?");l&&(o="http://"+o)}t.api.SimpleCommand.prototype.execute.call(this,o)}},e.queryState=function(){var e=new t.api.Selection;return!!e.getContaining(function(t){return t.nodeName===this.nodeName}.bind(this))},t.commands.linkPrompt=e}}},{}],137:[function(e,n,i){/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 */
!function(e,r){"object"==typeof i?n.exports=r():"function"==typeof t&&t.amd?t(r):e.Spinner=r()}(this,function(){"use strict";function t(t,e){var n,i=document.createElement(t||"div");for(n in e)i[n]=e[n];return i}function e(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,i){var r=["opacity",e,~~(100*t),n,i].join("-"),o=.01+n/i*100,s=Math.max(1-(1-t)/e*(100-o),t),a=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[r]||(d.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",d.cssRules.length),h[r]=1),r}function i(t,e){var n,i,r=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<c.length;i++)if(n=c[i]+e,void 0!==r[n])return n;return void 0!==r[e]?e:void 0}function r(t,e){for(var n in e)t.style[i(t,n)||n]=e[n];return t}function o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)void 0===t[i]&&(t[i]=n[i])}return t}function s(t,e){return"string"==typeof t?t:t[e%t.length]}function a(t){this.opts=o(t||{},a.defaults,p)}function l(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}d.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,i){function o(){return r(n("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function a(t,a,l){e(d,e(r(o(),{rotation:360/i.lines*t+"deg",left:~~a}),e(r(n("roundrect",{arcsize:i.corners}),{width:u,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),n("fill",{color:s(i.color,t),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,u=i.length+i.width,c=2*u,h=2*-(i.width+i.length)+"px",d=r(o(),{position:"absolute",top:h,left:h});if(i.shadow)for(l=1;l<=i.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)a(l);return e(t,d)},a.prototype.opacity=function(t,e,n,i){var r=t.firstChild;i=i.shadow&&i.lines||0,r&&e+i<r.childNodes.length&&(r=r.childNodes[e+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var u,c=["webkit","Moz","ms","O"],h={},d=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},o(a.prototype,{spin:function(e){this.stop();var n=this,i=n.opts,o=n.el=r(t(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(r(o,{left:i.left,top:i.top}),e&&e.insertBefore(o,e.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!u){var s,a=0,l=(i.lines-1)*(1-i.direction)/2,c=i.fps,h=c/i.speed,d=(1-i.opacity)/(h*i.trail/100),p=h/i.lines;!function f(){a++;for(var t=0;t<i.lines;t++)s=Math.max(1-(a+(i.lines-t)*p)%h*d,i.opacity),n.opacity(o,t*i.direction+l,s,i);n.timeout=n.el&&setTimeout(f,~~(1e3/c))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(i,o){function a(e,n){return r(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*c+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var l,c=0,h=(o.lines-1)*(1-o.direction)/2;c<o.lines;c++)l=r(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:u&&n(o.opacity,o.trail,h+c*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&e(l,r(a("#000","0 0 4px #000"),{top:"2px"})),e(i,e(l,a(s(o.color,c),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var f=r(t("group"),{behavior:"url(#default#VML)"});return!i(f,"transform")&&f.adj?l():u=i(f,"animation"),a})},{}],138:[function(t,e,n){"use strict";var i=t("./lodash"),r=t("./blocks"),o=function(t){this.type=t,this.block_type=r[this.type].prototype,this.can_be_rendered=this.block_type.toolbarEnabled,this._ensureElement()};Object.assign(o.prototype,t("./function-bind"),t("./renderable"),t("./events"),{tagName:"a",className:"st-block-control",attributes:function(){return{"data-type":this.block_type.type}},render:function(){return this.$el.html('<span class="st-icon">'+i.result(this.block_type,"icon_name")+"</span>"+i.result(this.block_type,"title")),this}}),e.exports=o},{"./blocks":156,"./events":166,"./function-bind":173,"./lodash":178,"./renderable":180}],139:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("./blocks"),s=t("./block-control"),a=t("./event-bus"),l=function(t,e){this.available_types=t||[],this.mediator=e,this._ensureElement(),this._bindFunctions(),this._bindMediatedEvents(),this.initialize()};Object.assign(l.prototype,t("./function-bind"),t("./mediated-events"),t("./renderable"),t("./events"),{bound:["handleControlButtonClick"],block_controls:null,className:"st-block-controls",eventNamespace:"block-controls",mediatedEvents:{render:"renderInContainer",show:"show",hide:"hide"},initialize:function(){for(var t in this.available_types)if(o.hasOwnProperty(t)){var e=new s(t);e.can_be_rendered&&this.$el.append(e.render().$el)}this.$el.delegate(".st-block-control","click",this.handleControlButtonClick),this.mediator.on("block-controls:show",this.renderInContainer)},show:function(){this.$el.addClass("st-block-controls--active"),a.trigger("block:controls:shown")},hide:function(){this.removeCurrentContainer(),this.$el.removeClass("st-block-controls--active"),a.trigger("block:controls:hidden")},handleControlButtonClick:function(t){t.stopPropagation(),this.mediator.trigger("block:create",r(t.currentTarget).attr("data-type"))},renderInContainer:function(t){this.removeCurrentContainer(),t.append(this.$el.detach()),t.addClass("with-st-controls"),this.currentContainer=t,this.show()},removeCurrentContainer:function(){i.isUndefined(this.currentContainer)||(this.currentContainer.removeClass("with-st-controls"),this.currentContainer=void 0)}}),e.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./block-control":138,"./blocks":156,"./event-bus":165,"./events":166,"./function-bind":173,"./lodash":178,"./mediated-events":179,"./renderable":180}],140:[function(t,e,n){"use strict";var i=function(){this._ensureElement(),this._bindFunctions()};Object.assign(i.prototype,t("./function-bind"),t("./renderable"),{tagName:"a",className:"st-block-ui-btn st-block-ui-btn--delete st-icon",attributes:{html:"delete","data-icon":"bin"}}),e.exports=i},{"./function-bind":173,"./renderable":180}],141:[function(t,e,n){"use strict";var i=t("./lodash"),r=t("./utils"),o=t("./config"),s=t("./event-bus"),a=t("./blocks"),l=["convertToMarkdown","convertFromMarkdown","formatBar"],u=function(t,e,n){this.options=t,this.blockOptions=l.reduce(function(e,n){return e[n]=t[n],e},{}),this.instance_scope=e,this.mediator=n,this.blocks=[],this.blockCounts={},this.blockTypes={},this._setBlocksTypes(),this._setRequired(),this._bindMediatedEvents(),this.initialize()};Object.assign(u.prototype,t("./function-bind"),t("./mediated-events"),t("./events"),{eventNamespace:"block",mediatedEvents:{create:"createBlock",remove:"removeBlock",rerender:"rerenderBlock"},initialize:function(){},createBlock:function(t,e){if(t=r.classify(t),this.canCreateBlock(t)){var n=new a[t](e,this.instance_scope,this.mediator,this.blockOptions);this.blocks.push(n),this._incrementBlockTypeCount(t),this.mediator.trigger("block:render",n),this.triggerBlockCountUpdate(),this.mediator.trigger("block:limitReached",this.blockLimitReached()),s.trigger(e?"block:create:existing":"block:create:new",n),r.log("Block created of type "+t)}},removeBlock:function(t){var e=this.findBlockById(t),n=r.classify(e.type);this.mediator.trigger("block-controls:reset"),this.blocks=this.blocks.filter(function(t){return t.blockID!==e.blockID}),this._decrementBlockTypeCount(n),this.triggerBlockCountUpdate(),this.mediator.trigger("block:limitReached",this.blockLimitReached()),s.trigger("block:remove")},rerenderBlock:function(t){var e=this.findBlockById(t);i.isUndefined(e)||e.isEmpty()||!e.drop_options.re_render_on_reorder||e.beforeLoadingData()},triggerBlockCountUpdate:function(){this.mediator.trigger("block:countUpdate",this.blocks.length)},canCreateBlock:function(t){return this.blockLimitReached()?(r.log("Cannot add any more blocks. Limit reached."),!1):this.isBlockTypeAvailable(t)?this.canAddBlockType(t)?!0:(r.log("Block Limit reached for type "+t),!1):(r.log("Block type not available "+t),!1)},validateBlockTypesExist:function(t){return o.skipValidation||!t?!1:void(this.required||[]).forEach(function(t,e){if(this.isBlockTypeAvailable(t))if(0===this._getBlockTypeCount(t))r.log("Failed validation on required block type "+t),this.mediator.trigger("errors:add",{text:i18n.t("errors:type_missing",{type:t})});else{var n=this.getBlocksByType(t).filter(function(t){return!t.isEmpty()});if(n.length>0)return!1;this.mediator.trigger("errors:add",{text:i18n.t("errors:required_type_empty",{type:t})}),r.log("A required block type "+t+" is empty")}},this)},findBlockById:function(t){return this.blocks.find(function(e){return e.blockID===t})},getBlocksByType:function(t){return this.blocks.filter(function(e){return r.classify(e.type)===t})},getBlocksByIDs:function(t){return this.blocks.filter(function(e){return t.includes(e.blockID)})},blockLimitReached:function(){return 0!==this.options.blockLimit&&this.blocks.length>=this.options.blockLimit},isBlockTypeAvailable:function(t){return!i.isUndefined(this.blockTypes[t])},canAddBlockType:function(t){var e=this._getBlockTypeLimit(t);return!(0!==e&&this._getBlockTypeCount(t)>=e)},_setBlocksTypes:function(){this.blockTypes=r.flatten(i.isUndefined(this.options.blockTypes)?a:this.options.blockTypes)},_setRequired:function(){this.required=!1,Array.isArray(this.options.required)&&!i.isEmpty(this.options.required)&&(this.required=this.options.required)},_incrementBlockTypeCount:function(t){this.blockCounts[t]=i.isUndefined(this.blockCounts[t])?1:this.blockCounts[t]+1},_decrementBlockTypeCount:function(t){this.blockCounts[t]=i.isUndefined(this.blockCounts[t])?1:this.blockCounts[t]-1},_getBlockTypeCount:function(t){return i.isUndefined(this.blockCounts[t])?0:this.blockCounts[t]},_blockLimitReached:function(){return 0!==this.options.blockLimit&&this.blocks.length>=this.options.blockLimit},_getBlockTypeLimit:function(t){return this.isBlockTypeAvailable(t)?parseInt(i.isUndefined(this.options.blockTypeLimits[t])?0:this.options.blockTypeLimits[t],10):0}}),e.exports=u},{"./blocks":156,"./config":162,"./event-bus":165,"./events":166,"./function-bind":173,"./lodash":178,"./mediated-events":179,"./utils":184}],142:[function(t,e,n){"use strict";var i=["<div class='st-block-positioner__inner'>","<span class='st-block-positioner__selected-value'></span>","<select class='st-block-positioner__select'></select>","</div>"].join("\n"),r=function(t,e){this.mediator=e,this.$block=t,this._ensureElement(),this._bindFunctions(),this.initialize()};Object.assign(r.prototype,t("./function-bind"),t("./renderable"),{total_blocks:0,bound:["onBlockCountChange","onSelectChange","toggle","show","hide"],className:"st-block-positioner",visibleClass:"st-block-positioner--is-visible",initialize:function(){this.$el.append(i),this.$select=this.$(".st-block-positioner__select"),this.$select.on("change",this.onSelectChange),this.mediator.on("block:countUpdate",this.onBlockCountChange)},onBlockCountChange:function(t){t!==this.total_blocks&&(this.total_blocks=t,this.renderPositionList())},onSelectChange:function(){var t=this.$select.val();0!==t&&(this.mediator.trigger("block:changePosition",this.$block,t,1===t?"before":"after"),this.toggle())},renderPositionList:function(){for(var t="<option value='0'>"+i18n.t("general:position")+"</option>",e=1;e<=this.total_blocks;e++)t+="<option value="+e+">"+e+"</option>";this.$select.html(t)},toggle:function(){this.$select.val(0),this.$el.toggleClass(this.visibleClass)},show:function(){this.$el.addClass(this.visibleClass)},hide:function(){this.$el.removeClass(this.visibleClass)}}),e.exports=r},{"./function-bind":173,"./renderable":180}],143:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("./event-bus"),s=function(t,e){this.$block=t,this.blockID=this.$block.attr("id"),this.mediator=e,this._ensureElement(),this._bindFunctions(),this.initialize()};Object.assign(s.prototype,t("./function-bind"),t("./renderable"),{bound:["onMouseDown","onDragStart","onDragEnd","onDrop"],className:"st-block-ui-btn st-block-ui-btn--reorder st-icon",tagName:"a",attributes:function(){return{html:"reorder",draggable:"true","data-icon":"move"}},initialize:function(){this.$el.bind("mousedown touchstart",this.onMouseDown).bind("dragstart",this.onDragStart).bind("dragend touchend",this.onDragEnd),this.$block.dropArea().bind("drop",this.onDrop)},blockId:function(){return this.$block.attr("id")},onMouseDown:function(){this.mediator.trigger("block-controls:hide"),o.trigger("block:reorder:down")},onDrop:function(t){t.preventDefault();var e=this.$block,n=t.originalEvent.dataTransfer.getData("text/plain"),s=r("#"+n);i.isUndefined(n)||i.isEmpty(s)||e.attr("id")===n||e.attr("data-instance")!==s.attr("data-instance")||e.after(s),this.mediator.trigger("block:rerender",n),o.trigger("block:reorder:dropped",n)},onDragStart:function(t){var e=r(t.currentTarget).parent();t.originalEvent.dataTransfer.setDragImage(this.$block[0],e.position().left,e.position().top),t.originalEvent.dataTransfer.setData("Text",this.blockId()),o.trigger("block:reorder:dragstart"),this.$block.addClass("st-block--dragging")},onDragEnd:function(t){o.trigger("block:reorder:dragend"),this.$block.removeClass("st-block--dragging")},render:function(){return this}}),e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event-bus":165,"./function-bind":173,"./lodash":178,"./renderable":180}],144:[function(t,e,n){"use strict";var i=t("./lodash"),r=t("./utils"),o=t("./event-bus");e.exports={blockStorage:{},createStore:function(t){this.blockStorage={type:r.underscored(this.type),data:t||{}}},save:function(){var t=this._serializeData();i.isEmpty(t)||this.setData(t)},getData:function(){return this.save(),this.blockStorage},getBlockData:function(){return this.save(),this.blockStorage.data},_getData:function(){return this.blockStorage.data},setData:function(t){r.log("Setting data for block "+this.blockID),Object.assign(this.blockStorage.data,t||{})},setAndLoadData:function(t){this.setData(t),this.beforeLoadingData()},_serializeData:function(){},loadData:function(){},beforeLoadingData:function(){r.log("loadData for "+this.blockID),o.trigger("editor/block/loadData"),this.loadData(this._getData())},_loadData:function(){r.log("_loadData is deprecated and will be removed in the future. Please use beforeLoadingData instead."),this.beforeLoadingData()},checkAndLoadData:function(){i.isEmpty(this._getData())||this.beforeLoadingData()}}},{"./event-bus":165,"./lodash":178,"./utils":184}],145:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("./utils"),s=function(t){var e=t.attr("data-st-name")||t.attr("name");return e||(e="Field"),o.capitalize(e)};e.exports={errors:[],valid:function(){return this.performValidations(),0===this.errors.length},performValidations:function(){this.resetErrors();var t=this.$(".st-required");t.each(function(t,e){this.validateField(e)}.bind(this)),this.validations.forEach(this.runValidator,this),this.$el.toggleClass("st-block--with-errors",this.errors.length>0)},validations:[],validateField:function(t){t=r(t);var e=t.attr("contenteditable")?t.text():t.val();0===e.length&&this.setError(t,i18n.t("errors:block_empty",{name:s(t)}))},runValidator:function(t){i.isUndefined(this[t])||this[t].call(this)},setError:function(t,e){var n=this.addMessage(e,"st-msg--error");t.addClass("st-error"),this.errors.push({field:t,reason:e,msg:n})},resetErrors:function(){this.errors.forEach(function(t){t.field.removeClass("st-error"),t.msg.remove()}),this.$messages.removeClass("st-block__messages--is-visible"),this.errors=[]}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lodash":178,"./utils":184}],146:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("scribe-editor"),s=t("scribe-plugin-formatter-plain-text-convert-new-lines-to-html"),a=t("scribe-plugin-link-prompt-command"),l=t("./config"),u=t("./utils"),c=t("./to-markdown"),h=t("./block_mixins"),d=t("./simple-block"),p=t("./block-reorder"),f=t("./block-deletion"),m=t("./block-positioner"),g=t("./event-bus"),v=t("spin.js"),y=function(t,e,n,i){d.apply(this,arguments)};y.prototype=Object.create(d.prototype),y.prototype.constructor=y;var b=["<div class='st-block__ui-delete-controls'>","<label class='st-block__delete-label'>","<%= i18n.t('general:delete') %>","</label>","<a class='st-block-ui-btn st-block-ui-btn--confirm-delete st-icon' data-icon='tick'></a>","<a class='st-block-ui-btn st-block-ui-btn--deny-delete st-icon' data-icon='close'></a>","</div>"].join("\n");Object.assign(y.prototype,d.fn,t("./block-validations"),{bound:["_handleContentPaste","_onFocus","_onBlur","onDrop","onDeleteClick","clearInsertedStyles","getSelectionForFormatter","onBlockRender"],className:"st-block st-icon--add",attributes:function(){return Object.assign(d.fn.attributes.call(this),{"data-icon-after":"add"})},icon_name:"default",validationFailMsg:function(){return i18n.t("errors:validation_fail",{type:this.title()})},editorHTML:'<div class="st-block__editor"></div>',toolbarEnabled:!0,availableMixins:["droppable","pastable","uploadable","fetchable","ajaxable","controllable"],droppable:!1,pastable:!1,uploadable:!1,fetchable:!1,ajaxable:!1,drop_options:{},paste_options:{},upload_options:{},formattable:!0,_previousSelection:"",initialize:function(){},toMarkdown:function(t){return t},toHTML:function(t){return t},withMixin:function(t){if(i.isObject(t)){var e="initialize"+t.mixinName;i.isUndefined(this[e])&&(Object.assign(this,t),this[e]())}},render:function(){if(this.beforeBlockRender(),this._setBlockInner(),this.$editor=this.$inner.children().first(),this.droppable||this.pastable||this.uploadable){var t=r("<div>",{"class":"st-block__inputs"});this.$inner.append(t),this.$inputs=t}return this.hasTextBlock()&&this._initTextBlocks(),this.availableMixins.forEach(function(t){this[t]&&this.withMixin(h[u.classify(t)])},this),this.formattable&&this._initFormatting(),this._blockPrepare(),this},remove:function(){this.ajaxable&&this.resolveAllInQueue(),this.$el.remove()},loading:function(){i.isUndefined(this.spinner)||this.ready(),this.spinner=new v(l.defaults.spinner),this.spinner.spin(this.$el[0]),this.$el.addClass("st--is-loading")},ready:function(){this.$el.removeClass("st--is-loading"),i.isUndefined(this.spinner)||(this.spinner.stop(),delete this.spinner)},_serializeData:function(){u.log("toData for "+this.blockID);var t={};return this.hasTextBlock()&&(t.text=this.getTextBlockHTML(),t.text.length>0&&this.options.convertToMarkdown&&(t.text=c(t.text,this.type))),this.$(":input").not(".st-paste-block").length>0&&this.$(":input").each(function(e,n){n.getAttribute("name")&&(t[n.getAttribute("name")]=n.value)}),t},focus:function(){this.getTextBlock().focus()},blur:function(){this.getTextBlock().blur()},onFocus:function(){this.getTextBlock().bind("focus",this._onFocus)},onBlur:function(){this.getTextBlock().bind("blur",this._onBlur)},_onFocus:function(){this.trigger("blockFocus",this.$el)},_onBlur:function(){},onBlockRender:function(){this.focus()},onDrop:function(t){},onDeleteClick:function(t){t.preventDefault();var e=function(t){t.preventDefault(),this.mediator.trigger("block:remove",this.blockID),this.remove()},n=function(t){t.preventDefault(),this.$el.removeClass("st-block--delete-active"),r.remove()};if(this.isEmpty())return void e.call(this,new Event("click"));this.$inner.append(i.template(b)),this.$el.addClass("st-block--delete-active");var r=this.$inner.find(".st-block__ui-delete-controls");this.$inner.on("click",".st-block-ui-btn--confirm-delete",e.bind(this)).on("click",".st-block-ui-btn--deny-delete",n.bind(this))},beforeLoadingData:function(){this.loading(),(this.droppable||this.uploadable||this.pastable)&&(this.$editor.show(),this.$inputs.hide()),d.fn.beforeLoadingData.call(this),this.ready()},execTextBlockCommand:function(t){if(i.isUndefined(this._scribe))throw"No Scribe instance found to send a command to";var e=this._scribe.getCommand(t);this._scribe.el.focus(),e.execute()},queryTextBlockCommandState:function(t){if(i.isUndefined(this._scribe))throw"No Scribe instance found to query command";var e=this._scribe.getCommand(t),n=new this._scribe.api.Selection;return n.range&&e.queryState()},_handleContentPaste:function(t){setTimeout(this.onContentPasted.bind(this,t,r(t.currentTarget)),0)},_getBlockClass:function(){return"st-block--"+this.className},_initUIComponents:function(){var t=new m(this.$el,this.mediator);this._withUIComponent(t,".st-block-ui-btn--reorder",t.toggle),this._withUIComponent(new p(this.$el,this.mediator)),this._withUIComponent(new f,".st-block-ui-btn--delete",this.onDeleteClick),this.onFocus(),this.onBlur()},_initFormatting:function(){var t=this;this.options.formatBar&&this.options.formatBar.commands.forEach(function(e){if(!i.isUndefined(e.keyCode)){var n=!1;t.$el.on("keyup",".st-text-block",function(t){(17===t.which||224===t.which||91===t.which)&&(n=!1)}).on("keydown",".st-text-block",{formatter:e},function(e){(17===e.which||224===e.which||91===e.which)&&(n=!0),e.which===e.data.formatter.keyCode&&n&&(e.preventDefault(),t.execTextBlockCommand(e.data.formatter.cmd))})}})},_initTextBlocks:function(){this.getTextBlock().bind("keyup",this.getSelectionForFormatter).bind("mouseup",this.getSelectionForFormatter).bind("DOMNodeInserted",this.clearInsertedStyles);var t=this.getTextBlock().get(0);!i.isUndefined(t)&&i.isUndefined(this._scribe)&&(this._scribe=new o(t,{debug:l.scribeDebug}),this._scribe.use(s()),this._scribe.use(a()),i.isFunction(this.options.configureScribe)&&this.options.configureScribe.call(this,this._scribe))},getSelectionForFormatter:function(){var t=this;setTimeout(function(){var e=window.getSelection(),n=e.toString().trim(),i="formatter:"+(""===n?"hide":"position");t.mediator.trigger(i,t),g.trigger(i,t)},1)},clearInsertedStyles:function(t){var e=t.target;e.removeAttribute("style")},hasTextBlock:function(){return this.getTextBlock().length>0},getTextBlock:function(){return i.isUndefined(this.text_block)&&(this.text_block=this.$(".st-text-block")),this.text_block},getTextBlockHTML:function(){return this._scribe.getHTML()},setTextBlockHTML:function(t){return this._scribe.setContent(t)},isEmpty:function(){return i.isEmpty(this.getBlockData())}}),y.extend=t("./helpers/extend"),e.exports=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./block-deletion":140,"./block-positioner":142,"./block-reorder":143,"./block-validations":145,"./block_mixins":151,"./config":162,"./event-bus":165,"./helpers/extend":175,"./lodash":178,"./simple-block":181,"./to-markdown":183,"./utils":184,"scribe-editor":132,"scribe-plugin-formatter-plain-text-convert-new-lines-to-html":135,"scribe-plugin-link-prompt-command":136,"spin.js":137}],147:[function(t,e,n){"use strict";var i=t("../utils");e.exports={mixinName:"Ajaxable",ajaxable:!0,initializeAjaxable:function(){this._queued=[]},addQueuedItem:function(t,e){i.log("Adding queued item for "+this.blockID+" called "+t),this._queued.push({name:t,deferred:e})},removeQueuedItem:function(t){i.log("Removing queued item for "+this.blockID+" called "+t),this._queued=this._queued.filter(function(e){return e.name!==t})},hasItemsInQueue:function(){return this._queued.length>0},resolveAllInQueue:function(){this._queued.forEach(function(t){i.log("Aborting queued request: "+t.name),t.deferred.abort()},this)}}},{"../utils":184}],148:[function(t,e,n){(function(n){"use strict";var i="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,r=t("../utils");e.exports={mixinName:"Controllable",initializeControllable:function(){r.log("Adding controllable to block "+this.blockID),this.$control_ui=i("<div>",{"class":"st-block__control-ui"}),Object.keys(this.controls).forEach(function(t){this.addUiControl(t,this.controls[t].bind(this))},this),this.$inner.append(this.$control_ui)},getControlTemplate:function(t){return i("<a>",{"data-icon":t,"class":"st-icon st-block-control-ui-btn st-block-control-ui-btn--"+t})},addUiControl:function(t,e){this.$control_ui.append(this.getControlTemplate(t)),this.$control_ui.on("click",".st-block-control-ui-btn--"+t,e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils":184}],149:[function(t,e,n){(function(n){"use strict";var i=t("../lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("../config"),s=t("../utils"),a=t("../event-bus");e.exports={mixinName:"Droppable",valid_drop_file_types:["File","Files","text/plain","text/uri-list"],initializeDroppable:function(){s.log("Adding droppable to block "+this.blockID),this.drop_options=Object.assign({},o.defaults.Block.drop_options,this.drop_options);var t=r(i.template(this.drop_options.html,{block:this,_:i}));this.$editor.hide(),this.$inputs.append(t),this.$dropzone=t,this.$dropzone.dropArea().bind("drop",this._handleDrop.bind(this)),this.$inner.addClass("st-block__inner--droppable")},_handleDrop:function(t){t.preventDefault(),t=t.originalEvent;var e=r(t.target),n=t.dataTransfer.types;e.removeClass("st-dropzone--dragover"),n&&n.some(function(t){return this.valid_drop_file_types.includes(t)},this)&&this.onDrop(t.dataTransfer),a.trigger("block:content:dropped",this.blockID)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../config":162,"../event-bus":165,"../lodash":178,"../utils":184}],150:[function(t,e,n){(function(n){"use strict";var i=t("../lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null;e.exports={mixinName:"Fetchable",initializeFetchable:function(){this.withMixin(t("./ajaxable"))},fetch:function(t,e,n){var o=i.uniqueId(this.blockID+"_fetch"),s=r.ajax(t);return this.resetMessages(),this.addQueuedItem(o,s),i.isUndefined(e)||s.done(e.bind(this)),i.isUndefined(n)||s.fail(n.bind(this)),s.always(this.removeQueuedItem.bind(this,o)),s}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lodash":178,"./ajaxable":147}],151:[function(t,e,n){"use strict";e.exports={Ajaxable:t("./ajaxable.js"),Controllable:t("./controllable.js"),Droppable:t("./droppable.js"),Fetchable:t("./fetchable.js"),Pastable:t("./pastable.js"),Uploadable:t("./uploadable.js")}},{"./ajaxable.js":147,"./controllable.js":148,"./droppable.js":149,"./fetchable.js":150,"./pastable.js":152,"./uploadable.js":153}],152:[function(t,e,n){(function(n){"use strict";var i=t("../lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("../config"),s=t("../utils");e.exports={mixinName:"Pastable",initializePastable:function(){s.log("Adding pastable to block "+this.blockID),this.paste_options=Object.assign({},o.defaults.Block.paste_options,this.paste_options),this.$inputs.append(i.template(this.paste_options.html,this)),this.$(".st-paste-block").bind("click",function(){r(this).select()}).bind("paste",this._handleContentPaste).bind("submit",this._handleContentPaste)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../config":162,"../lodash":178,"../utils":184}],153:[function(t,e,n){"use strict";var i=t("../lodash"),r=t("../config"),o=t("../utils"),s=t("../extensions/file-uploader");e.exports={mixinName:"Uploadable",uploadsCount:0,initializeUploadable:function(){o.log("Adding uploadable to block "+this.blockID),this.withMixin(t("./ajaxable")),this.upload_options=Object.assign({},r.defaults.Block.upload_options,this.upload_options),this.$inputs.append(i.template(this.upload_options.html,this))},uploader:function(t,e,n){return s(this,t,e,n)}}},{"../config":162,"../extensions/file-uploader":168,"../lodash":178,"../utils":184,"./ajaxable":147}],154:[function(t,e,n){"use strict";var i=t("../block"),r=t("../to-html");e.exports=i.extend({type:"Heading",title:function(){return i18n.t("blocks:heading:title")},editorHTML:'<div class="st-required st-text-block st-text-block--heading" contenteditable="true"></div>',icon_name:"heading",loadData:function(t){this.getTextBlock().html(r(t.text,this.type))}})},{"../block":146,"../to-html":182}],155:[function(t,e,n){(function(n){"use strict";var i="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,r=t("../block");e.exports=r.extend({type:"image",title:function(){return i18n.t("blocks:image:title")},droppable:!0,uploadable:!0,icon_name:"image",loadData:function(t){this.$editor.html(i("<img>",{src:t.file.url}))},onBlockRender:function(){this.$inputs.find("button").bind("click",function(t){t.preventDefault()}),this.$inputs.find("input").on("change",function(t){this.onDrop(t.currentTarget)}.bind(this))},onDrop:function(t){var e=t.files[0],n="undefined"!=typeof URL?URL:"undefined"!=typeof webkitURL?webkitURL:null;/image/.test(e.type)&&(this.loading(),this.$inputs.hide(),this.$editor.html(i("<img>",{src:n.createObjectURL(e)})).show(),this.uploader(e,function(t){this.setData(t),this.ready()},function(t){this.addMessage(i18n.t("blocks:image:upload_error")),this.ready()}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../block":146}],156:[function(t,e,n){"use strict";e.exports={Text:t("./text"),Quote:t("./quote"),Image:t("./image"),Heading:t("./heading"),List:t("./list"),Tweet:t("./tweet"),Video:t("./video")}},{"./heading":154,"./image":155,"./list":157,"./quote":158,"./text":159,"./tweet":160,"./video":161}],157:[function(t,e,n){"use strict";var i=t("../lodash"),r=t("../block"),o=t("../to-html"),s='<div class="st-text-block st-required" contenteditable="true"><ul><li></li></ul></div>';e.exports=r.extend({type:"list",title:function(){return i18n.t("blocks:list:title")},icon_name:"list",editorHTML:function(){return i.template(s,this)},loadData:function(t){this.setTextBlockHTML("<ul>"+o(t.text,this.type)+"</ul>")},onBlockRender:function(){this.checkForList=this.checkForList.bind(this),this.getTextBlock().on("click keyup",this.checkForList),this.focus()},checkForList:function(){0===this.$("ul").length&&document.execCommand("insertUnorderedList",!1,!1)},toMarkdown:function(t){return t.replace(/<\/li>/gm,"\n").replace(/<\/?[^>]+(>|$)/g,"").replace(/^(.+)$/gm," - $1")},toHTML:function(t){return t=t.replace(/^ - (.+)$/gm,"<li>$1</li>").replace(/\n/gm,"")},onContentPasted:function(t,e){this.$("ul").html(this.pastedMarkdownToHTML(e[0].innerHTML)),this.getTextBlock().caretToEnd()},isEmpty:function(){return i.isEmpty(this.getBlockData().text)}})},{"../block":146,"../lodash":178,"../to-html":182}],158:[function(t,e,n){"use strict";var i=t("../lodash"),r=t("../block"),o=t("../to-html"),s=i.template(['<blockquote class="st-required st-text-block" contenteditable="true"></blockquote>','<label class="st-input-label"> <%= i18n.t("blocks:quote:credit_field") %></label>','<input maxlength="140" name="cite" placeholder="<%= i18n.t("blocks:quote:credit_field") %>"',' class="st-input-string st-required js-cite-input" type="text" />'].join("\n"));e.exports=r.extend({type:"quote",title:function(){return i18n.t("blocks:quote:title")},icon_name:"quote",editorHTML:function(){return s(this)},loadData:function(t){this.getTextBlock().html(o(t.text,this.type)),this.$(".js-cite-input").val(t.cite)},toMarkdown:function(t){return t.replace(/^(.+)$/gm,"> $1")}})},{"../block":146,"../lodash":178,"../to-html":182}],159:[function(t,e,n){"use strict";var i=t("../block"),r=t("../to-html");e.exports=i.extend({type:"text",title:function(){return i18n.t("blocks:text:title")},editorHTML:'<div class="st-required st-text-block" contenteditable="true"></div>',
icon_name:"text",markdownSupport:!0,_serializeData:function(){var t=i.prototype._serializeData.apply(this);return Object.keys(t).length&&this.markdownSupport&&(t.isHtml=!0),t},loadData:function(t){this.markdownSupport&&!t.isHtml?this.getTextBlock().html(r(t.text,this.type)):this.getTextBlock().html(t.text)}})},{"../block":146,"../to-html":182}],160:[function(t,e,n){(function(n){"use strict";var i=t("../lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("../utils"),s=t("../block"),a=i.template(["<blockquote class='twitter-tweet' align='center'>","<p><%= text %></p>","&mdash; <%= user.name %> (@<%= user.screen_name %>)","<a href='<%= status_url %>' data-datetime='<%= created_at %>'><%= created_at %></a>","</blockquote>",'<script src="//platform.twitter.com/widgets.js" charset="utf-8"></script>'].join("\n"));e.exports=s.extend({type:"tweet",droppable:!0,pastable:!0,fetchable:!0,drop_options:{re_render_on_reorder:!0},title:function(){return i18n.t("blocks:tweet:title")},fetchUrl:function(t){return"/tweets/?tweet_id="+t},icon_name:"twitter",loadData:function(t){i.isUndefined(t.status_url)&&(t.status_url=""),this.$inner.find("iframe").remove(),this.$inner.prepend(a(t))},onContentPasted:function(t){var e=r(t.target),n=e.val();this.handleTwitterDropPaste(n)},handleTwitterDropPaste:function(t){if(!this.validTweetUrl(t))return void o.log("Invalid Tweet URL");var e=t.match(/[^\/]+$/);if(!i.isEmpty(e)){this.loading(),e=e[0];var n={url:this.fetchUrl(e),dataType:"json"};this.fetch(n,this.onTweetSuccess,this.onTweetFail)}},validTweetUrl:function(t){return o.isURI(t)&&-1!==t.indexOf("twitter")&&-1!==t.indexOf("status")},onTweetSuccess:function(t){var e={user:{profile_image_url:t.user.profile_image_url,profile_image_url_https:t.user.profile_image_url_https,screen_name:t.user.screen_name,name:t.user.name},id:t.id_str,text:t.text,created_at:t.created_at,entities:t.entities,status_url:"https://twitter.com/"+t.user.screen_name+"/status/"+t.id_str};this.setAndLoadData(e),this.ready()},onTweetFail:function(){this.addMessage(i18n.t("blocks:tweet:fetch_error")),this.ready()},onDrop:function(t){var e=t.getData("text/plain");this.handleTwitterDropPaste(e)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../block":146,"../lodash":178,"../utils":184}],161:[function(t,e,n){"use strict";var i=t("../lodash"),r=t("../utils"),o=t("../block");e.exports=o.extend({providers:{vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo.com\/(.+)/,html:'<iframe src="<%= protocol %>//player.vimeo.com/video/<%= remote_id %>?title=0&byline=0" width="580" height="320" frameborder="0"></iframe>'},youtube:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:(?:youtube.com\/watch\?(?:.*)(?:v=))|(?:youtu.be\/))([^&].+)/,html:'<iframe src="<%= protocol %>//www.youtube.com/embed/<%= remote_id %>" width="580" height="320" frameborder="0" allowfullscreen></iframe>'}},type:"video",title:function(){return i18n.t("blocks:video:title")},droppable:!0,pastable:!0,icon_name:"video",loadData:function(t){if(this.providers.hasOwnProperty(t.source)){var e=this.providers[t.source],n="file:"===window.location.protocol?"http:":window.location.protocol,r=e.square?"with-square-media":"with-sixteen-by-nine-media";this.$editor.addClass("st-block__editor--"+r).html(i.template(e.html,{protocol:n,remote_id:t.remote_id,width:this.$editor.width()}))}},onContentPasted:function(t){this.handleDropPaste(t.target.value)},matchVideoProvider:function(t,e,n){var r=t.regex.exec(n);return null==r||i.isUndefined(r[1])?{}:{source:e,remote_id:r[1]}},handleDropPaste:function(t){if(r.isURI(t))for(var e in this.providers)this.providers.hasOwnProperty(e)&&this.setAndLoadData(this.matchVideoProvider(this.providers[e],e,t))},onDrop:function(t){var e=t.getData("text/plain");this.handleDropPaste(e)}})},{"../block":146,"../lodash":178,"../utils":184}],162:[function(t,e,n){"use strict";var i={html:['<div class="st-block__dropzone">','<span class="st-icon"><%= _.result(block, "icon_name") %></span>','<p><%= i18n.t("general:drop", { block: "<span>" + _.result(block, "title") + "</span>" }) %>',"</p></div>"].join("\n"),re_render_on_reorder:!1},r={html:['<input type="text" placeholder="<%= i18n.t("general:paste") %>"',' class="st-block__paste-input st-paste-block">'].join("")},o={html:['<div class="st-block__upload-container">','<input type="file" type="st-file-upload">','<button class="st-upload-btn"><%= i18n.t("general:upload") %></button>',"</div>"].join("\n")};e.exports={debug:!1,scribeDebug:!1,skipValidation:!1,version:"0.4.0",language:"en",instances:[],defaults:{defaultType:!1,spinner:{className:"st-spinner",lines:9,length:8,width:3,radius:6,color:"#000",speed:1.4,trail:57,shadow:!1,left:"50%",top:"50%"},Block:{drop_options:i,paste_options:r,upload_options:o},blockLimit:0,blockTypeLimits:{},required:[],uploadUrl:"/attachments",baseImageUrl:"/sir-trevor-uploads/",errorsContainer:void 0,convertToMarkdown:!1,convertFromMarkdown:!0,formatBar:{commands:[{name:"Bold",title:"bold",cmd:"bold",keyCode:66,text:"B"},{name:"Italic",title:"italic",cmd:"italic",keyCode:73,text:"i"},{name:"Link",title:"link",iconName:"link",cmd:"linkPrompt",text:"link"},{name:"Unlink",title:"unlink",iconName:"link",cmd:"unlink",text:"link"}]}}}},{}],163:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("./config"),s=t("./utils"),a=t("./events"),l=t("./event-bus"),u=t("./form-events"),c=t("./block-controls"),h=t("./block-manager"),d=t("./floating-block-controls"),p=t("./format-bar"),f=t("./extensions/editor-store"),m=t("./error-handler"),g=function(t){this.initialize(t)};Object.assign(g.prototype,t("./function-bind"),t("./events"),{bound:["onFormSubmit","hideAllTheThings","changeBlockPosition","removeBlockDragOver","renderBlock","resetBlockControls","blockLimitReached"],events:{"block:reorder:dragend":"removeBlockDragOver","block:content:dropped":"removeBlockDragOver"},initialize:function(t){return s.log("Init SirTrevor.Editor"),this.options=Object.assign({},o.defaults,t||{}),this.ID=i.uniqueId("st-editor-"),this._ensureAndSetElements()?(!i.isUndefined(this.options.onEditorRender)&&i.isFunction(this.options.onEditorRender)&&(this.onEditorRender=this.options.onEditorRender),this.mediator=Object.assign({},a),this._bindFunctions(),o.instances.push(this),this.build(),void u.bindFormSubmit(this.$form)):!1},build:function(){this.$el.hide(),this.errorHandler=new m(this.$outer,this.mediator,this.options.errorsContainer),this.store=new f(this.$el.val(),this.mediator),this.block_manager=new h(this.options,this.ID,this.mediator),this.block_controls=new c(this.block_manager.blockTypes,this.mediator),this.fl_block_controls=new d(this.$wrapper,this.ID,this.mediator),this.formatBar=new p(this.options.formatBar,this.mediator),this.mediator.on("block:changePosition",this.changeBlockPosition),this.mediator.on("block-controls:reset",this.resetBlockControls),this.mediator.on("block:limitReached",this.blockLimitReached),this.mediator.on("block:render",this.renderBlock),this.dataStore="Please use store.retrieve();",this._setEvents(),this.$wrapper.prepend(this.fl_block_controls.render().$el),r(document.body).append(this.formatBar.render().$el),this.$outer.append(this.block_controls.render().$el),r(window).bind("click",this.hideAllTheThings),this.createBlocks(),this.$wrapper.addClass("st-ready"),i.isUndefined(this.onEditorRender)||this.onEditorRender()},createBlocks:function(){var t=this.store.retrieve();t.data.length>0?t.data.forEach(function(t){this.mediator.trigger("block:create",t.type,t.data)},this):this.options.defaultType!==!1&&this.mediator.trigger("block:create",this.options.defaultType,{})},destroy:function(){this.formatBar.destroy(),this.fl_block_controls.destroy(),this.block_controls.destroy(),this.blocks.forEach(function(t){this.mediator.trigger("block:remove",this.block.blockID)},this),this.mediator.stopListening(),this.stopListening(),o.instances=o.instances.filter(function(t){return t.ID!==this.ID},this),this.store.reset(),this.$outer.replaceWith(this.$el.detach())},reinitialize:function(t){this.destroy(),this.initialize(t||this.options)},resetBlockControls:function(){this.block_controls.renderInContainer(this.$wrapper),this.block_controls.hide()},blockLimitReached:function(t){this.$wrapper.toggleClass("st--block-limit-reached",t)},_setEvents:function(){Object.keys(this.events).forEach(function(t){l.on(t,this[this.events[t]],this)},this)},hideAllTheThings:function(t){this.block_controls.hide(),this.formatBar.hide()},store:function(t,e){return s.log("The store method has been removed, please call store[methodName]"),this.store[t].call(this,e||{})},renderBlock:function(t){this._renderInPosition(t.render().$el),this.hideAllTheThings(),this.scrollTo(t.$el),t.trigger("onRender")},scrollTo:function(t){r("html, body").animate({scrollTop:t.position().top},300,"linear")},removeBlockDragOver:function(){this.$outer.find(".st-drag-over").removeClass("st-drag-over")},changeBlockPosition:function(t,e){e-=1;var n=this.getBlockPosition(t),i=this.$wrapper.find(".st-block").eq(e),r=n>e?"Before":"After";i&&i.attr("id")!==t.attr("id")&&(this.hideAllTheThings(),t["insert"+r](i),this.scrollTo(t))},_renderInPosition:function(t){this.block_controls.currentContainer?this.block_controls.currentContainer.after(t):this.$wrapper.append(t)},validateAndSaveBlock:function(t,e){if((!o.skipValidation||e)&&!t.valid())return this.mediator.trigger("errors:add",{text:i.result(t,"validationFailMsg")}),void s.log("Block "+t.blockID+" failed validation");var n=t.getData();s.log("Adding data for block "+t.blockID+" to block store:",n),this.store.addData(n)},onFormSubmit:function(t){return t=t===!1?!1:!0,s.log("Handling form submission for Editor "+this.ID),this.mediator.trigger("errors:reset"),this.store.reset(),this.validateBlocks(t),this.block_manager.validateBlockTypesExist(t),this.mediator.trigger("errors:render"),this.$el.val(this.store.toString()),this.errorHandler.errors.length},validateBlocks:function(t){var e=this;this.$wrapper.find(".st-block").each(function(n,o){var s=e.block_manager.findBlockById(r(o).attr("id"));i.isUndefined(s)||e.validateAndSaveBlock(s,t)})},findBlockById:function(t){return this.block_manager.findBlockById(t)},getBlocksByType:function(t){return this.block_manager.getBlocksByType(t)},getBlocksByIDs:function(t){return this.block_manager.getBlocksByIDs(t)},getBlockPosition:function(t){return this.$wrapper.find(".st-block").index(t)},_ensureAndSetElements:function(){if(i.isUndefined(this.options.el)||i.isEmpty(this.options.el))return s.log("You must provide an el"),!1;this.$el=this.options.el,this.el=this.options.el[0],this.$form=this.$el.parents("form");var t=r("<div>").attr({id:this.ID,"class":"st-outer",dropzone:"copy link move"}),e=r("<div>").attr({"class":"st-blocks"});return this.$el.wrap(t).wrap(e),this.$outer=this.$form.find("#"+this.ID),this.$wrapper=this.$outer.find(".st-blocks"),!0}}),e.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./block-controls":139,"./block-manager":141,"./config":162,"./error-handler":164,"./event-bus":165,"./events":166,"./extensions/editor-store":167,"./floating-block-controls":170,"./form-events":171,"./format-bar":172,"./function-bind":173,"./lodash":178,"./utils":184}],164:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=function(t,e,n){this.$wrapper=t,this.mediator=e,this.$el=n,i.isUndefined(this.$el)&&(this._ensureElement(),this.$wrapper.prepend(this.$el)),this.$el.hide(),this._bindFunctions(),this._bindMediatedEvents(),this.initialize()};Object.assign(o.prototype,t("./function-bind"),t("./mediated-events"),t("./renderable"),{errors:[],className:"st-errors",eventNamespace:"errors",mediatedEvents:{reset:"reset",add:"addMessage",render:"render"},initialize:function(){var t=r("<ul>");this.$el.append("<p>"+i18n.t("errors:title")+"</p>").append(t),this.$list=t},render:function(){return 0===this.errors.length?!1:(this.errors.forEach(this.createErrorItem,this),void this.$el.show())},createErrorItem:function(t){var e=r("<li>",{"class":"st-errors__msg",html:t.text});this.$list.append(e)},addMessage:function(t){this.errors.push(t)},reset:function(){return 0===this.errors.length?!1:(this.errors=[],this.$list.html(""),void this.$el.hide())}}),e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./function-bind":173,"./lodash":178,"./mediated-events":179,"./renderable":180}],165:[function(t,e,n){"use strict";e.exports=Object.assign({},t("./events"))},{"./events":166}],166:[function(t,e,n){"use strict";e.exports=t("eventablejs")},{eventablejs:3}],167:[function(t,e,n){"use strict";var i=t("../lodash"),r=t("../utils"),o=function(t,e){this.mediator=e,this.initialize(t?t.trim():"")};Object.assign(o.prototype,{initialize:function(t){this.store=this._parseData(t)||{data:[]}},retrieve:function(){return this.store},toString:function(t){return JSON.stringify(this.store,void 0,t)},reset:function(){r.log("Resetting the EditorStore"),this.store={data:[]}},addData:function(t){return this.store.data.push(t),this.store},_parseData:function(t){var e;if(0===t.length)return e;try{var n=JSON.parse(t);i.isUndefined(n.data)||(e=n)}catch(r){this.mediator.trigger("errors:add",{text:i18n.t("errors:load_fail")}),this.mediator.trigger("errors:render"),console.log("Sorry there has been a problem with parsing the JSON"),console.log(r)}return e}}),e.exports=o},{"../lodash":178,"../utils":184}],168:[function(t,e,n){(function(n){"use strict";var i=t("../lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("../config"),s=t("../utils"),a=t("../event-bus");e.exports=function(t,e,n,l){a.trigger("onUploadStart");var u=[t.blockID,(new Date).getTime(),"raw"].join("-"),c=new FormData;c.append("attachment[name]",e.name),c.append("attachment[file]",e),c.append("attachment[uid]",u),t.resetMessages();var h=function(e){s.log("Upload callback called"),a.trigger("onUploadStop"),!i.isUndefined(n)&&i.isFunction(n)&&n.apply(t,arguments)},d=function(e,n,r){s.log("Upload callback error called"),a.trigger("onUploadStop"),!i.isUndefined(l)&&i.isFunction(l)&&l.call(t,n)},p=r.ajax({url:o.defaults.uploadUrl,data:c,cache:!1,contentType:!1,processData:!1,dataType:"json",type:"POST"});return t.addQueuedItem(u,p),p.done(h).fail(d).always(t.removeQueuedItem.bind(t,u)),p}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../config":162,"../event-bus":165,"../lodash":178,"../utils":184}],169:[function(t,e,n){(function(n){"use strict";var i="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,r=t("../utils"),o=t("../event-bus"),s=function(t){this.$form=t,this.intialize()};Object.assign(s.prototype,{intialize:function(){this.submitBtn=this.$form.find("input[type='submit']");var t=[];this.submitBtn.each(function(e,n){t.push(i(n).attr("value"))}),this.submitBtnTitles=t,this.canSubmit=!0,this.globalUploadCount=0,this._bindEvents()},setSubmitButton:function(t,e){this.submitBtn.attr("value",e)},resetSubmitButton:function(){var t=this.submitBtnTitles;this.submitBtn.each(function(e,n){i(n).attr("value",t[e])})},onUploadStart:function(t){this.globalUploadCount++,r.log("onUploadStart called "+this.globalUploadCount),1===this.globalUploadCount&&this._disableSubmitButton()},onUploadStop:function(t){this.globalUploadCount=this.globalUploadCount<=0?0:this.globalUploadCount-1,r.log("onUploadStop called "+this.globalUploadCount),0===this.globalUploadCount&&this._enableSubmitButton()},onError:function(t){r.log("onError called"),this.canSubmit=!1},_disableSubmitButton:function(t){this.setSubmitButton(null,t||i18n.t("general:wait")),this.submitBtn.attr("disabled","disabled").addClass("disabled")},_enableSubmitButton:function(){this.resetSubmitButton(),this.submitBtn.removeAttr("disabled").removeClass("disabled")},_events:{disableSubmitButton:"_disableSubmitButton",enableSubmitButton:"_enableSubmitButton",setSubmitButton:"setSubmitButton",resetSubmitButton:"resetSubmitButton",onError:"onError",onUploadStart:"onUploadStart",onUploadStop:"onUploadStop"},_bindEvents:function(){Object.keys(this._events).forEach(function(t){o.on(t,this[this._events[t]],this)},this)}}),e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../event-bus":165,"../utils":184}],170:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("./event-bus"),s=function(t,e,n){this.$wrapper=t,this.instance_id=e,this.mediator=n,this._ensureElement(),this._bindFunctions(),this.initialize()};Object.assign(s.prototype,t("./function-bind"),t("./renderable"),t("./events"),{className:"st-block-controls__top",attributes:function(){return{"data-icon":"add"}},bound:["handleBlockMouseOut","handleBlockMouseOver","handleBlockClick","onDrop"],initialize:function(){this.$el.on("click",this.handleBlockClick).dropArea().bind("drop",this.onDrop),this.$wrapper.on("mouseover",".st-block",this.handleBlockMouseOver).on("mouseout",".st-block",this.handleBlockMouseOut).on("click",".st-block--with-plus",this.handleBlockClick)},onDrop:function(t){t.preventDefault();var e=this.$el,n=t.originalEvent.dataTransfer.getData("text/plain"),s=r("#"+n);i.isUndefined(n)||i.isEmpty(s)||e.attr("id")===n||this.instance_id!==s.attr("data-instance")||e.after(s),o.trigger("block:reorder:dropped",n)},handleBlockMouseOver:function(t){var e=r(t.currentTarget);e.hasClass("st-block--with-plus")||e.addClass("st-block--with-plus")},handleBlockMouseOut:function(t){var e=r(t.currentTarget);e.hasClass("st-block--with-plus")&&e.removeClass("st-block--with-plus")},handleBlockClick:function(t){t.stopPropagation(),this.mediator.trigger("block-controls:render",r(t.currentTarget))}}),e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event-bus":165,"./events":166,"./function-bind":173,"./lodash":178,"./renderable":180}],171:[function(t,e,n){"use strict";var i=t("./config"),r=t("./utils"),o=t("./event-bus"),s=t("./extensions/submittable"),a=!1,l={bindFormSubmit:function(t){a||(new s(t),t.bind("submit",this.onFormSubmit),a=!0)},onBeforeSubmit:function(t){var e=0;return i.instances.forEach(function(n,i){e+=n.onFormSubmit(t)}),r.log("Total errors: "+e),e},onFormSubmit:function(t){var e=l.onBeforeSubmit();e>0&&(o.trigger("onError"),t.preventDefault())}};e.exports=l},{"./config":162,"./event-bus":165,"./extensions/submittable":169,"./utils":184}],172:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=t("./config"),s=t("./utils"),a=function(t,e){this.options=Object.assign({},o.defaults.formatBar,t||{}),this.commands=this.options.commands,this.mediator=e,this._ensureElement(),this._bindFunctions(),this._bindMediatedEvents(),this.initialize.apply(this,arguments)};Object.assign(a.prototype,t("./function-bind"),t("./mediated-events"),t("./events"),t("./renderable"),{className:"st-format-bar",bound:["onFormatButtonClick","renderBySelection","hide"],eventNamespace:"formatter",mediatedEvents:{position:"renderBySelection",show:"show",hide:"hide"},initialize:function(){this.$btns=[],this.commands.forEach(function(t){var e=r("<button>",{"class":"st-format-btn st-format-btn--"+t.name+" "+(t.iconName?"st-icon":""),text:t.text,"data-cmd":t.cmd});this.$btns.push(e),e.appendTo(this.$el)},this),this.$b=r(document),this.$el.bind("click",".st-format-btn",this.onFormatButtonClick)},hide:function(){this.$el.removeClass("st-format-bar--is-ready")},show:function(){this.$el.addClass("st-format-bar--is-ready")},remove:function(){this.$el.remove()},renderBySelection:function(){var t=window.getSelection(),e=t.getRangeAt(0),n=e.getBoundingClientRect(),i={};i.top=n.top+20+window.pageYOffset-this.$el.height()+"px",i.left=(n.left+n.right)/2-this.$el.width()/2+"px",this.highlightSelectedButtons(),this.show(),this.$el.css(i)},highlightSelectedButtons:function(){var t=s.getBlockBySelection();this.$btns.forEach(function(e){var n=r(e).data("cmd");e.toggleClass("st-format-btn--is-active",t.queryTextBlockCommandState(n))},this)},onFormatButtonClick:function(t){t.stopPropagation();var e=s.getBlockBySelection();if(i.isUndefined(e))throw"Associated block not found";var n=r(t.target),o=n.data("cmd");return i.isUndefined(o)?!1:(e.execTextBlockCommand(o),this.highlightSelectedButtons(),!1)}}),e.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config":162,"./events":166,"./function-bind":173,"./lodash":178,"./mediated-events":179,"./renderable":180,"./utils":184}],173:[function(t,e,n){"use strict";e.exports={bound:[],_bindFunctions:function(){this.bound.forEach(function(t){this[t]=this[t].bind(this)},this)}}},{}],174:[function(t,e,n){(function(t){"use strict";function e(t){t.preventDefault()}function n(t){t.originalEvent.dataTransfer.dropEffect="copy",r(t.currentTarget).addClass("st-drag-over"),t.preventDefault()}function i(t){r(t.currentTarget).removeClass("st-drag-over"),t.preventDefault()}var r="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null;r.fn.dropArea=function(){return this.bind("dragenter",e).bind("dragover",n).bind("dragleave",i),this},r.fn.noDropArea=function(){return this.unbind("dragenter").unbind("dragover").unbind("dragleave"),this},r.fn.caretToEnd=function(){var t,e;return t=document.createRange(),t.selectNodeContents(this[0]),t.collapse(!1),e=window.getSelection(),e.removeAllRanges(),e.addRange(t),this}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],175:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i=this;n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},Object.assign(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&Object.assign(n.prototype,t),n.__super__=i.prototype,n}},{}],176:[function(t,e,n){"use strict";var i=t("./lodash");t("object.assign").shim(),t("array.prototype.find"),t("./vendor/array-includes"),t("./helpers/event");var r=t("./utils"),o={config:t("./config"),log:r.log,Locales:t("./locales"),Events:t("./events"),EventBus:t("./event-bus"),EditorStore:t("./extensions/editor-store"),Submittable:t("./extensions/submittable"),FileUploader:t("./extensions/file-uploader"),BlockMixins:t("./block_mixins"),BlockPositioner:t("./block-positioner"),BlockReorder:t("./block-reorder"),BlockDeletion:t("./block-deletion"),BlockValidations:t("./block-validations"),BlockStore:t("./block-store"),BlockManager:t("./block-manager"),SimpleBlock:t("./simple-block"),Block:t("./block"),Blocks:t("./blocks"),BlockControl:t("./block-control"),BlockControls:t("./block-controls"),FloatingBlockControls:t("./floating-block-controls"),FormatBar:t("./format-bar"),Editor:t("./editor"),toMarkdown:t("./to-markdown"),toHTML:t("./to-html"),setDefaults:function(t){Object.assign(o.config.defaults,t||{})},getInstance:r.getInstance,setBlockOptions:function(t,e){var n=o.Blocks[t];i.isUndefined(n)||Object.assign(n.prototype,e||{})},runOnAllInstances:function(t){if(o.Editor.prototype.hasOwnProperty(t)){var e=Array.prototype.slice.call(arguments,1);Array.prototype.forEach.call(o.config.instances,function(n){n[t].apply(null,e)})}else o.log("method doesn't exist")}};Object.assign(o,t("./form-events")),e.exports=o},{"./block":146,"./block-control":138,"./block-controls":139,"./block-deletion":140,"./block-manager":141,"./block-positioner":142,"./block-reorder":143,"./block-store":144,"./block-validations":145,"./block_mixins":151,"./blocks":156,"./config":162,"./editor":163,"./event-bus":165,"./events":166,"./extensions/editor-store":167,"./extensions/file-uploader":168,"./extensions/submittable":169,"./floating-block-controls":170,"./form-events":171,"./format-bar":172,"./helpers/event":174,"./locales":177,"./lodash":178,"./simple-block":181,"./to-html":182,"./to-markdown":183,"./utils":184,"./vendor/array-includes":185,"array.prototype.find":2,"object.assign":51}],177:[function(t,e,n){"use strict";var i=t("./lodash"),r=t("./config"),o=t("./utils"),s={en:{general:{"delete":"Delete?",drop:"Drag __block__ here",paste:"Or paste URL here",upload:"...or choose a file",close:"close",position:"Position",wait:"Please wait...",link:"Enter a link"},errors:{title:"You have the following errors:",validation_fail:"__type__ block is invalid",block_empty:"__name__ must not be empty",type_missing:"You must have a block of type __type__",required_type_empty:"A required block type __type__ is empty",load_fail:"There was a problem loading the contents of the document"},blocks:{text:{title:"Text"},list:{title:"List"},quote:{title:"Quote",credit_field:"Credit"},image:{title:"Image",upload_error:"There was a problem with your upload"},video:{title:"Video"},tweet:{title:"Tweet",fetch_error:"There was a problem fetching your tweet"},embedly:{title:"Embedly",fetch_error:"There was a problem fetching your embed",key_missing:"An Embedly API key must be present"},heading:{title:"Heading"}}}};void 0===window.i18n?(o.log("Using i18n stub"),window.i18n={t:function(t,e){var n,o,a,l,u=t.split(":");for(o=s[r.language],l=0;l<u.length;l++)a=u[l],i.isUndefined(o[a])||(o=o[a]);return n=o,i.isString(n)?(n.indexOf("__")>=0&&Object.keys(e).forEach(function(t){n=n.replace("__"+t+"__",e[t])}),n):""}}):(o.log("Using i18next"),i18n.init({resStore:s,fallbackLng:r.language,ns:{namespaces:["general","blocks"],defaultNs:"general"}})),e.exports=s},{"./config":162,"./lodash":178,"./utils":184}],178:[function(t,e,n){"use strict";n.isEmpty=t("lodash.isempty"),n.isFunction=t("lodash.isfunction"),n.isObject=t("lodash.isobject"),n.isString=t("lodash.isstring"),n.isUndefined=t("lodash.isundefined"),n.result=t("lodash.result"),n.template=t("lodash.template"),n.uniqueId=t("lodash.uniqueid")},{"lodash.isempty":4,"lodash.isfunction":28,"lodash.isobject":29,"lodash.isstring":31,"lodash.isundefined":32,"lodash.result":33,"lodash.template":34,"lodash.uniqueid":50}],179:[function(t,e,n){"use strict";e.exports={mediatedEvents:{},eventNamespace:null,_bindMediatedEvents:function(){Object.keys(this.mediatedEvents).forEach(function(t){var e=this.mediatedEvents[t];t=this.eventNamespace?this.eventNamespace+":"+t:t,this.mediator.on(t,this[e].bind(this))},this)}}},{}],180:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null;e.exports={tagName:"div",className:"sir-trevor__view",attributes:{},$:function(t){return this.$el.find(t)},render:function(){return this},destroy:function(){i.isUndefined(this.stopListening)||this.stopListening(),this.$el.remove()},_ensureElement:function(){if(this.el)this._setElement(this.el);else{var t,e=Object.assign({},i.result(this,"attributes"));this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),e.html&&(t=e.html,delete e.html);var n=r("<"+this.tagName+">").attr(e);t&&n.html(t),this._setElement(n)}},_setElement:function(t){return this.$el=r(t),this.el=this.$el[0],this}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lodash":178}],181:[function(t,e,n){(function(n){"use strict";var i=t("./lodash"),r=t("./utils"),o="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,s=t("./block-reorder"),a=function(t,e,n,r){this.createStore(t),this.blockID=i.uniqueId("st-block-"),this.instanceID=e,this.mediator=n,this.options=r||{},this._ensureElement(),this._bindFunctions(),this.initialize.apply(this,arguments)};Object.assign(a.prototype,t("./function-bind"),t("./events"),t("./renderable"),t("./block-store"),{focus:function(){},valid:function(){return!0},className:"st-block",block_template:i.template("<div class='st-block__inner'><%= editor_html %></div>"),attributes:function(){return{id:this.blockID,"data-type":this.type,"data-instance":this.instanceID}},title:function(){return r.titleize(this.type.replace(/[\W_]/g," "))},blockCSSClass:function(){return this.blockCSSClass=r.toSlug(this.type),this.blockCSSClass},type:"","class":function(){return r.classify(this.type)},editorHTML:"",initialize:function(){},onBlockRender:function(){},beforeBlockRender:function(){},_setBlockInner:function(){var t=i.result(this,"editorHTML");this.$el.append(this.block_template({editor_html:t})),this.$inner=this.$el.find(".st-block__inner"),this.$inner.bind("click mouseover",function(t){t.stopPropagation()})},render:function(){return this.beforeBlockRender(),this._setBlockInner(),this._blockPrepare(),this},_blockPrepare:function(){this._initUI(),this._initMessages(),this.checkAndLoadData(),this.$el.addClass("st-item-ready"),this.on("onRender",this.onBlockRender),this.save()},_withUIComponent:function(t,e,n){this.$ui.append(t.render().$el),e&&n&&this.$ui.on("click",e,n)},_initUI:function(){var t=o("<div>",{"class":"st-block__ui"});this.$inner.append(t),this.$ui=t,this._initUIComponents()},_initMessages:function(){var t=o("<div>",{"class":"st-block__messages"});this.$inner.prepend(t),this.$messages=t},addMessage:function(t,e){var n=o("<span>",{html:t,"class":"st-msg "+e});return this.$messages.append(n).addClass("st-block__messages--is-visible"),n},resetMessages:function(){this.$messages.html("").removeClass("st-block__messages--is-visible")},_initUIComponents:function(){this._withUIComponent(new s(this.$el))}}),a.fn=a.prototype,a.extend=t("./helpers/extend"),e.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./block-reorder":143,"./block-store":144,"./events":166,"./function-bind":173,"./helpers/extend":175,"./lodash":178,"./renderable":180,"./utils":184}],182:[function(t,e,n){"use strict";var i=t("./lodash"),r=t("./utils");e.exports=function(e,n){var o=t("./blocks");n=r.classify(n);var s=e,a="Text"===n;i.isUndefined(a)&&(a=!1),a&&(s="<p>"+s),s=s.replace(/\[([^\]]+)\]\(([^\)]+)\)/gm,function(t,e,n){return"<a href='"+n+"'>"+e.replace(/\n/g,"")+"</a>"}),s=r.reverse(r.reverse(s).replace(/_(?!\\)((_\\|[^_])*)_(?=$|[^\\])/gm,function(t,e){return">i/<"+e.replace(/\n/g,"").replace(/[\s]+$/,"")+">i<"}).replace(/\*\*(?!\\)((\*\*\\|[^\*\*])*)\*\*(?=$|[^\\])/gm,function(t,e){return">b/<"+e.replace(/\n/g,"").replace(/[\s]+$/,"")+">b<"})),s=s.replace(/^\> (.+)$/gm,"$1");var l;return o.hasOwnProperty(n)&&(l=o[n],!i.isUndefined(l.prototype.toHTML)&&i.isFunction(l.prototype.toHTML)&&(s=l.prototype.toHTML(s))),a&&(s=s.replace(/\n\s*\n/gm,"</p><p>"),s=s.replace(/\n/gm,"<br>")),s=s.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\n/g,"<br>").replace(/\*\*/,"").replace(/__/,""),s=s.replace(/\\\*/g,"*").replace(/\\\[/g,"[").replace(/\\\]/g,"]").replace(/\\\_/g,"_").replace(/\\\(/g,"(").replace(/\\\)/g,")").replace(/\\\-/g,"-"),a&&(s+="</p>"),s}},{"./blocks":156,"./lodash":178,"./utils":184}],183:[function(t,e,n){"use strict";var i=t("./lodash"),r=t("./utils");e.exports=function(e,n){function o(t,e,n){return i.isUndefined(n)&&(n=""),"**"+e.replace(/<(.)?br(.)?>/g,"")+"**"+n}function s(t,e,n){return i.isUndefined(n)&&(n=""),"_"+e.replace(/<(.)?br(.)?>/g,"")+"_"+n}var a=t("./blocks");n=r.classify(n);var l=e;l=l.replace(/&nbsp;/g," "),l=l.replace(/( class=(")?Mso[a-zA-Z]+(")?)/g,"").replace(/<!--(.*?)-->/g,"").replace(/\/\*(.*?)\*\//g,"").replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");var u,c,h=["style","script","applet","embed","noframes","noscript"];for(c=0;c<h.length;c++)u=new RegExp("<"+h[c]+".*?"+h[c]+"(.*?)>","gi"),l=l.replace(u,"");l=l.replace(/\*/g,"\\*").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\_/g,"\\_").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\-/g,"\\-");var d=["em","i","strong","b"];for(c=0;c<d.length;c++)u=new RegExp("<"+d[c]+"><br></"+d[c]+">","gi"),l=l.replace(u,"<br>");l=l.replace(/<(\w+)(?:\s+\w+="[^"]+(?:"\$[^"]+"[^"]+)?")*>\s*<\/\1>/gim,"").replace(/\n/gm,"").replace(/<a.*?href=[""'](.*?)[""'].*?>(.*?)<\/a>/gim,function(t,e,n){return"["+n.trim().replace(/<(.)?br(.)?>/g,"")+"]("+e+")"}).replace(/<strong>(?:\s*)(.*?)(\s)*?<\/strong>/gim,o).replace(/<b>(?:\s*)(.*?)(\s*)?<\/b>/gim,o).replace(/<em>(?:\s*)(.*?)(\s*)?<\/em>/gim,s).replace(/<i>(?:\s*)(.*?)(\s*)?<\/i>/gim,s),l=l.replace(/([^<>]+)(<div>)/g,"$1\n$2").replace(/<div><div>/g,"\n<div>").replace(/(?:<div>)([^<>]+)(?:<div>)/g,"$1\n").replace(/(?:<div>)(?:<br>)?([^<>]+)(?:<br>)?(?:<\/div>)/g,"$1\n").replace(/<\/p>/g,"\n\n").replace(/<(.)?br(.)?>/g,"\n").replace(/&lt;/g,"<").replace(/&gt;/g,">");
var p;return a.hasOwnProperty(n)&&(p=a[n],!i.isUndefined(p.prototype.toMarkdown)&&i.isFunction(p.prototype.toMarkdown)&&(l=p.prototype.toMarkdown(l))),l=l.replace(/<\/?[^>]+(>|$)/g,"")}},{"./blocks":156,"./lodash":178,"./utils":184}],184:[function(t,e,n){(function(n){"use strict";var i="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,r=t("./lodash"),o=t("./config"),s=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,a={getInstance:function(t){return r.isUndefined(t)?o.instances[0]:r.isString(t)?o.instances.find(function(e){return e.ID===t}):o.instances[t]},getInstanceBySelection:function(){return a.getInstance(i(window.getSelection().anchorNode).parents(".st-block").data("instance"))},getBlockBySelection:function(){return a.getInstanceBySelection().findBlockById(i(window.getSelection().anchorNode).parents(".st-block").get(0).id)},log:function(){!r.isUndefined(console)&&o.debug&&console.log.apply(console,arguments)},isURI:function(t){return s.test(t)},titleize:function(t){return null===t?"":(t=String(t).toLowerCase(),t.replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()}))},classify:function(t){return a.titleize(String(t).replace(/[\W_]/g," ")).replace(/\s/g,"")},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()},flatten:function(t){var e={};return(Array.isArray(t)?t:Object.keys(t)).forEach(function(t){e[t]=!0}),e},underscored:function(t){return t.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},reverse:function(t){return t.split("").reverse().join("")},toSlug:function(t){return t.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}};e.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config":162,"./lodash":178}],185:[function(t,e,n){"use strict";[].includes||(Array.prototype.includes=function(t){if(void 0===this||null===this)throw new TypeError("Cannot convert this value to object");var e=Object(this),n=parseInt(e.length)||0;if(0===n)return!1;var i,r=parseInt(arguments[1])||0;for(r>=0?i=r:(i=n+r,0>i&&(i=0));n>i;){var o=e[i];if(t===o||t!==t&&o!==o)return!0;i++}return!1})},{}]},{},[1])(1)}),function(t,e,n,i){function r(e,i){this.w=t(n),this.el=t(e),this.options=t.extend({},h,i),this.init()}var o="ontouchstart"in e,s=function(){var t=n.createElement("div"),i=n.documentElement;if(!("pointerEvents"in t.style))return!1;t.style.pointerEvents="auto",t.style.pointerEvents="x",i.appendChild(t);var r=e.getComputedStyle&&"auto"===e.getComputedStyle(t,"").pointerEvents;return i.removeChild(t),!!r}(),a=o?"touchstart":"mousedown",l=o?"touchmove":"mousemove",u=o?"touchend":"mouseup",c=o?"touchcancel":"mouseup",h={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",noChildrenClass:"dd-nochildren",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20,reject:[],dropCallback:null,cloneNodeOnDrag:!1,dragOutsideToDelete:!1};r.prototype={init:function(){var n=this;n.reset(),n.el.data("nestable-group",this.options.group),n.placeEl=t('<div class="'+n.options.placeClass+'"/>'),t.each(this.el.find(n.options.itemNodeName),function(e,i){n.setParent(t(i))}),n.el.on("click","button",function(e){if(!n.dragEl&&(o||0===e.button)){var i=t(e.currentTarget),r=i.data("action"),s=i.parent(n.options.itemNodeName);"collapse"===r&&n.collapseItem(s),"expand"===r&&n.expandItem(s)}});var i=function(e){var i=t(e.target);if(n.nestableCopy=i.closest("."+n.options.rootClass).clone(!0),!i.hasClass(n.options.handleClass)){if(i.closest("."+n.options.noDragClass).length)return;i=i.closest("."+n.options.handleClass)}!i.length||n.dragEl||!o&&1!==e.which||o&&1!==e.touches.length||(e.preventDefault(),n.dragStart(o?e.touches[0]:e))},r=function(t){n.dragEl&&(t.preventDefault(),n.dragMove(o?t.touches[0]:t))},s=function(t){n.dragEl&&(t.preventDefault(),n.dragStop(o?t.touches[0]:t))};o?(n.el[0].addEventListener(a,i,!1),e.addEventListener(l,r,!1),e.addEventListener(u,s,!1),e.addEventListener(c,s,!1)):(n.el.on(a,i),n.w.on(l,r),n.w.on(u,s));var h=function(){o?(n.el[0].removeEventListener(a,i,!1),e.removeEventListener(l,r,!1),e.removeEventListener(u,s,!1),e.removeEventListener(c,s,!1)):(n.el.off(a,i),n.w.off(l,r),n.w.off(u,s)),n.el.off("click"),n.el.unbind("destroy-nestable"),n.el.data("nestable",null);var h=n.el[0].getElementsByTagName("button");t(h).remove()};n.el.bind("destroy-nestable",h)},destroy:function(){this.expandAll(),this.el.trigger("destroy-nestable")},serialize:function(){var e,n=0,i=this;step=function(e,n){var r=[],o=e.children(i.options.itemNodeName);return o.each(function(){var e=t(this),o=t.extend({},e.data()),s=e.children(i.options.listNodeName);s.length&&(o.children=step(s,n+1)),r.push(o)}),r};var r;return r=i.el.is(i.options.listNodeName)?i.el:i.el.find(i.options.listNodeName).first(),e=step(r,n)},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.dragItem=null,this.hasNewRoot=!1,this.pointEl=null,this.sourceRoot=null,this.isOutsideRoot=!1},expandItem:function(t){t.removeClass(this.options.collapsedClass),t.children('[data-action="expand"]').hide(),t.children('[data-action="collapse"]').show(),t.children(this.options.listNodeName).show(),this.el.trigger("expand",[t]),t.trigger("expand")},collapseItem:function(t){var e=t.children(this.options.listNodeName);e.length&&(t.addClass(this.options.collapsedClass),t.children('[data-action="collapse"]').hide(),t.children('[data-action="expand"]').show(),t.children(this.options.listNodeName).hide()),this.el.trigger("collapse",[t]),t.trigger("collapse")},expandAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.expandItem(t(this))})},collapseAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.collapseItem(t(this))})},setParent:function(e){e.children(this.options.listNodeName).length&&(e.prepend(t(this.options.expandBtnHTML)),e.prepend(t(this.options.collapseBtnHTML))),(" "+e[0].className+" ").indexOf(" "+h.collapsedClass+" ")>-1?e.children('[data-action="collapse"]').hide():e.children('[data-action="expand"]').hide()},unsetParent:function(t){t.removeClass(this.options.collapsedClass),t.children("[data-action]").remove(),t.children(this.options.listNodeName).remove()},dragStart:function(e){var r=this.mouse,o=t(e.target),s=o.closest("."+this.options.handleClass).closest(this.options.itemNodeName);this.sourceRoot=o.closest("."+this.options.rootClass),this.dragItem=s,this.placeEl.css("height",s.height()),r.offsetX=e.offsetX!==i?e.offsetX:e.pageX-o.offset().left,r.offsetY=e.offsetY!==i?e.offsetY:e.pageY-o.offset().top,r.startX=r.lastX=e.pageX,r.startY=r.lastY=e.pageY,this.dragRootEl=this.el,this.dragEl=t(n.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",s.width()),this.options.cloneNodeOnDrag?s.after(s.clone()):s.after(this.placeEl),s[0].parentNode.removeChild(s[0]),s.appendTo(this.dragEl),t(n.body).append(this.dragEl),this.dragEl.css({left:e.pageX-r.offsetX,top:e.pageY-r.offsetY});var a,l,u=this.dragEl.find(this.options.itemNodeName);for(a=0;a<u.length;a++)l=t(u[a]).parents(this.options.listNodeName).length,l>this.dragDepth&&(this.dragDepth=l)},dragStop:function(e){var n=this.dragEl.children(this.options.itemNodeName).first();if(n[0].parentNode.removeChild(n[0]),this.isOutsideRoot&&this.options.dragOutsideToDelete){var i=this.placeEl.parent();this.placeEl.remove(),i.children().length||this.unsetParent(i.parent()),this.dragRootEl.find(this.options.itemNodeName).length||this.dragRootEl.append('<div class="'+this.options.emptyClass+'"/>')}else this.placeEl.replaceWith(n);this.moving||t(this.dragItem).trigger("click");var r,o=!1;for(r=0;r<this.options.reject.length;r++){var s=this.options.reject[r];if(s.rule.apply(this.dragRootEl)){var a=n.clone(!0);this.dragRootEl.html(this.nestableCopy.children().clone(!0)),s.action&&s.action.apply(this.dragRootEl,[a]),o=!0;break}}if(!o){this.dragEl.remove(),this.el.trigger("change");var l=n.parent().parent(),u=null;if(null===l||l.is("."+this.options.rootClass)||(u=l.data("id")),t.isFunction(this.options.dropCallback)){var c={sourceId:n.data("id"),destId:u,sourceEl:n,destParent:l,destRoot:n.closest("."+this.options.rootClass),sourceRoot:this.sourceRoot};this.options.dropCallback.call(this,c)}this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()}},dragMove:function(i){var r,o,a,l,u,c=this.options,h=this.mouse;this.dragEl.css({left:i.pageX-h.offsetX,top:i.pageY-h.offsetY}),h.lastX=h.nowX,h.lastY=h.nowY,h.nowX=i.pageX,h.nowY=i.pageY,h.distX=h.nowX-h.lastX,h.distY=h.nowY-h.lastY,h.lastDirX=h.dirX,h.lastDirY=h.dirY,h.dirX=0===h.distX?0:h.distX>0?1:-1,h.dirY=0===h.distY?0:h.distY>0?1:-1;var d=Math.abs(h.distX)>Math.abs(h.distY)?1:0;if(!this.moving)return h.dirAx=d,void(this.moving=!0);h.dirAx!==d?(h.distAxX=0,h.distAxY=0):(h.distAxX+=Math.abs(h.distX),0!==h.dirX&&h.dirX!==h.lastDirX&&(h.distAxX=0),h.distAxY+=Math.abs(h.distY),0!==h.dirY&&h.dirY!==h.lastDirY&&(h.distAxY=0)),h.dirAx=d,h.dirAx&&h.distAxX>=c.threshold&&(h.distAxX=0,a=this.placeEl.prev(c.itemNodeName),h.distX>0&&a.length&&!a.hasClass(c.collapsedClass)&&!a.hasClass(c.noChildrenClass)&&(r=a.find(c.listNodeName).last(),u=this.placeEl.parents(c.listNodeName).length,u+this.dragDepth<=c.maxDepth&&(r.length?(r=a.children(c.listNodeName).last(),r.append(this.placeEl)):(r=t("<"+c.listNodeName+"/>").addClass(c.listClass),r.append(this.placeEl),a.append(r),this.setParent(a)))),h.distX<0&&(l=this.placeEl.next(c.itemNodeName),l.length||(o=this.placeEl.parent(),this.placeEl.closest(c.itemNodeName).after(this.placeEl),o.children().length||this.unsetParent(o.parent()))));var p=!1;s||(this.dragEl[0].style.visibility="hidden"),this.pointEl=t(n.elementFromPoint(i.pageX-n.documentElement.scrollLeft,i.pageY-(e.pageYOffset||n.documentElement.scrollTop))),this.dragRootEl.has(this.pointEl).length?(this.isOutsideRoot=!1,this.dragEl[0].style.opacity=1):(this.isOutsideRoot=!0,this.dragEl[0].style.opacity=.5);var f=this.pointEl.closest("."+c.rootClass),m=this.dragRootEl.data("nestable-id")!==f.data("nestable-id");if(this.isOutsideRoot=!f.length,s||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(c.handleClass)&&(this.pointEl=this.pointEl.closest(c.itemNodeName)),1!=c.maxDepth||this.pointEl.hasClass(c.itemClass)||(this.pointEl=this.pointEl.closest("."+c.itemClass)),this.pointEl.hasClass(c.emptyClass))p=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(c.itemClass))return;if(!h.dirAx||m||p){if(m&&c.group!==f.data("nestable-group"))return;if(u=this.dragDepth-1+this.pointEl.parents(c.listNodeName).length,u>c.maxDepth)return;var g=i.pageY<this.pointEl.offset().top+this.pointEl.height()/2;o=this.placeEl.parent(),p?(r=t(n.createElement(c.listNodeName)).addClass(c.listClass),r.append(this.placeEl),this.pointEl.replaceWith(r)):g?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),o.children().length||this.unsetParent(o.parent()),this.dragRootEl.find(c.itemNodeName).length||this.dragRootEl.append('<div class="'+c.emptyClass+'"/>'),this.dragRootEl=f,m&&(this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},t.fn.nestable=function(e){var n=this,i=this,o=function(t){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var n=t||"-";return e()+e()+n+e()+n+e()+n+e()+n+e()+e()+e()};return n.each(function(){var n=t(this).data("nestable");n?"string"==typeof e&&"function"==typeof n[e]&&(i=n[e]()):(t(this).data("nestable",new r(this,e)),t(this).data("nestable-id",o()))}),i||n}}(window.jQuery||window.Zepto,window,document);var LATIN_MAP={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u0150":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0170":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u0151":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0171":"u","\xfd":"y","\xfe":"th","\xff":"y"},LATIN_SYMBOLS_MAP={"\xa9":"(c)"},GREEK_MAP={"\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ac":"a","\u03ad":"e","\u03af":"i","\u03cc":"o","\u03cd":"y","\u03ae":"h","\u03ce":"w","\u03c2":"s","\u03ca":"i","\u03b0":"y","\u03cb":"y","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u0386":"A","\u0388":"E","\u038a":"I","\u038c":"O","\u038e":"Y","\u0389":"H","\u038f":"W","\u03aa":"I","\u03ab":"Y"},TURKISH_MAP={"\u015f":"s","\u015e":"S","\u0131":"i","\u0130":"I","\xe7":"c","\xc7":"C","\xfc":"u","\xdc":"U","\xf6":"o","\xd6":"O","\u011f":"g","\u011e":"G"},RUSSIAN_MAP={"\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0401":"Yo","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya"},UKRAINIAN_MAP={"\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0490":"G","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0491":"g"},CZECH_MAP={"\u010d":"c","\u010f":"d","\u011b":"e","\u0148":"n","\u0159":"r","\u0161":"s","\u0165":"t","\u016f":"u","\u017e":"z","\u010c":"C","\u010e":"D","\u011a":"E","\u0147":"N","\u0158":"R","\u0160":"S","\u0164":"T","\u016e":"U","\u017d":"Z"},POLISH_MAP={"\u0105":"a","\u0107":"c","\u0119":"e","\u0142":"l","\u0144":"n","\xf3":"o","\u015b":"s","\u017a":"z","\u017c":"z","\u0104":"A","\u0106":"C","\u0118":"e","\u0141":"L","\u0143":"N","\xd3":"o","\u015a":"S","\u0179":"Z","\u017b":"Z"},LATVIAN_MAP={"\u0101":"a","\u010d":"c","\u0113":"e","\u0123":"g","\u012b":"i","\u0137":"k","\u013c":"l","\u0146":"n","\u0161":"s","\u016b":"u","\u017e":"z","\u0100":"A","\u010c":"C","\u0112":"E","\u0122":"G","\u012a":"i","\u0136":"k","\u013b":"L","\u0145":"N","\u0160":"S","\u016a":"u","\u017d":"Z"},ALL_DOWNCODE_MAPS=new Array;ALL_DOWNCODE_MAPS[0]=LATIN_MAP,ALL_DOWNCODE_MAPS[1]=LATIN_SYMBOLS_MAP,ALL_DOWNCODE_MAPS[2]=GREEK_MAP,ALL_DOWNCODE_MAPS[3]=TURKISH_MAP,ALL_DOWNCODE_MAPS[4]=RUSSIAN_MAP,ALL_DOWNCODE_MAPS[5]=UKRAINIAN_MAP,ALL_DOWNCODE_MAPS[6]=CZECH_MAP,ALL_DOWNCODE_MAPS[7]=POLISH_MAP,ALL_DOWNCODE_MAPS[8]=LATVIAN_MAP;var Downcoder=new Object;Downcoder.Initialize=function(){if(!Downcoder.map){Downcoder.map={},Downcoder.chars="";for(var t in ALL_DOWNCODE_MAPS){var e=ALL_DOWNCODE_MAPS[t];for(var n in e)Downcoder.map[n]=e[n],Downcoder.chars+=n}Downcoder.regex=new RegExp("["+Downcoder.chars+"]|[^"+Downcoder.chars+"]+","g")}},downcode=function(t){Downcoder.Initialize();var e="",n=t.match(Downcoder.regex);if(n)for(var i=0;i<n.length;i++){if(1==n[i].length){var r=Downcoder.map[n[i]];if(null!=r){e+=r;continue}}e+=n[i]}else e=t;return e},Spotlight=function(){var t=new Array;return{onLoad:function(e){t.push(e)},activate:function(){for(var e=0;e<t.length;e++)t[e].call()}}}(),"undefined"!=typeof Turbolinks&&$(document).on("page:load",function(){Spotlight.activate()}),$(document).ready(function(){Spotlight.activate()}),Spotlight.onLoad(function(){SpotlightNestable.init(),$.each($(".social-share-button a"),function(){$(this).append($(this).attr("title"))})}),/* ========================================================================
 * Bootstrap: tab.js v3.3.6
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.6
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(u){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+d>f.bottom?"top":"top"==a&&c.top-d<f.top?"bottom":"right"==a&&c.right+h>f.width?"left":"left"==a&&c.left-h<f.left?"right":a,o.removeClass(p).addClass(a)}var m=this.getCalculatedOffset(a,c,h,d);this.applyPlacement(m,a);var g=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(n),d=h?2*c.left-r+l:2*c.top-o+u,p=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][p],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,a,o)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var u=e.left-o,c=e.left+o+n;u<s.left?r.left=s.left-u:c>s.right&&(r.left=s.left+s.width-c)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.6
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.6
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),/* The MIT License (MIT)

Copyright (c) 2013 Tim Schlechter

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
function(t){"use strict";function e(e,n){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input size="'+this.inputSize+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(n)}function n(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function i(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}function r(t){return t?a.text(t).html():""}function o(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}var s={tagClass:function(t){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(t,e){e.hide().fadeIn()}};e.prototype={constructor:e,add:function(e,n){var i=this;if(!(i.options.maxTags&&i.itemsArray.length>=i.options.maxTags)&&(e===!1||e)){if("object"==typeof e&&!i.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(i.isSelect&&!i.multiple&&i.itemsArray.length>0&&i.remove(i.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var o=e.split(",");if(o.length>1){for(var s=0;s<o.length;s++)this.add(o[s],!0);return void(n||i.pushVal())}}var a=i.options.itemValue(e),l=i.options.itemText(e),u=i.options.tagClass(e),c=t.grep(i.itemsArray,function(t){return i.options.itemValue(t)===a})[0];if(c){if(i.options.onTagExists){var h=t(".tag",i.$container).filter(function(){return t(this).data("item")===c});i.options.onTagExists(e,h)}}else{i.itemsArray.push(e);var d=t('<span class="tag '+r(u)+'">'+r(l)+'<span data-role="remove"></span></span>');if(d.data("item",e),i.findInputWrapper().before(d),d.after(" "),i.isSelect&&!t('option[value="'+escape(a)+'"]',i.$element)[0]){var p=t("<option selected>"+r(l)+"</option>");p.data("item",e),p.attr("value",a),i.$element.append(p)}n||i.pushVal(),i.options.maxTags===i.itemsArray.length&&i.$container.addClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemAdded",{item:e}))}}}},remove:function(e,n){var i=this;i.objectItems&&(e="object"==typeof e?t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==i.options.itemValue(e)})[0]:t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==e})[0]),e&&(t(".tag",i.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",i.$element).filter(function(){return t(this).data("item")===e}).remove(),i.itemsArray.splice(t.inArray(e,i.itemsArray),1)),n||i.pushVal(),i.options.maxTags>i.itemsArray.length&&i.$container.removeClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemRemoved",{item:e}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal(),e.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var n=t(this),i=n.data("item"),o=e.options.itemValue(i),s=e.options.itemText(i),a=e.options.tagClass(i);if(n.attr("class",null),n.addClass("tag "+r(a)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=r(s),e.isSelect){var l=t("option",e.$element).filter(function(){return t(this).data("item")===i});l.attr("value",o)}})},items:function(){return this.itemsArray},pushVal:function(){var e=this,n=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(n,!0).trigger("change")},build:function(e){var r=this;r.options=t.extend({},s,e);var a=r.options.typeahead||{};r.objectItems&&(r.options.freeInput=!1),n(r.options,"itemValue"),n(r.options,"itemText"),n(r.options,"tagClass"),r.options.source&&(a.source=r.options.source),a.source&&t.fn.typeahead&&(i(a,"source"),r.$input.typeahead({source:function(e,n){function i(t){for(var e=[],i=0;i<t.length;i++){var s=r.options.itemText(t[i]);o[s]=t[i],e.push(s)}n(e)}this.map={};var o=this.map,s=a.source(e);t.isFunction(s.success)?s.success(i):t.when(s).then(i)},updater:function(t){r.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}})),r.$container.on("click",t.proxy(function(t){r.$input.focus()},r)),r.$container.on("keydown","input",t.proxy(function(e){var n=t(e.target),i=r.findInputWrapper();switch(e.which){case 8:if(0===o(n[0])){var s=i.prev();s&&r.remove(s.data("item"))}break;case 46:if(0===o(n[0])){var a=i.next();a&&r.remove(a.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var u=i.next();0===n.val().length&&u[0]&&(u.after(i),n.focus());break;default:r.options.freeInput&&t.inArray(e.which,r.options.confirmKeys)>=0&&(r.add(n.val()),n.val(""),e.preventDefault())}n.attr("size",Math.max(this.inputSize,n.val().length))},r)),r.$container.on("click","[data-role=remove]",t.proxy(function(e){r.remove(t(e.target).closest(".tag").data("item"))},r)),r.options.itemValue===s.itemValue&&("INPUT"===r.$element[0].tagName?r.add(r.$element.val()):t("option",r.$element).each(function(){r.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],n=this.$container[0];e&&e.parentNode!==n;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(n,i){var r=[];return this.each(function(){var o=t(this).data("tagsinput");if(o){var s=o[n](i);void 0!==s&&r.push(s)}else o=new e(this,n),t(this).data("tagsinput",o),r.push(o),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof n?r.length>1?r:r[0]:r},t.fn.tagsinput.Constructor=e;var a=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(){window.SocialShareButton={openUrl:function(t,e){return"true"===e?window.open(t,"popup","height=500,width=500"):(window.open(t),!1)},share:function(t){var e,n,i,r,o,s,a,l,u,c,h,d;switch(a=$(t).data("site"),n=$(t).data("appkey")||"",e=$(t).parent(),l=encodeURIComponent($(t).data(a+"-title")||e.data("title")||""),o=encodeURIComponent(e.data("img")||""),c=encodeURIComponent(e.data("url")||""),h=encodeURIComponent(e.data("via")||""),i=encodeURIComponent(e.data("desc")||" "),s=encodeURIComponent(e.data("popup")||"false"),0===c.length&&(c=encodeURIComponent(location.href)),a){case"email":location.href="mailto:?to=&subject="+l+"&body="+c;break;case"weibo":SocialShareButton.openUrl("http://service.weibo.com/share/share.php?url="+c+"&type=3&pic="+o+"&title="+l+"&appkey="+n,s);break;case"twitter":d="",h.length>0&&(d="&via="+h),SocialShareButton.openUrl("https://twitter.com/intent/tweet?url="+c+"&text="+l+d,s);break;case"douban":SocialShareButton.openUrl("http://shuo.douban.com/!service/share?href="+c+"&name="+l+"&image="+o+"&sel="+i,s);break;case"facebook":SocialShareButton.openUrl("http://www.facebook.com/sharer.php?u="+c,s);break;case"qq":SocialShareButton.openUrl("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+c+"&title="+l+"&pics="+o+"&summary="+i+"&site="+n,s);break;case"tqq":SocialShareButton.openUrl("http://share.v.t.qq.com/index.php?c=share&a=index&url="+c+"&title="+l+"&pic="+o+"&appkey="+n,s);break;case"baidu":SocialShareButton.openUrl("http://hi.baidu.com/pub/show/share?url="+c+"&title="+l+"&content="+i,s);break;case"kaixin001":SocialShareButton.openUrl("http://www.kaixin001.com/rest/records.php?url="+c+"&content="+l+"&style=11&pic="+o+"&aid="+n,s);break;case"renren":SocialShareButton.openUrl("http://widget.renren.com/dialog/share?resourceUrl="+c+"&srcUrl="+c+"&title="+l+"&pic="+o+"&description="+i,s);break;case"google_plus":SocialShareButton.openUrl("https://plus.google.com/share?url="+c,s);break;case"google_bookmark":SocialShareButton.openUrl("https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk="+c+"&title="+l,s);break;case"delicious":SocialShareButton.openUrl("http://www.delicious.com/save?url="+c+"&title="+l+"&jump=yes&pic="+o,s);break;case"plurk":SocialShareButton.openUrl("http://www.plurk.com/?status="+l+": "+c+"&qualifier=shares",s);break;case"pinterest":SocialShareButton.openUrl("http://www.pinterest.com/pin/create/button/?url="+c+"&media="+o+"&description="+l,s);break;case"tumblr":r=function(e){var n;return n=$(t).attr("data-"+e),n?encodeURIComponent(n):void 0},u=function(){var t,e,n,i;return e=r("type")||"link",t=function(){switch(e){case"text":return l=r("title")||l,"title="+l;case"photo":return l=r("caption")||l,i=r("source")||o,"caption="+l+"&source="+i;case"quote":return n=r("quote")||l,i=r("source")||"","quote="+n+"&source="+i;default:return l=r("title")||l,c=r("url")||c,"name="+l+"&url="+c}}(),"/"+e+"?"+t},SocialShareButton.openUrl("http://www.tumblr.com/share"+u(),s)}return!1}}}.call(this),/*!
  SerializeJSON jQuery plugin.
  https://github.com/marioizquierdo/jquery.serializeJSON
  version 2.4.2 (Oct, 2014)

  Copyright (c) 2014 Mario Izquierdo
  Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
  and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
*/
function(t){"use strict";t.fn.serializeJSON=function(e){var n,i,r,o,s,a,l;return a=t.serializeJSON,l=a.optsWithDefaults(e),a.validateOptions(l),i=this.serializeArray(),a.readCheckboxUncheckedValues(i,this,l),n={},t.each(i,function(t,e){r=a.splitInputNameIntoKeysArray(e.name),o=r.pop(),"skip"!==o&&(s=a.parseValue(e.value,o,l),l.parseWithFunction&&"_"===o&&(s=l.parseWithFunction(s,e.name)),a.deepSet(n,r,s,l))}),n},t.serializeJSON={defaultOptions:{parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,checkboxUncheckedValue:void 0,useIntKeysAsArrayIndex:!1},optsWithDefaults:function(e){var n,i;return null==e&&(e={}),n=t.serializeJSON,i=n.optWithDefaults("parseAll",e),{parseNumbers:i||n.optWithDefaults("parseNumbers",e),parseBooleans:i||n.optWithDefaults("parseBooleans",e),parseNulls:i||n.optWithDefaults("parseNulls",e),parseWithFunction:n.optWithDefaults("parseWithFunction",e),checkboxUncheckedValue:n.optWithDefaults("checkboxUncheckedValue",e),useIntKeysAsArrayIndex:n.optWithDefaults("useIntKeysAsArrayIndex",e)}},optWithDefaults:function(e,n){return n[e]!==!1&&""!==n[e]&&(n[e]||t.serializeJSON.defaultOptions[e])},validateOptions:function(t){var e,n;n=["parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","checkboxUncheckedValue","useIntKeysAsArrayIndex"];for(e in t)if(-1===n.indexOf(e))throw new Error("serializeJSON ERROR: invalid option '"+e+"'. Please use one of "+n.join(","))},parseValue:function(e,n,i){var r;return r=t.serializeJSON,"string"==n?e:"number"==n||i.parseNumbers&&r.isNumeric(e)?Number(e):"boolean"==n||i.parseBooleans&&("true"===e||"false"===e)?-1===["false","null","undefined","","0"].indexOf(e):"null"==n||i.parseNulls&&"null"==e?-1!==["false","null","undefined","","0"].indexOf(e)?null:e:"array"==n||"object"==n?JSON.parse(e):"auto"==n?r.parseValue(e,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0}):e},isObject:function(t){return t===Object(t)},isUndefined:function(t){return void 0===t},isValidArrayIndex:function(t){return/^[0-9]+$/.test(String(t))},isNumeric:function(t){return t-parseFloat(t)>=0},splitInputNameIntoKeysArray:function(e){var n,i,r,o,s;return s=t.serializeJSON,o=s.extractTypeFromInputName(e),i=o[0],r=o[1],n=i.split("["),n=t.map(n,function(t){return t.replace(/]/g,"")}),""===n[0]&&n.shift(),n.push(r),n},extractTypeFromInputName:function(e){var n,i;if(i=t.serializeJSON,n=e.match(/(.*):([^:]+)$/)){var r=["string","number","boolean","null","array","object","skip","auto"];if(-1!==r.indexOf(n[2]))return[n[1],n[2]];throw new Error("serializeJSON ERROR: Invalid type "+n[2]+" found in input name '"+e+"', please use one of "+r.join(", "))}return[e,"_"]},deepSet:function(e,n,i,r){var o,s,a,l,u,c;if(null==r&&(r={}),c=t.serializeJSON,c.isUndefined(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!n||0===n.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");o=n[0],1===n.length?""===o?e.push(i):e[o]=i:(s=n[1],""===o&&(l=e.length-1,u=e[l],o=c.isObject(u)&&(c.isUndefined(u[s])||n.length>2)?l:l+1),c.isUndefined(e[o])&&(""===s?e[o]=[]:r.useIntKeysAsArrayIndex&&c.isValidArrayIndex(s)?e[o]=[]:e[o]={}),a=n.slice(1),c.deepSet(e[o],a,i,r))},readCheckboxUncheckedValues:function(e,n,i){var r,o,s,a,l;null==i&&(i={}),l=t.serializeJSON,r="input[type=checkbox][name]:not(:checked,[disabled])",o=n.find(r).add(n.filter(r)),o.each(function(n,r){s=t(r),a=s.attr("data-unchecked-value"),a?e.push({name:r.name,value:a}):l.isUndefined(i.checkboxUncheckedValue)||e.push({name:r.name,value:i.checkboxUncheckedValue})})}}}(window.jQuery||window.Zepto||window.$),function(t){t.fn.addNewPageButton=function(e){function n(n){function i(){n.outerWidth()<=h+5&&n.animate({width:s.animate_width+"px"},s.speed,function(){a.show(0,function(){c.focus(),n.width("auto"),n.width(n.width())})})}function r(){a.hide(),n.animate({width:h+"px"},s.speed)}function o(){return""==t.trim(c.val())}var s=t.extend({speed:n.data("speed")||450,animate_width:n.data("animate_width")||425},e),a=t(n.data("field-target")),l=t("input[data-behavior='save']",a),u=t("input[data-behavior='cancel']",a),c=t("input[type='text']",a),h=n.outerWidth();n.on("mouseenter focus",function(){i()}),l.on("click",function(){return o()?!1:void 0}),u.on("click",function(t){t.preventDefault(),c.val(""),r()}),c.on("blur",function(){o()&&r()})}t.each(this,function(){n(t(this))})}}(jQuery),Spotlight.onLoad(function(){$("[data-expanded-add-button]").addNewPageButton()}),Spotlight.onLoad(function(){addRestoreDefaultBehavior()}),Spotlight.onLoad(function(){addCheckboxToggleBehavior(),addEnableToggleBehavior()}),function(t){SirTrevor.BlockMixins.Autocompleteable={mixinName:"Autocompleteable",preload:!0,initializeAutocompleteable:function(){this.on("onRender",this.addAutocompletetoSirTrevorForm),_.isUndefined(this.autocomplete_url)&&(this.autocomplete_url=function(){return t("form[data-autocomplete-url]").data("autocomplete-url").replace("%25QUERY","%QUERY")}),_.isUndefined(this.autocomplete_template)&&(this.autocomplete_url=function(){return'<div class="autocomplete-item{{#if private}} blacklight-private{{/if}}">{{#if thumbnail}}<div class="document-thumbnail thumbnail"><img src="{{thumbnail}}" /></div>{{/if}}<span class="autocomplete-title">{{title}}</span><br/><small>&nbsp;&nbsp;{{description}}</small></div>'}),_.isUndefined(this.transform_autocomplete_results)&&(this.transform_autocomplete_results=_.identity)},autocomplete_control:function(){return'<input type="text" class="st-input-string form-control item-input-field" data-twitter-typeahead="true" placeholder="<%= i18n.t("blocks:autocompleteable:placeholder")%>"/>'},addAutocompletetoSirTrevorForm:function(){this.$("[data-twitter-typeahead]").spotlightSearchTypeAhead({bloodhound:this.bloodhound(),template:this.autocomplete_template()}).on("typeahead:selected typeahead:autocompleted",this.autocompletedHandler()).on("focus",function(){""===t(this).val()&&t(this).data().ttTypeahead.input.trigger("queryChanged","")})},autocompletedHandler:function(e,n){var i=this;return function(e,n){t(this).typeahead("val",""),t(this).val(""),i.createItemPanel(t.extend(n,{display:"true"}))}},bloodhound:function(){var t=this,e=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.title)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,remote:{url:t.autocomplete_url(),filter:t.transform_autocomplete_results}});return e.initialize(),e}},SirTrevor.Block.prototype.availableMixins.push("autocompleteable")}(jQuery),function(t){SirTrevor.BlockMixins.Formable={mixinName:"Formable",preload:!0,initializeFormable:function(){_.isUndefined(this.afterLoadData)&&(this.afterLoadData=function(t){})},formId:function(t){return this.blockID+"_"+t},_serializeData:function(){var e=this.$(":input,textarea,select").not(":input:radio").serializeJSON();return this.$(":input:radio:checked").each(function(n,i){var r=t(i).data("key")||i.getAttribute("name");r.match("\\[")||(e[r]=t(i).val())}),this.hasTextBlock()&&(e.text=this.getTextBlockHTML(),e.text.length>0&&this.options.convertToMarkdown&&(e.text=stToMarkdown(e.text,this.type))),e},loadData:function(t){this.hasTextBlock()&&this.getTextBlock().html(SirTrevor.toHTML(t.text,this.type)),this.loadFormDataByKey(t),this.afterLoadData(t)},loadFormDataByKey:function(e){this.$(":input").not("button,:input[type=hidden]").each(function(n,i){var r=t(i).data("key")||i.getAttribute("name");if(r){r.match("\\[\\]$")&&(r=r.replace("[]",""));var o=e[r];o instanceof Array||(o=[o]),t(this).val(o)}})}},SirTrevor.Block.prototype.availableMixins.push("formable")}(jQuery),function(t){SirTrevor.PreviewButton=function(){this._ensureElement(),this._bindFunctions()},SirTrevor.PreviewButton.prototype=Object.create(SirTrevor.BlockDeletion.prototype),SirTrevor.PreviewButton.prototype.attributes={html:"preview","data-icon":"preview"},SirTrevor.PreviewButton.prototype.className="st-block-ui-btn st-block-ui-btn--preview st-icon",SirTrevor.EditButton=function(){this._ensureElement(),this._bindFunctions()},SirTrevor.EditButton.prototype=Object.create(SirTrevor.BlockDeletion.prototype),SirTrevor.EditButton.prototype.attributes={html:"edit","data-icon":"edit"},SirTrevor.EditButton.prototype.className="st-block-ui-btn st-block-ui-btn--edit st-icon",SirTrevor.BlockMixins.Previewable={mixinName:"Previewable",initializePreviewable:function(){this.on("onRender",this.addPreviewButton),_.isUndefined(this.afterPreviewLoad)&&(this.afterPreviewLoad=function(){})},addPreviewButton:function(){this._prependUIComponent(new SirTrevor.PreviewButton,".st-block-ui-btn--preview",this.previewHandler())},_prependUIComponent:function(t,e,n){this.$ui.prepend(t.render().$el),e&&n&&this.$ui.on("click",e,n)},previewButton:'<button class="st-block-ui-btn preview-btn"><%= i18n.t("blocks:previewable:title") %></button>',previewUrl:function(t){return t.$el.closest("[data-preview-url]").data("preview-url")},previewHandler:function(){var e=this;return function(n){n.stopPropagation();var i=t(this);i.attr("disabled","disabled"),t.post(e.previewUrl(e),{block:JSON.stringify(e.getData())},function(t){e.renderPreview(t).insertAfter(e.$inner),e.$inner.hide(),e.afterPreviewLoad()})}},renderPreview:function(e){var n=(new SirTrevor.EditButton).render().$el;n.on("click",this.editHandler(n));var i=t('<div class="st-block__ui" />').append(n),r=t('<div class="preview clearfix st-block__inner">');return r.append(e).append(i)},editHandler:function(e){var n=this,i=e;return function(e){e.stopPropagation(),n.$inner.show(),t(this).closest(".preview").remove(),i.removeAttr("disabled")}}},SirTrevor.Block.prototype.availableMixins.push("previewable"),SirTrevor.Block.prototype.previewable=!0}(jQuery),function(t){SirTrevor.BlockMixins.Textable={mixinName:"Textable",preload:!0,initializeTextable:function(){_.isUndefined(this.formId)&&this.withMixin(SirTrevor.BlockMixins.Formable),_.isUndefined(this.show_heading)&&(this.show_heading=!0)},align_key:"text-align",text_key:"item-text",heading_key:"title",text_area:function(){return _.template(['<div class="row">','<div class="col-md-8">','<div class="form-group">',this.heading(),'<div class="field">','<label for="<%= formId(text_key) %>" class="control-label"><%= i18n.t("blocks:textable:text") %></label>','<div id="<%= formId(text_key) %>" class="st-text-block form-control" contenteditable="true"></div>',"</div>","</div>","</div>",'<div class="col-md-4">','<div class="text-align">','<p><%= i18n.t("blocks:textable:align:title") %></p>','<input data-key="<%= align_key %>" type="radio" name="<%= formId(align_key) %>" id="<%= formId(align_key + "-left") %>" value="left" checked="true">','<label for="<%= formId(align_key + "-left") %>"><%= i18n.t("blocks:textable:align:left") %></label>','<input data-key="<%= align_key %>" type="radio" name="<%= formId(align_key) %>" id="<%= formId(align_key + "-right") %>" value="right">','<label for="<%= formId(align_key + "-right") %>"><%= i18n.t("blocks:textable:align:right") %></label>',"</div>","</div>","</div>"].join("\n"))(this)},heading:function(){return this.show_heading?['<div class="field">','<label for="<%= formId(heading_key) %>" class="control-label"><%= i18n.t("blocks:textable:heading") %></label>','<input type="text" class="form-control" id="<%= formId(heading_key) %>" name="<%= heading_key %>" />',"</div>"].join("\n"):""}},SirTrevor.Block.prototype.availableMixins.push("textable")}(jQuery),function(t){SirTrevor.BlockMixins.Titleable={mixinName:"Titleable",initializeTitleable:function(){this.$inner.append("<div class='st-title'>"+this.title()+"</div>")}},SirTrevor.Block.prototype.availableMixins.push("titleable"),SirTrevor.Block.prototype.titleable=!0}(jQuery),function(t){Spotlight.Block=SirTrevor.Block.extend({formable:!0,editorHTML:function(){return _.template(this.template)(this)},beforeBlockRender:function(){this.availableMixins.forEach(function(t){this[t]&&SirTrevor.BlockMixins[_.capitalize(t)].preload&&this.withMixin(SirTrevor.BlockMixins[_.capitalize(t)])},this)},$instance:function(){return t("#"+this.instanceID)}})}(jQuery),Spotlight.Block.Resources=function(){return Spotlight.Block.extend({type:"resources",formable:!0,autocompleteable:!0,show_heading:!0,title:function(){return i18n.t("blocks:"+this.type+":title")},description:function(){return i18n.t("blocks:"+this.type+":description")},icon_name:"resources",blockGroup:function(){return i18n.t("blocks:group:items")},primary_field_key:"primary-caption-field",show_primary_field_key:"show-primary-caption",secondary_field_key:"secondary-caption-field",show_secondary_field_key:"show-secondary-caption",display_checkbox:"display-checkbox",globalIndex:0,_itemPanel:function(t){var e,n="item_"+this.globalIndex++;e="true"==t.display?"checked='checked'":"";var i=['<li class="field form-inline dd-item dd3-item" data-id="'+n+'" id="'+this.formId("item_"+t.id)+'">','<input type="hidden" name="item['+n+'][id]" value="'+(t.slug||t.id)+'" />','<input type="hidden" name="item['+n+'][title]" value="'+t.title+'" />','<input type="hidden" name="item['+n+'][full_image_url]" data-item-grid-full-image="true"  value="'+(t.full_image_url||t.thumbnail_image_url||t.thumbnail)+'"/>','<input type="hidden" name="item['+n+'][thumbnail_image_url]" data-item-grid-thumbnail="true"  value="'+(t.thumbnail_image_url||t.thumbnail)+'"/>','<input data-property="weight" type="hidden" name="item['+n+'][weight]" value="'+t.weight+'" />','<div class="dd-handle dd3-handle"><%= i18n.t("blocks:resources:panel:drag") %></div>','<div class="dd3-content panel panel-default">','<div class="panel-heading item-grid">','<div class="checkbox">','<input name="item['+n+'][display]" type="hidden" value="false" />','<input name="item['+n+'][display]" id="'+this.formId(this.display_checkbox+"_"+t.id)+'" type="checkbox" '+e+' class="item-grid-checkbox" value="true"  />','<label class="sr-only" for="'+this.formId(this.display_checkbox+"_"+t.id)+'"><%= i18n.t("blocks:resources:panel:display") %></label>',"</div>",'<div class="pic thumbnail">','<img src="'+(t.thumbnail_image_url||t.thumbnail)+'" />',"</div>",'<div class="main">','<div class="title panel-title">'+t.title+"</div>","<div>"+(t.slug||t.id)+"</div>",'<div data-panel-image-pagination="true"></div>',"</div>",'<div class="remove pull-right">','<a data-item-grid-panel-remove="true" href="#"><%= i18n.t("blocks:resources:panel:remove") %></a>',"</div>","</div>","</div>","</li>"].join("\n"),r=$(_.template(i)(this)),o=this;return $(".remove a",r).on("click",function(t){t.preventDefault(),$(this).closest(".field").remove(),o.afterPanelDelete()}),this.afterPanelRender(t,r),r},afterPanelRender:function(t,e){},afterPanelDelete:function(){},createItemPanel:function(t){var e=this._itemPanel(t);$(e).appendTo(this.$el.find(".panels > ol")),this.$el.find('[data-behavior="nestable"]').trigger("change")},item_options:function(){return""},content:function(){var t=[this.items_selector()];return this.textable&&t.push(this.text_area()),_.template(t.join("<hr />\n"))(this)},items_selector:function(){return['<div class="row">','<div class="col-md-8">','<div class="form-group">','<div class="panels dd nestable-item-grid" data-behavior="nestable" data-max-depth="1"><ol class="dd-list"></ol></div>',this.autocomplete_control(),"</div>","</div>",'<div class="col-md-4">',this.item_options(),"</div>","</div>"].join("\n")},template:['<div class="form resources-admin clearfix">','<div class="widget-header">',"<%= description() %>","</div>","<%= content() %>","</div>"].join("\n"),onBlockRender:function(){SpotlightNestable.init(this.$el.find('[data-behavior="nestable"]')),this.$el.find("[data-input-select-target]").selectRelatedInput()},afterLoadData:function(t){var e=this;$.each(Object.keys(t.item||{}).map(function(e){return t.item[e]}).sort(function(t,e){return t.weight-e.weight}),function(t,n){e.createItemPanel(n)})}})}(),SirTrevor.Blocks.Browse=function(){return Spotlight.Block.Resources.extend({type:"browse",icon_name:"pages",autocomplete_url:function(){return this.$el.closest("form[data-autocomplete-exhibit-searches-path]").data("autocomplete-exhibit-searches-path").replace("%25QUERY","%QUERY")},autocomplete_template:function(){return'<div class="autocomplete-item{{#unless published}} blacklight-private{{/unless}}">{{#if thumbnail_image_url}}<div class="document-thumbnail thumbnail"><img src="{{thumbnail_image_url}}" /></div>{{/if}}<span class="autocomplete-title">{{title}}</span><br/><small>&nbsp;&nbsp;{{description}}</small></div>'},item_options:function(){return["<label>",'<input type="checkbox" name="display-item-counts" value="true" checked />','<%= i18n.t("blocks:browse:item_counts") %>',"</label>"].join("\n")}})}(),SirTrevor.Blocks.Iframe=function(){return SirTrevor.Block.extend({type:"Iframe",formable:!0,title:function(){return i18n.t("blocks:iframe:title")},description:function(){return i18n.t("blocks:iframe:description")},icon_name:"iframe",editorHTML:function(){return _.template(this.template,this)(this)},template:['<div class="clearfix">','<div class="widget-header">',"<%= description() %>","</div>",'<textarea name="code" class="form-control" rows="5" placeholder="<%= i18n.t("blocks:iframe:placeholder") %>"></textarea>',"</div>"].join("\n")})}(),SirTrevor.Blocks.Oembed=function(){return Spotlight.Block.extend({textable:!0,id_key:"url",type:"oembed",title:function(){return i18n.t("blocks:oembed:title")},description:function(){return i18n.t("blocks:oembed:description")},icon_name:"oembed",show_heading:!1,template:['<div class="form oembed-text-admin clearfix">','<div class="widget-header">',"<%= description() %>","</div>",'<div class="row">','<div class="form-group col-md-8">','<label for="<%= formId(id_key) %>"><%= i18n.t("blocks:oembed:url") %></label>','<input name="<%= id_key %>" class="form-control col-md-6" type="text" id="<%= formId(id_key) %>" />',"</div>","</div>","<%= text_area() %>","</div>"].join("\n")})}(),SirTrevor.Blocks.FeaturedPages=function(){return Spotlight.Block.Resources.extend({type:"featured_pages",icon_name:"pages",autocomplete_url:function(){return this.$el.closest("form[data-autocomplete-exhibit-feature-pages-path]").data("autocomplete-exhibit-feature-pages-path").replace("%25QUERY","%QUERY")},autocomplete_template:function(){return'<div class="autocomplete-item{{#unless published}} blacklight-private{{/unless}}">{{log "Look at me"}}{{log thumbnail_image_url}}{{#if thumbnail_image_url}}<div class="document-thumbnail thumbnail"><img src="{{thumbnail_image_url}}" /></div>{{/if}}<span class="autocomplete-title">{{title}}</span><br/><small>&nbsp;&nbsp;{{description}}</small></div>'}})}(),SirTrevor.Blocks.Rule=function(){return SirTrevor.Block.extend({type:"rule",title:function(){return i18n.t("blocks:rule:title")},icon_name:"rule",previewable:!1,editorHTML:function(){return _.template(this.template,this)(this)},template:"<hr />"})}(),SirTrevor.Blocks.SearchResults=function(){return SirTrevor.Blocks.Browse.extend({type:"search_results",icon_name:"search_results",searches_key:"slug",view_key:"view",textable:!1,content:function(){return _.template([this.items_selector()].join("<hr />\n"))(this)},item_options:function(){var t=this,e=$("[data-blacklight-configuration-search-views]").data("blacklight-configuration-search-views");return $.map(e,function(e){return checkbox="",checkbox+="<div>",checkbox+="<label for='"+t.formId(t.view_key+e.key)+"'>",checkbox+="<input id='"+t.formId(t.view_key+e.key)+"' name='"+t.view_key+"[]' type='checkbox' value='"+e.key+"' /> ",checkbox+=e.label,checkbox+="</label>",checkbox+="</div>",checkbox}).join("\n")},afterPanelRender:function(t,e){this.$el.find(".item-input-field").attr("disabled","disabled")},afterPanelDelete:function(){this.$el.find(".item-input-field").removeAttr("disabled")}})}(),SirTrevor.Blocks.SolrDocuments=function(){return Spotlight.Block.Resources.extend({type:"solr_documents",textable:!0,icon_name:"items",autocomplete_url:function(){return this.$instance().closest("form[data-autocomplete-exhibit-catalog-index-path]").data("autocomplete-exhibit-catalog-index-path").replace("%25QUERY","%QUERY")},autocomplete_template:function(){return'<div class="autocomplete-item{{#if private}} blacklight-private{{/if}}">{{#if thumbnail}}<div class="document-thumbnail thumbnail"><img src="{{thumbnail}}" /></div>{{/if}}<span class="autocomplete-title">{{title}}</span><br/><small>&nbsp;&nbsp;{{description}}</small></div>'},transform_autocomplete_results:function(t){return $.map(t.docs,function(t){return t})},caption_option_values:function(){var t=$("[data-blacklight-configuration-index-fields]").data("blacklight-configuration-index-fields");return $.map(t,function(t){return $("<option />").val(t.key).text(t.label)[0].outerHTML}).join("\n")},item_options:function(){return this.caption_options()},caption_options:function(){return['<div class="field-select primary-caption" data-behavior="item-caption-admin">','<input name="<%= show_primary_field_key %>" type="hidden" value="false" />','<input data-input-select-target="#<%= formId(primary_field_key) %>" name="<%= show_primary_field_key %>" id="<%= formId(show_primary_field_key) %>" type="checkbox" value="true" />','<label for="<%= formId(show_primary_field_key) %>"><%= i18n.t("blocks:solr_documents:caption:primary") %></label>','<select data-input-select-target="#<%= formId(show_primary_field_key) %>" name="<%= primary_field_key %>" id="<%= formId(primary_field_key) %>">','<option value=""><%= i18n.t("blocks:solr_documents:caption:placeholder") %></option>',"<%= caption_option_values() %>","</select>","</div>",'<div class="field-select secondary-caption" data-behavior="item-caption-admin">','<input name="<%= show_secondary_field_key %>" type="hidden" value="false" />','<input data-input-select-target="#<%= formId(secondary_field_key) %>" name="<%= show_secondary_field_key %>" id="<%= formId(show_secondary_field_key) %>" type="checkbox" value="true" />','<label for="<%= formId(show_secondary_field_key) %>"><%= i18n.t("blocks:solr_documents:caption:secondary") %></label>','<select data-input-select-target="#<%= formId(show_secondary_field_key) %>" name="<%= secondary_field_key %>" id="<%= formId(secondary_field_key) %>">','<option value=""><%= i18n.t("blocks:solr_documents:caption:placeholder") %></option>',"<%= caption_option_values() %>","</select>","</div>"].join("\n")},afterPanelRender:function(t,e){var n=this;_.isUndefined(t.image_versions)?$.getJSON(this.autocomplete_url().replace("%QUERY","id:"+t.id),function(t){var i=n.transform_autocomplete_results(t)[0];_.isUndefined(i)||e.multiImageSelector(i.image_versions)}):e.multiImageSelector(t.image_versions)}})}(),SirTrevor.Blocks.SolrDocumentsCarousel=function(){return SirTrevor.Blocks.SolrDocuments.extend({textable:!1,type:"solr_documents_carousel",icon_name:"item_carousel",auto_play_images_key:"auto-play-images",auto_play_images_interval_key:"auto-play-images-interval",max_height_key:"max-height",item_options:function(){return""},carouselCycleTimesInSeconds:{values:[3,5,8,12,20],selected:5},carouselMaxHeights:{values:{Small:"small",Medium:"medium",Large:"large"},selected:"Medium"},item_options:function(){return[this.caption_options(),'<div class="field-select auto-cycle-images" data-behavior="auto-cycle-images">','<input name="<%= auto_play_images_key %>" type="hidden" value="false" />','<input name="<%= auto_play_images_key %>" id="<%= formId(auto_play_images_key) %>" data-key="<%= auto_play_images_key %>" type="checkbox" value="true" checked/>','<label for="<%= formId(auto_play_images_key) %>"><%= i18n.t("blocks:solr_documents_carousel:interval:title") %></label>','<select name="<%= auto_play_images_interval_key %>" id="<%= formId(auto_play_images_interval_key) %>" data=key="<%= auto_play_images_interval_key %>">','<option value=""><%= i18n.t("blocks:solr_documents_carousel:interval:placeholder") %></option>',"<%= addCarouselCycleOptions(carouselCycleTimesInSeconds) %>","</select>","</div>",'<div class="field-select max-heights" data-behavior="max-heights">','<label for="<%= formId(max_height_key) %>"><%= i18n.t("blocks:solr_documents_carousel:height:title") %></label><br/>',"<%= addCarouselMaxHeightOptions(carouselMaxHeights) %>","</div>"].join("\n")},addCarouselCycleOptions:function(t){var e="";return $.each(t.values,function(n,i){var r=i===t.selected?"selected":"",o=1e3*parseInt(i,10);e+='<option value="'+o+'" '+r+">"+i+" seconds</option>"}),e},addCarouselMaxHeightOptions:function(t){var e="",n=this;return $.each(t.values,function(i,r){var o=i===t.selected?"checked":"",s=n.formId(n.max_height_key);e+='<input data-key="'+n.max_height_key+'" type="radio" name="'+s+'" value="'+r+'" id="'+s+'" '+o+">",e+='<label class="carousel-size" for="'+s+'">'+i+"</label>"}),e},afterPreviewLoad:function(t){this.$el.find(".carousel").carousel();var e=function(t){var e,n=$(this),i=$(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=$.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),$.fn.carousel.call(i,r),o&&i.data("bs.carousel").to(o),t.preventDefault()}};this.$el.find(".carousel").on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e)}})}(),SirTrevor.Blocks.SolrDocumentsEmbed=function(){return SirTrevor.Blocks.SolrDocuments.extend({type:"solr_documents_embed",icon_name:"item_embed",item_options:function(){return""},afterPreviewLoad:function(t){this.$el.find("picture[data-openseadragon]").openseadragon()}})}(),SirTrevor.Blocks.SolrDocumentsFeatures=function(){return SirTrevor.Blocks.SolrDocuments.extend({textable:!1,type:"solr_documents_features",icon_name:"item_features",afterPreviewLoad:function(t){this.$el.find(".carousel").carousel();var e=function(t){var e,n=$(this),i=$(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=$.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),$.fn.carousel.call(i,r),o&&i.data("bs.carousel").to(o),t.preventDefault()}};this.$el.find(".carousel").on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e)}})}(),SirTrevor.Blocks.SolrDocumentsGrid=function(){return SirTrevor.Blocks.SolrDocuments.extend({type:"solr_documents_grid",icon_name:"item_grid",item_options:function(){return""}})}(),SirTrevor.Blocks.UploadedItems=function(){return Spotlight.Block.Resources.extend({textable:!0,uploadable:!0,autocompleteable:!1,id_key:"file",type:"uploaded_items",icon_name:"items",blockGroup:"undefined",upload_options:{html:""},fileInput:function(){return this.$el.find('input[type="file"]')},onBlockRender:function(){SpotlightNestable.init(this.$el.find('[data-behavior="nestable"]')),this.fileInput().on("change",function(t){this.onDrop(t.currentTarget)}.bind(this))},onDrop:function(t){var e=t.files[0];"undefined"!=typeof URL?URL:"undefined"!=typeof webkitURL?webkitURL:null;/image/.test(e.type)&&(this.loading(),this.uploader(e,function(t){this.createItemPanel(t),this.fileInput().val(""),this.ready()},function(t){this.addMessage(i18n.t("blocks:image:upload_error")),this.ready()}))},title:function(){return i18n.t("blocks:uploaded_items:title")},description:function(){return i18n.t("blocks:uploaded_items:description")},globalIndex:0,_itemPanel:function(t){var e="file_"+this.globalIndex++,n='checked="checked"';"false"==t.display&&(n="");var i=t.id||t.uid,r=t.title||t.name,o=t.url||t.file.url,s=['<li class="field form-inline dd-item dd3-item" data-id="'+e+'" id="'+this.formId("item_"+i)+'">','<input type="hidden" name="item['+e+'][id]" value="'+i+'" />','<input type="hidden" name="item['+e+'][title]" value="'+r+'" />','<input type="hidden" name="item['+e+'][url]" data-item-grid-thumbnail="true"  value="'+o+'"/>','<input data-property="weight" type="hidden" name="item['+e+'][weight]" value="'+t.weight+'" />','<div class="dd-handle dd3-handle"><%= i18n.t("blocks:resources:panel:drag") %></div>','<div class="dd3-content panel panel-default">','<div class="panel-heading item-grid">','<div class="checkbox">','<input name="item['+e+'][display]" type="hidden" value="false" />','<input name="item['+e+'][display]" id="'+this.formId(this.display_checkbox+"_"+i)+'" type="checkbox" '+n+' class="item-grid-checkbox" value="true"  />','<label class="sr-only" for="'+this.formId(this.display_checkbox+"_"+i)+'"><%= i18n.t("blocks:resources:panel:display") %></label>',"</div>",'<div class="pic thumbnail">','<img src="'+o+'" />',"</div>",'<div class="main">','<div class="title panel-title">'+r+"</div>","</div>",'<div class="remove pull-right">','<a data-item-grid-panel-remove="true" href="#"><%= i18n.t("blocks:resources:panel:remove") %></a>',"</div>","</div>","</div>","</li>"].join("\n"),a=$(_.template(s)(this)),l=this;return $(".remove a",a).on("click",function(t){t.preventDefault(),$(this).closest(".field").remove(),l.afterPanelDelete()}),this.afterPanelRender(t,a),a},template:['<div class="form oembed-text-admin clearfix">','<div class="widget-header">',"<%= description() %>","</div>",'<div class="row">','<div class="form-group col-md-8">','<div class="panels dd nestable-item-grid" data-behavior="nestable" data-max-depth="1">','<ol class="dd-list">',"</ol>","</div>",'<input type="file" id="uploaded_item_url" name="file[file_0][file_data]" />',"</div>","</div>","<%= text_area() %>","</div>"].join("\n")})}(),Spotlight.onLoad(function(){if($("#solr_document_exhibit_tag_list").length>0){$("#solr_document_exhibit_tag_list").tagsinput();var t=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,prefetch:{url:$("#solr_document_exhibit_tag_list").data("autocomplete_url"),ttl:1,filter:function(t){return $.map(t,function(t){return{name:t}})}}});t.initialize(),$("#solr_document_exhibit_tag_list").tagsinput("input").typeahead({highlight:!0,hint:!1},{name:"tags",displayKey:"name",source:t.ttAdapter()}).bind("typeahead:selected",$.proxy(function(t,e){$("#solr_document_exhibit_tag_list").tagsinput("add",e.name),$("#solr_document_exhibit_tag_list").tagsinput("input").typeahead("val","")})).bind("blur",function(){$("#solr_document_exhibit_tag_list").tagsinput("add",$("#solr_document_exhibit_tag_list").tagsinput("input").typeahead("val")),$("#solr_document_exhibit_tag_list").tagsinput("input").typeahead("val","")})}$(".visiblity_toggle").bl_checkbox_submit({css_class:"toggle_visibility",success:function(t){var e=$($(this).data("label-toggle-target"));t?e.removeClass("blacklight-private"):e.addClass("blacklight-private")}})}),function(t){t.fn.spotlightCheckUserExistence=function(){function e(){d=t(this),""!==d.val()&&c()[0].checkValidity()?t.ajax(h()).success(i).fail(r):i()}function n(){""===t(this).val()&&i()}function i(){l().hide(),u().prop("disabled",!1)}function r(){o(),l().show(),a().on("change",o),u().prop("disabled",!0)}function o(){var t=l().find("a"),e=t.data("inviteUrl"),n=d.val();t.attr("href",e+"?user="+encodeURIComponent(n)+"&role="+encodeURIComponent(s()))}function s(){return a().length>0?a().val():d.closest("tr").find("[data-user-role]").data("userRole")}function a(){return d.closest("tr").find("select")}function l(){return c().find('[data-behavior="no-user-note"]')}function u(){return c().find('input[type="submit"]')}function c(){return d.closest("form")}function h(){return t("[data-user-exists-url]").data("userExistsUrl")+"?user="+d.val()}var d,p=this;return t(p).each(function(){t(this).on("blur",e),t(this).on("change",n)}),this}}(jQuery),Spotlight.onLoad(function(){$('[data-behavior="check-user-existence"]').spotlightCheckUserExistence()}),/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(t,i)}}),function(t){function e(t){w.push(t),b||(b=!0,m(i))}function n(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function i(){b=!1;var t=w;w=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n=t.takeRecords();r(t),n.length&&(t.callback_(n,t),e=!0)}),e&&i()}function r(t){t.nodes_.forEach(function(e){var n=g.get(e);n&&n.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function o(t,e){for(var n=t;n;n=n.parentNode){var i=g.get(n);if(i)for(var r=0;r<i.length;r++){var o=i[r],s=o.options;if(n===t||s.subtree){var a=e(s);a&&o.enqueue(a)}}}}function s(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++_}function a(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function l(t){var e=new a(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function u(t,e){return x=new a(t,e)}function c(t){return k?k:(k=l(x),k.oldValue=t,k)}function h(){x=k=void 0}function d(t){return t===k||t===x}function p(t,e){return t===e?t:k&&d(t)?k:null}function f(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(e++ +"__")};n.prototype={set:function(e,n){var i=e[this.name];return i&&i[0]===e?i[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];return e&&e[0]===t?(e[0]=e[1]=void 0,!0):!1},has:function(t){var e=t[this.name];return e?e[0]===t:!1}},window.WeakMap=n}();var m,g=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var v=[],y=String(Math.random());window.addEventListener("message",function(t){if(t.data===y){var e=v;v=[],e.forEach(function(t){t()})}}),m=function(t){v.push(t),window.postMessage(y,"*")}}var b=!1,w=[],_=0;s.prototype={observe:function(t,e){if(t=n(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var i=g.get(t);i||g.set(t,i=[]);for(var r,o=0;o<i.length;o++)if(i[o].observer===this){r=i[o],r.removeListeners(),r.options=e;break}r||(r=new f(this,t,e),i.push(r),this.nodes_.push(t)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=g.get(t),n=0;n<e.length;n++){var i=e[n];if(i.observer===this){i.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var x,k;f.prototype={enqueue:function(t){var n=this.observer.records_,i=n.length;if(n.length>0){var r=n[i-1],o=p(r,t);if(o)return void(n[i-1]=o)}else e(this.observer);n[i]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=g.get(t);e||g.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=g.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target,r=new u("attributes",i);r.attributeName=e,r.attributeNamespace=n;var s=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;o(i,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?c(s):r});break;case"DOMCharacterDataModified":var i=t.target,r=u("characterData",i),s=t.prevValue;o(i,function(t){return t.characterData?t.characterDataOldValue?c(s):r:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a,l,i=t.relatedNode,d=t.target;"DOMNodeInserted"===t.type?(a=[d],l=[]):(a=[],l=[d]);var p=d.previousSibling,f=d.nextSibling,r=u("childList",i);r.addedNodes=a,r.removedNodes=l,r.previousSibling=p,r.nextSibling=f,o(i,function(t){return t.childList?r:void 0})}h()}},t.JsMutationObserver=s,t.MutationObserver||(t.MutationObserver=s)}(this),Spotlight.onLoad(function(){$('[data-croppable="true"]').croppable()}),function(t){t.fn.croppable=function(e){var n=this,e=e,i={setSelect:"[0,0,200,200]"};return t(n).each(function(){function n(t){u.css({width:Math.round(100/t.w*l.width())+"px",height:Math.round(100/t.h*l.height())+"px",marginLeft:"-"+Math.round(100/t.w*t.x)+"px",marginTop:"-"+Math.round(100/t.h*t.y)+"px"})}function r(e){t("#"+s+"_crop_x").val(e.x),t("#"+s+"_crop_y").val(e.y),t("#"+s+"_crop_w").val(e.w),t("#"+s+"_crop_h").val(e.h),n(e)}var o=t(this),s=o.data("selector")||this.id,a=t("#"+s+"_crop").val(),l=t("#"+s+"_cropbox"),u=t("#"+s+"_previewbox"),c=l.closest(".croppable-loading-area");"[0,0,0,0]"==a&&(a=null);var h={setSelect:t.parseJSON(a||JSON.stringify(o.data("initialSetSelect"))||i.setSelect),selector:s},d=t.extend(h,o.data(),e);l.data("jcropProcessed")||(l[0].complete===!1&&l[0].src==window.location.href&&(l[0].src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="),l.Jcrop(t.extend(d,{onSelect:r,onChange:r}))),l.data("jcropProcessed","true"),l.on("load",function(){c.removeClass("loading-jcrop");var t=l.data("Jcrop");t&&(t.setSelect(d.setSelect),serializeObservedForms(observedForms()))}),o.on("change",function(){var e=l.data("Jcrop");if(c.addClass("loading-jcrop"),this.files){var n=this.files[0],i=l[0];i.file=n;var r=new FileReader;r.onload=function(t){return function(t){e.setImage(t.target.result),l.css({width:"",height:""}),l[0].src=t.target.result,u.length>0&&(u[0].src=t.target.result),e.setSelect(d.setSelect)}}(i),r.readAsDataURL(n)}else{var o=t(this).attr("value");e.setImage(o),l.css({width:"",height:""}),l[0].src=o,u.length>0&&(u[0].src=o),e.setSelect(d.setSelect)}l.closest(".missing-croppable").removeClass("missing-croppable")})}),this}}(jQuery),Spotlight.onLoad(function(){$("[data-in-place-edit-target]").spotlightEditInPlace()}),function(t){t.fn.spotlightEditInPlace=function(){var e=this;return t(e).each(function(){t(this).on("click.inplaceedit",function(){var e=t(this).find(t(this).data("in-place-edit-target")),n=t(this).find(t(this).data("in-place-edit-field-target"));return t(this).addClass("hide-edit-icon"),e.hide(),n.val(e.text()),n.attr("type","text"),n.select(),n.focus(),n.on("keypress",function(t){return 13==t.which?(n.trigger("blur.inplaceedit"),!1):void 0}),n.on("blur.inplaceedit",function(){return e.text(n.val()),e.show(),n.attr("type","hidden"),t("[data-in-place-edit-target]").removeClass("hide-edit-icon"),!1}),!1})}),this}}(jQuery),Spotlight.onLoad(function(){$("#new_exhibit").each(function(){$("#exhibit_title").on("change keyup",function(){$("#exhibit_slug").attr("placeholder",URLify($(this).val(),$(this).val().length))}),$("#exhibit_slug").on("focus",function(){""===$(this).val()&&$(this).val($(this).attr("placeholder"))})}),$("#another-email").on("click",function(){var t=$(this).closest(".form-group"),e=t.find(".contact"),n=e.first().clone();n.find("input").each(function(){$(this).val(""),$(this).attr("id",$(this).attr("id").replace("0",e.length)),$(this).attr("name",$(this).attr("name").replace("0",e.length))}),n.find(".first-row-only").remove(),n.find(".input-group input:only-child").closest(".input-group").removeClass("input-group"),$(n).insertAfter(e.last())}),$(".btn-with-tooltip").tooltip(),$("#save-modal").on("shown.bs.modal",function(){$("#search_title").focus()})}),Spotlight.onLoad(function(){serializeObservedForms(observedForms())}),$(window).on("beforeunload page:before-change",function(t){if(observedFormsStatusHasChanged()){var e="You have unsaved changes. Are you sure you want to leave this page?";return"beforeunload"==t.type?e:confirm(e)}}),/**
 * jquery.Jcrop.js v0.9.12
 * jQuery Image Cropping Plugin - released under MIT License 
 * Author: Kelly Hallman <khallman@gmail.com>
 * http://github.com/tapmodo/Jcrop
 * Copyright (c) 2008-2013 Tapmodo Interactive LLC {{{
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 *
 * }}}
 *
 * This is a fork of the above mentioned code which is available at https://github.com/sul-dlss/Jcrop
 */
function(t){t.Jcrop=function(e,n){function i(t){return Math.round(t)+"px"}function r(t){return M.baseClass+"-"+t}function o(){return t.fx.step.hasOwnProperty("backgroundColor")}function s(e){var n=t(e).offset();return[n.left,n.top]}function a(t){return[t.pageX-I[0],t.pageY-I[1]]}function l(e){"object"!=typeof e&&(e={}),M=t.extend(M,e),t.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof M[e]&&(M[e]=function(){})})}function u(t,e,n){if(I=s(U),ft.setCursor("move"===t?t:t+"-resize"),"move"===t)return ft.activateHandlers(h(e),g,n);var i=ht.getFixed(),r=d(t),o=ht.getCorner(d(r));ht.setPressed(ht.getCorner(r)),ht.setCurrent(o),ft.activateHandlers(c(t,i),g,n)}function c(t,e){return function(n){if(M.aspectRatio)switch(t){case"e":n[1]=e.y+1;break;case"w":n[1]=e.y+1;break;case"n":n[0]=e.x+1;break;case"s":n[0]=e.x+1}else switch(t){case"e":n[1]=e.y2;break;case"w":n[1]=e.y2;break;case"n":n[0]=e.x2;break;case"s":n[0]=e.x2}ht.setCurrent(n),pt.update()}}function h(t){var e=t;return mt.watchKeys(),function(t){ht.moveOffset([t[0]-e[0],t[1]-e[1]]),e=t,pt.update()}}function d(t){switch(t){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function p(t){return function(e){return M.disabled?!1:"move"!==t||M.allowMove?(I=s(U),it=!0,u(t,a(e)),e.stopPropagation(),e.preventDefault(),!1):!1}}function f(t,e,n){var i=t.width(),r=t.height();i>e&&e>0&&(i=e,r=e/t.width()*t.height()),r>n&&n>0&&(r=n,i=n/t.height()*t.width()),et=t.width()/i,nt=t.height()/r,t.width(i).height(r)}function m(t){return{x:t.x*et,y:t.y*nt,x2:t.x2*et,y2:t.y2*nt,w:t.w*et,h:t.h*nt}}function g(t){var e=ht.getFixed();e.w>M.minSelect[0]&&e.h>M.minSelect[1]?(pt.enableHandles(),pt.done()):pt.release(),ft.setCursor(M.allowSelect?"crosshair":"default")}function v(t){if(!M.disabled&&M.allowSelect){it=!0,I=s(U),pt.disableHandles(),ft.setCursor("crosshair");var e=a(t);return ht.setPressed(e),pt.update(),ft.activateHandlers(y,g,"touch"===t.type.substring(0,5)),mt.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}}function y(t){ht.setCurrent(t),pt.update()}function b(){var e=t("<div></div>").addClass(r("tracker"));return j&&e.css({opacity:0,backgroundColor:"white"}),e}function w(t){W.removeClass().addClass(r("holder")).addClass(t)}function _(t,e){function n(){window.setTimeout(y,h)}var i=t[0]/et,r=t[1]/nt,o=t[2]/et,s=t[3]/nt;if(!rt){var a=ht.flipCoords(i,r,o,s),l=ht.getFixed(),u=[l.x,l.y,l.x2,l.y2],c=u,h=M.animationDelay,d=a[0]-u[0],p=a[1]-u[1],f=a[2]-u[2],m=a[3]-u[3],g=0,v=M.swingSpeed;i=c[0],r=c[1],o=c[2],s=c[3],pt.animMode(!0);var y=function(){return function(){g+=(100-g)/v,c[0]=Math.round(i+g/100*d),c[1]=Math.round(r+g/100*p),c[2]=Math.round(o+g/100*f),c[3]=Math.round(s+g/100*m),g>=99.8&&(g=100),100>g?(k(c),n()):(pt.done(),pt.animMode(!1),"function"==typeof e&&e.call(gt))}}();n()}}function x(t){k([t[0]/et,t[1]/nt,t[2]/et,t[3]/nt]),M.onSelect.call(gt,m(ht.getFixed())),pt.enableHandles()}function k(t){ht.setPressed([t[0],t[1]]),ht.setCurrent([t[2],t[3]]),pt.update()}function S(){return m(ht.getFixed())}function $(){return ht.getFixed()}function T(t){l(t),O()}function E(){M.disabled=!0,pt.disableHandles(),pt.setCursor("default"),ft.setCursor("default")}function C(){M.disabled=!1,O()}function A(){pt.done(),ft.activateHandlers(null,null)}function N(){W.remove(),z.show(),z.css("visibility","visible"),t(e).removeData("Jcrop")}function D(t,e){pt.release(),E();var n=new Image;n.onload=function(){var i=n.width,r=n.height,o=M.boxWidth,s=M.boxHeight;U.width(i).height(r),U.attr("src",t),K.attr("src",t),f(U,o,s),q=U.width(),V=U.height(),K.width(q).height(V),at.width(q+2*st).height(V+2*st),W.width(q).height(V),dt.resize(q,V),C(),"function"==typeof e&&e.call(gt)},n.src=t}function P(t,e,n){var i=e||M.bgColor;M.bgFade&&o()&&M.fadeTime&&!n?t.animate({backgroundColor:i},{queue:!1,duration:M.fadeTime}):t.css("backgroundColor",i)}function O(t){M.allowResize?t?pt.enableOnly():pt.enableHandles():pt.disableHandles(),ft.setCursor(M.allowSelect?"crosshair":"default"),pt.setCursor(M.allowMove?"move":"default"),M.hasOwnProperty("trueSize")&&(et=M.trueSize[0]/q,nt=M.trueSize[1]/V),M.hasOwnProperty("setSelect")&&(x(M.setSelect),pt.done(),delete M.setSelect),dt.refresh(),M.bgColor!=lt&&(P(M.shade?dt.getShades():W,M.shade?M.shadeColor||M.bgColor:M.bgColor),lt=M.bgColor),ut!=M.bgOpacity&&(ut=M.bgOpacity,M.shade?dt.refresh():pt.setBgOpacity(ut)),Q=M.maxSize[0]||0,Z=M.maxSize[1]||0,J=M.minSize[0]||0,tt=M.minSize[1]||0,M.hasOwnProperty("outerImage")&&(U.attr("src",M.outerImage),delete M.outerImage),pt.refresh()}var I,M=t.extend({},t.Jcrop.defaults),B=navigator.userAgent.toLowerCase(),j=/msie/.test(B),L=/msie [1-6]\./.test(B);"object"!=typeof e&&(e=t(e)[0]),"object"!=typeof n&&(n={}),l(n);var R={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},z=t(e),F=!0;if("IMG"==e.tagName){if(0!=z[0].width&&0!=z[0].height)z.width(z[0].width),z.height(z[0].height);else{var H=new Image;H.src=z[0].src,z.width(H.width),z.height(H.height)}var U=z.clone().removeAttr("id").css(R).show();U.width(z.width()),U.height(z.height()),z.after(U).hide()}else U=z.css(R).show(),F=!1,null===M.shade&&(M.shade=!0);f(U,M.boxWidth,M.boxHeight);var q=U.width(),V=U.height(),W=t("<div />").width(q).height(V).addClass(r("holder")).css({position:"relative",backgroundColor:M.bgColor}).insertAfter(z).append(U);M.addClass&&W.addClass(M.addClass);var K=t("<div />"),X=t("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),G=t("<div />").width("100%").height("100%").css("zIndex",320),Y=t("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=ht.getFixed();M.onDblClick.call(gt,t)}).insertBefore(U).append(X,G);F&&(K=t("<img />").attr("src",U.attr("src")).css(R).width(q).height(V),X.append(K)),L&&Y.css({overflowY:"hidden"});var Q,Z,J,tt,et,nt,it,rt,ot,st=M.boundary,at=b().width(q+2*st).height(V+2*st).css({position:"absolute",top:i(-st),left:i(-st),zIndex:290}).mousedown(v),lt=M.bgColor,ut=M.bgOpacity;I=s(U);var ct=function(){function t(){var t,e={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(t=0;t<n.length;t++){var r=n[t];r="on"+r;var o=r in i;o||(i.setAttribute(r,"return;"),o="function"==typeof i[r]),e[n[t]]=o}return e.touchstart&&e.touchend&&e.touchmove}catch(s){return!1}}function e(){return M.touchSupport===!0||M.touchSupport===!1?M.touchSupport:t()}return{createDragger:function(t){return function(e){return M.disabled?!1:"move"!==t||M.allowMove?(I=s(U),it=!0,u(t,a(ct.cfilter(e)),!0),e.stopPropagation(),e.preventDefault(),!1):!1}},newSelection:function(t){return v(ct.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:t,support:e()}}(),ht=function(){function t(t){t=s(t),f=d=t[0],m=p=t[1]}function e(t){t=s(t),c=t[0]-f,h=t[1]-m,f=t[0],m=t[1]}function n(){return[c,h]}function i(t){var e=t[0],n=t[1];0>d+e&&(e-=e+d),0>p+n&&(n-=n+p),m+n>V&&(n+=V-(m+n)),f+e>q&&(e+=q-(f+e)),d+=e,f+=e,p+=n,m+=n}function r(t){var e=o();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}}function o(){if(!M.aspectRatio)return l();var t,e,n,i,r=M.aspectRatio,o=M.minSize[0]/et,s=M.maxSize[0]/et,c=M.maxSize[1]/nt,h=f-d,g=m-p,v=Math.abs(h),y=Math.abs(g),b=v/y;return 0===s&&(s=10*q),0===c&&(c=10*V),r>b?(e=m,n=y*r,t=0>h?d-n:n+d,0>t?(t=0,i=Math.abs((t-d)/r),e=0>g?p-i:i+p):t>q&&(t=q,i=Math.abs((t-d)/r),e=0>g?p-i:i+p)):(t=f,i=v/r,e=0>g?p-i:p+i,0>e?(e=0,n=Math.abs((e-p)*r),t=0>h?d-n:n+d):e>V&&(e=V,n=Math.abs(e-p)*r,t=0>h?d-n:n+d)),t>d?(o>t-d?t=d+o:t-d>s&&(t=d+s),e=e>p?p+(t-d)/r:p-(t-d)/r):d>t&&(o>d-t?t=d-o:d-t>s&&(t=d-s),e=e>p?p+(d-t)/r:p-(d-t)/r),0>t?(d-=t,t=0):t>q&&(d-=t-q,t=q),0>e?(p-=e,e=0):e>V&&(p-=e-V,e=V),u(a(d,p,t,e))}function s(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>q&&(t[0]=q),t[1]>V&&(t[1]=V),[Math.round(t[0]),Math.round(t[1])]}function a(t,e,n,i){var r=t,o=n,s=e,a=i;return t>n&&(r=n,o=t),e>i&&(s=i,a=e),[r,s,o,a]}function l(){var t,e=f-d,n=m-p;return Q&&Math.abs(e)>Q/et&&(f=e>0?d+Q/et:d-Q/et),Z&&Math.abs(n)>Z/nt&&(m=n>0?p+Z/nt:p-Z/nt),tt/nt&&Math.abs(n)<tt/nt&&(m=n>0?p+tt/nt:p-tt/nt),J/et&&Math.abs(e)<J/et&&(f=e>0?d+J/et:d-J/et),0>d&&(f-=d,d-=d),0>p&&(m-=p,p-=p),0>f&&(d-=f,f-=f),0>m&&(p-=m,m-=m),f>q&&(t=f-q,d-=t,f-=t),m>V&&(t=m-V,p-=t,m-=t),d>q&&(t=d-V,m-=t,p-=t),p>V&&(t=p-V,m-=t,p-=t),u(a(d,p,f,m))}function u(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var c,h,d=0,p=0,f=0,m=0;return{flipCoords:a,setPressed:t,setCurrent:e,getOffset:n,moveOffset:i,getCorner:r,getFixed:o}}(),dt=function(){function e(t,e){f.left.css({height:i(e)}),f.right.css({height:i(e)})}function n(){return r(ht.getFixed())}function r(t){f.top.css({left:i(t.x),width:i(t.w),height:i(t.y)}),f.bottom.css({top:i(t.y2),left:i(t.x),width:i(t.w),height:i(V-t.y2)}),f.right.css({left:i(t.x2),width:i(q-t.x2)}),f.left.css({width:i(t.x)})}function o(){return t("<div />").css({position:"absolute",backgroundColor:M.shadeColor||M.bgColor}).appendTo(p)}function s(){d||(d=!0,p.insertBefore(U),n(),pt.setBgOpacity(1,0,1),K.hide(),a(M.shadeColor||M.bgColor,1),pt.isAwake()?u(M.bgOpacity,1):u(1,1))}function a(t,e){P(h(),t,e)}function l(){d&&(p.remove(),K.show(),d=!1,pt.isAwake()?pt.setBgOpacity(M.bgOpacity,1,1):(pt.setBgOpacity(1,1,1),pt.disableHandles()),P(W,0,1))}function u(t,e){d&&(M.bgFade&&!e?p.animate({opacity:1-t},{queue:!1,duration:M.fadeTime}):p.css({opacity:1-t}))}function c(){M.shade?s():l(),pt.isAwake()&&u(M.bgOpacity)}function h(){return p.children()}var d=!1,p=t("<div />").css({position:"absolute",zIndex:240,opacity:0}),f={top:o(),left:o().height(V),right:o().height(V),bottom:o()};return{update:n,updateRaw:r,getShades:h,setBgColor:a,enable:s,disable:l,resize:e,refresh:c,opacity:u}}(),pt=function(){function e(e){var n=t("<div />").css({position:"absolute",opacity:M.borderOpacity}).addClass(r(e));return X.append(n),n}function n(e,n){var i=t("<div />").mousedown(p(e)).css({cursor:e+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+e);return ct.support&&i.bind("touchstart.jcrop",ct.createDragger(e)),G.append(i),i}function o(t){var e=M.handleSize,i=n(t,E++).css({opacity:M.handleOpacity}).addClass(r("handle"));return e&&i.width(e).height(e),i}function s(t){return n(t,E++).addClass("jcrop-dragbar")}function a(t){var e;for(e=0;e<t.length;e++)N[t[e]]=s(t[e])}function l(t){var n,i;for(i=0;i<t.length;i++){switch(t[i]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}C[t[i]]=e(n)}}function u(t){var e;for(e=0;e<t.length;e++)A[t[e]]=o(t[e])}function c(t,e){M.shade||K.css({top:i(-e),left:i(-t)}),Y.css({top:i(e),left:i(t)})}function h(t,e){Y.width(Math.round(t)).height(Math.round(e))}function d(){var t=ht.getFixed();ht.setPressed([t.x,t.y]),ht.setCurrent([t.x2,t.y2]),f()}function f(t){return T?g(t):void 0}function g(t){var e=ht.getFixed();h(e.w,e.h),c(e.x,e.y),M.shade&&dt.updateRaw(e),T||y(),t?M.onSelect.call(gt,m(e)):M.onChange.call(gt,m(e))}function v(t,e,n){(T||e)&&(M.bgFade&&!n?U.animate({opacity:t},{queue:!1,duration:M.fadeTime}):U.css("opacity",t))}function y(){Y.show(),M.shade?dt.opacity(ut):v(ut,!0),T=!0}function w(){k(),Y.hide(),M.shade?dt.opacity(1):v(1),T=!1,M.onRelease.call(gt)}function _(){D&&G.show()}function x(){return D=!0,M.allowResize?(G.show(),!0):void 0}function k(){D=!1,G.hide()}function S(t){t?(rt=!0,k()):(rt=!1,x())}function $(){S(!1),d()}var T,E=370,C={},A={},N={},D=!1;M.dragEdges&&t.isArray(M.createDragbars)&&a(M.createDragbars),t.isArray(M.createHandles)&&u(M.createHandles),M.drawBorders&&t.isArray(M.createBorders)&&l(M.createBorders),t(document).bind("touchstart.jcrop-ios",function(e){t(e.currentTarget).hasClass("jcrop-tracker")&&e.stopPropagation()});var P=b().mousedown(p("move")).css({cursor:"move",position:"absolute",zIndex:360});return ct.support&&P.bind("touchstart.jcrop",ct.createDragger("move")),X.append(P),k(),{updateVisible:f,update:g,release:w,refresh:d,isAwake:function(){return T},setCursor:function(t){P.css("cursor",t)},enableHandles:x,enableOnly:function(){D=!0},showHandles:_,disableHandles:k,animMode:S,setBgOpacity:v,done:$}}(),ft=function(){function e(e){at.css({zIndex:450}),e?t(document).bind("touchmove.jcrop",s).bind("touchend.jcrop",l):d&&t(document).bind("mousemove.jcrop",i).bind("mouseup.jcrop",r)}function n(){at.css({zIndex:290}),t(document).unbind(".jcrop")}function i(t){return c(a(t)),!1}function r(t){return t.preventDefault(),t.stopPropagation(),it&&(it=!1,h(a(t)),pt.isAwake()&&M.onSelect.call(gt,m(ht.getFixed())),n(),c=function(){},h=function(){}),!1}function o(t,n,i){return it=!0,c=t,h=n,e(i),!1}function s(t){return c(a(ct.cfilter(t))),!1}function l(t){return r(ct.cfilter(t))}function u(t){at.css("cursor",t)}var c=function(){},h=function(){},d=M.trackDocument;return d||at.mousemove(i).mouseup(r).mouseout(r),U.before(at),{activateHandlers:o,setCursor:u}}(),mt=function(){function e(){M.keySupport&&(o.show(),o.focus())}function n(t){o.hide()}function i(t,e,n){M.allowMove&&(ht.moveOffset([e,n]),pt.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}function r(t){if(t.ctrlKey||t.metaKey)return!0;ot=t.shiftKey?!0:!1;var e=ot?10:1;switch(t.keyCode){case 37:i(t,-e,0);break;case 39:i(t,e,0);break;case 38:i(t,0,-e);break;case 40:i(t,0,e);break;case 27:M.allowSelect&&pt.release();break;case 9:return!0}return!1}var o=t('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),s=t("<div />").css({position:"absolute",overflow:"hidden"}).append(o);return M.keySupport&&(o.keydown(r).blur(n),L||!M.fixedSupport?(o.css({position:"absolute",left:"-20px"}),s.append(o).insertBefore(U)):o.insertBefore(U)),{watchKeys:e}}();ct.support&&at.bind("touchstart.jcrop",ct.newSelection),G.hide(),O(!0);var gt={setImage:D,animateTo:_,setSelect:x,setOptions:T,tellSelect:S,tellScaled:$,setClass:w,disable:E,enable:C,cancel:A,release:pt.release,destroy:N,focus:mt.watchKeys,getBounds:function(){return[q*et,V*nt]},getWidgetSize:function(){return[q,V]},getScaleFactor:function(){return[et,nt]},getOptions:function(){return M},ui:{holder:W,selection:Y}};return j&&W.bind("selectstart",function(){return!1}),z.data("Jcrop",gt),gt},t.fn.Jcrop=function(e,n){var i;return this.each(function(){if(t(this).data("Jcrop")){if("api"===e)return t(this).data("Jcrop");t(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?t.Jcrop.Loader(this,function(){t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i)}):(t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i))}),this},t.Jcrop.Loader=function(e,n,i){function r(){s.complete?(o.unbind(".jcloader"),t.isFunction(n)&&n.call(s)):window.setTimeout(r,50)}var o=t(e),s=o[0];o.bind("load.jcloader",r).bind("error.jcloader",function(e){o.unbind(".jcloader"),t.isFunction(i)&&i.call(s)}),s.complete&&t.isFunction(n)&&(o.unbind(".jcloader"),n.call(s))},t.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),Spotlight.onLoad(function(){function t(t){$.ajax({url:$(t).data("lock"),type:"POST",data:{_method:"delete"},async:!1}),$(t).removeAttr("data-lock")}$("[data-lock]").on("click",function(e){t(this)})}),function(){$.fn.multiImageSelector=function(t){function e(e){f=e,t&&t.length>1&&(n(),c())}function n(){$("[data-panel-image-pagination]",f).html("Image <span data-current-image='true'>"+r(i())+"</span> of "+t.length).show().append(m),o()}function i(){return $("[data-item-grid-thumbnail]",f).attr("value")}function r(t){return(index=y.indexOf(t))>-1?index+1:1}function o(){m.on("click",function(){g.slideToggle(),s(),l(),u(),a(),d($(this))})}function s(){var t=0;$("li",v).each(function(){t+=$(this).outerWidth()}),v.width(t+5)}function a(){var t=g.width(),e=0;$("li",v).each(function(){var n=$(this),i=$("img",n),r=e+=n.width();position=v.position().left+r-n.width(),position>=0&&position<t&&i.prop("src",i.data("src"))})}function l(){g.scrollStop(function(){a()})}function u(){var t=g.width()/2,e=($(".active",v).position()||$("li",v).first().position()).left,n=$(".active",v).width()/2;g.scrollLeft(e-t+n)}function c(){p(),h(),$(".panel-heading",f).append(g.append(v))}function h(){$("li",v).each(function(){var t=$(this);$("img",t).attr("data-src")==i()&&t.addClass("active")})}function d(t){t.text("Change"==t.text()?"Cancel":"Change")}function p(){$.each(t,function(e){var n=$('<li><a href="javascript:;"><img data-full-image="'+t[e].full+'" data-src="'+t[e].thumb+'" /></a></li>');n.on("click",function(){var t=$("img",$(this)).attr("src");$("li",v).removeClass("active"),$(this).addClass("active"),$(".pic.thumbnail img",f).attr("src",t),$("[data-item-grid-thumbnail]",f).attr("value",t),$("[data-item-grid-full-image]",f).attr("value",$("img",$(this)).data("full-image")),$("[data-panel-image-pagination] [data-current-image]",f).text(r(i())),u()}),$("img",n).on("load",function(){s()}),v.append(n)})}var f,m=$(" <a href='javascript:;'>Change</a>"),g=$("<div class='thumbs-list' style='display:none'></div>"),v=$("<ul></ul>"),y=$.map(t,function(t){return t.thumb});return e(this)}}(jQuery),jQuery.fn.scrollStop=function(t){$(this).scroll(function(){var e=this,n=$(e);n.data("scrollTimeout")&&clearTimeout(n.data("scrollTimeout")),n.data("scrollTimeout",setTimeout(t,250,e))})},Spotlight.onLoad(function(){SirTrevor.setDefaults({uploadUrl:$("[data-attachment-endpoint]").data("attachment-endpoint")});var t=$(".js-st-instance").first();if(t.length){var e=new SirTrevor.Editor({el:t,onEditorRender:function(){serializeObservedForms(observedForms())},blockTypeLimits:{SearchResults:1,Tweet:-1}});new Spotlight.BlockLimits(e).enforceLimits()}$(".carousel").carousel()}),Spotlight.onLoad(function(){$("input[type='checkbox'][data-readonly]").on("click",function(t){t.preventDefault()})}),Spotlight.onLoad(function(){$('[data-behavior="reindex-monitor"]').reindexMonitor()}),function(t){t.fn.reindexMonitor=function(){function e(e){t.ajax(e).success(n).fail(i)}function n(t){t.in_progress?(u().show(),r(t)):u().hide()}function i(){u().hide()}function r(t){c().text(t.started),h().text(t.updated_at),p().text(t.completed),a(t),s(t),o(t)}function o(t){var e=l(t);f().attr("aria-valuemax",t.total).attr("aria-valuenow",e).css("width",e+"%").text(e+"%")}function s(t){t.errored?m().show():m().hide()}function a(e){d().each(function(){t(this).text(e.total)})}function l(t){return Math.floor(t.completed/t.total*100)}function u(){return g.find(".index-status")}function c(){return u().find('[data-behavior="monitor-start"]').find('[data-behavior="date"]')}function h(){return u().find('[data-behavior="monitor-current"]').find('[data-behavior="date"]')}function d(){return u().find('[data-behavior="total"]')}function p(){return u().find('[data-behavior="monitor-current"]').find('[data-behavior="completed"]')}function f(){return u().find(".progress-bar")}function m(){return u().find('[data-behavior="monitor-error"]')}var g,v=this,y=3e3;return t(v).each(function(){g=t(this);var n=g.data("monitorUrl"),i=g.data("refreshRate")||y;setInterval(function(){e(n)},i)}),this}}(jQuery),function(t){t.fn.reportProblem=function(e){function n(){target_val=o.attr("data-target"),target_val&&(s=t("#"+target_val),o.on("click",i),s.find('[data-behavior="cancel-link"]').on("click",r))}function i(t){t.preventDefault(),s.slideToggle("slow")}function r(t){t.preventDefault(),s.slideUp("fast")}var o,s;t.extend({},e);return this.each(function(){o=t(this),n()})}}(jQuery),Spotlight.onLoad(function(){$('[data-behavior="contact-link"]').reportProblem()}),/*!
 * typeahead.js 0.10.2
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */
!function(t){var e={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,u=e-(l-s);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,u)),o}},noop:function(){}},n="0.10.2",i=function(){function t(t){return t.split(/\s+/)}function e(t){return t.split(/\W+/)}function n(t){return function(e){return function(n){return t(n[e])}}}return{nonword:e,whitespace:t,obj:{nonword:n(e),whitespace:n(t)}}}(),r=function(){function t(t){this.maxSize=t||100,this.size=0,this.hash={},this.list=new n}function n(){this.head=this.tail=null}function i(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(t.prototype,{set:function(t,e){var n,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key]),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new i(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),o=function(){function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function n(){return(new Date).getTime()}function i(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(t){return JSON.parse(t)}var o,s;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(a){o=null}return s=o&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),r(o.getItem(this._prefix(t)))},set:function(t,r,s){return e.isNumber(s)?o.setItem(this._ttlKey(t),i(n()+s)):o.removeItem(this._ttlKey(t)),o.setItem(this._prefix(t),i(r))},remove:function(t){return o.removeItem(this._ttlKey(t)),o.removeItem(this._prefix(t)),this},clear:function(){var t,e,n=[],i=o.length;for(t=0;i>t;t++)(e=o.key(t)).match(this.keyMatcher)&&n.push(e.replace(this.keyMatcher,""));for(t=n.length;t--;)this.remove(n[t]);return this},isExpired:function(t){var i=r(o.getItem(this._ttlKey(t)));return e.isNumber(i)&&n()>i?!0:!1}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,s),t}(),s=function(){function n(e){e=e||{},this._send=e.transport?i(e.transport):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get}function i(n){return function(i,r){function o(t){e.defer(function(){a.resolve(t)})}function s(t){e.defer(function(){a.reject(t)})}var a=t.Deferred();return n(i,r,o,s),a}}var o=0,s={},a=6,l=new r(10);return n.setMaxPendingRequests=function(t){a=t},n.resetCache=function(){l=new r(10)},e.mixin(n.prototype,{_get:function(t,e,n){function i(e){n&&n(null,e),l.set(t,e)}function r(){n&&n(!0)}function u(){o--,delete s[t],h.onDeckRequestArgs&&(h._get.apply(h,h.onDeckRequestArgs),h.onDeckRequestArgs=null)}var c,h=this;(c=s[t])?c.done(i).fail(r):a>o?(o++,s[t]=this._send(t,e).done(i).fail(r).always(u)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(t,n,i){var r;return e.isFunction(n)&&(i=n,n={}),(r=l.get(t))?e.defer(function(){i&&i(null,r)}):this._get(t,n,i),!!r}}),n}(),a=function(){function n(e){e=e||{},e.datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){return{ids:[],children:{}}}function o(t){for(var e={},n=[],i=0;i<t.length;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){function n(t,e){return t-e}var i=0,r=0,o=[];for(t=t.sort(n),e=e.sort(n);i<t.length&&r<e.length;)t[i]<e[r]?i++:t[i]>e[r]?r++:(o.push(t[i]),i++,r++);return o}return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;o=n.datums.push(t)-1,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)e=e.children[s]||(e.children[s]=r()),e.ids.push(o)})})},get:function(t){var n,r,a=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=a.trie,n=t.split("");e&&(i=n.shift());)e=e.children[i];return e&&0===n.length?(o=e.ids.slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?e.map(o(r),function(t){return a.datums[t]}):[]},reset:function(){this.datums=[],this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){function i(t){return t.local||null}function r(i){var r,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=i.prefetch||null)&&(r=e.isString(r)?{url:r}:r,r=e.mixin(o,r),r.thumbprint=n+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&t.error("prefetch requires url to be set")),r}function o(n){function i(t){return function(n){return e.debounce(n,t)}}function r(t){return function(n){return e.throttle(n,t)}}var o,s;return s={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(o=n.remote||null)&&(o=e.isString(o)?{url:o}:o,o=e.mixin(s,o),o.rateLimiter=/^throttle$/i.test(o.rateLimitBy)?r(o.rateLimitWait):i(o.rateLimitWait),o.ajax.type=o.ajax.type||"GET",o.ajax.dataType=o.ajax.dataType||"json",delete o.rateLimitBy,delete o.rateLimitWait,!o.url&&t.error("remote requires url to be set")),o}return{local:i,prefetch:r,remote:o}}();!function(n){function r(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=u(e.sorter),this.dupDetector=e.dupDetector||c,this.local=l.local(e),this.prefetch=l.prefetch(e),this.remote=l.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new o(this.cacheKey):null}function u(t){function n(e){return e.sort(t)}function i(t){return t}return e.isFunction(t)?n:i}function c(){return!1}var h,d;return h=n.Bloodhound,d={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=r,r.noConflict=function(){return n.Bloodhound=h,r},r.tokenizers=i,e.mixin(r.prototype,{_loadPrefetch:function(e){function n(t){o.clear(),o.add(e.filter?e.filter(t):t),o._saveToStorage(o.index.serialize(),e.thumbprint,e.ttl)}var i,r,o=this;return(i=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(i),r=t.Deferred().resolve()):r=t.ajax(e.url,e.ajax).done(n),r},_getFromRemote:function(t,e){function n(t,n){e(t?[]:o.remote.filter?o.remote.filter(n):n)}var i,r,o=this;return t=t||"",r=encodeURIComponent(t),i=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(i,this.remote.ajax,n)},_saveToStorage:function(t,e,n){this.storage&&(this.storage.set(d.data,t,n),this.storage.set(d.protocol,location.protocol,n),this.storage.set(d.thumbprint,e,n))},_readFromStorage:function(t){var e,n={};return this.storage&&(n.data=this.storage.get(d.data),n.protocol=this.storage.get(d.protocol),n.thumbprint=this.storage.get(d.thumbprint)),e=n.thumbprint!==t||n.protocol!==location.protocol,n.data&&!e?n.data:null},_initialize:function(){function n(){r.add(e.isFunction(o)?o():o)}var i,r=this,o=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),o&&i.done(n),this.transport=this.remote?new s(this.remote):null,this.initPromise=i.promise()},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){this.index.add(t)},get:function(t,n){function i(t){var i=o.slice(0);e.each(t,function(t){var n;return n=e.some(i,function(e){return r.dupDetector(t,e)}),!n&&i.push(t),i.length<r.limit}),n&&n(r.sorter(i))}var r=this,o=[],s=!1;o=this.index.get(t),o=this.sorter(o).slice(0,this.limit),o.length<this.limit&&this.transport&&(s=this._getFromRemote(t,i)),s||(o.length>0||!this.transport)&&n&&n(o)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&s.resetCache()},ttAdapter:function(){return e.bind(this.get,this)}}),r}(this);var u={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},c={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};e.isMsie()&&e.mixin(c.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(c.input,{marginTop:"-1px"});var h=function(){function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i="typeahead:";return e.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),n}(),d=function(){function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?a(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,s;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=o(n.sync,this,[e].concat(i)),s=o(n.async,this,[e].concat(i)),r()&&u(s);return this}function o(t,e,n){function i(){for(var i,r=0;!i&&r<t.length;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function s(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,u=s();return{onSync:n,onAsync:e,off:i,trigger:r}}(),p=function(t){function n(t,n,i){for(var r,o=[],s=0;s<t.length;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var n,i;return(n=a.exec(e.data))&&(wrapperNode=t.createElement(r.tagName),r.className&&(wrapperNode.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),wrapperNode.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(wrapperNode,i)),!!n}function s(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:s(n,e)}var a;r=e.mixin({},i,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],a=n(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),f=function(){function n(n){var r,o,a,l,u=this;n=n||{},n.input||t.error("input is missing"),r=e.bind(this._onBlur,this),o=e.bind(this._onFocus,this),a=e.bind(this._onKeydown,this),l=e.bind(this._onInput,this),this.$hint=t(n.hint),this.$input=t(n.input).on("blur.tt",r).on("focus.tt",o).on("keydown.tt",a),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||e.defer(e.bind(u._onInput,u,t))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,d,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,r;switch(t){case"tab":i=this.getHint(),r=this.getInputValue(),n=i&&i!==r&&!o(e);break;case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n;t=this.getInputValue(),e=r(t,this.query),n=e?this.query.length!==t.length:!1,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=t)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),m=function(){function n(n){n=n||{},n.templates=n.templates||{},n.source||t.error("missing source"),n.name&&!o(n.name)&&t.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||e.getUniqueId(),this.source=n.source,this.displayFn=i(n.display||n.displayKey),this.templates=r(n.templates,this.displayFn),this.$el=t(u.dataset.replace("%CLASS%",this.name))}function i(t){function n(e){return e[t]}return t=t||"value",e.isFunction(t)?t:n}function r(t,n){function i(t){return"<p>"+n(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||i}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var s="ttDataset",a="ttValue",l="ttDatum";return n.extractDatasetName=function(e){return t(e).data(s)},n.extractValue=function(e){return t(e).data(a)},n.extractDatum=function(e){return t(e).data(l)},e.mixin(n.prototype,d,{_render:function(n,i){function r(){return m.templates.empty({query:n,isEmpty:!0})}function o(){function r(e){var n;return n=t(u.suggestion).append(m.templates.suggestion(e)).data(s,m.name).data(a,m.displayFn(e)).data(l,e),n.children().each(function(){t(this).css(c.suggestionChild)}),n}var o,h;return o=t(u.suggestions).css(c.suggestions),h=e.map(i,r),o.append.apply(o,h),m.highlight&&p({node:o[0],pattern:n}),o}function h(){return m.templates.header({query:n,isEmpty:!f})}function d(){return m.templates.footer({query:n,isEmpty:!f})}if(this.$el){var f,m=this;this.$el.empty(),f=i&&i.length,!f&&this.templates.empty?this.$el.html(r()).prepend(m.templates.header?h():null).append(m.templates.footer?d():null):f&&this.$el.html(o()).prepend(m.templates.header?h():null).append(m.templates.footer?d():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){n.canceled||t!==n.query||n._render(t,e)}var n=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),g=function(){function n(n){var r,o,s,a=this;n=n||{},n.menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(n.datasets,i),r=e.bind(this._onSuggestionClick,this),o=e.bind(this._onSuggestionMouseEnter,this),s=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(n.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",s),e.each(this.datasets,function(t){a.$menu.append(t.getRoot()),t.onSync("rendered",a._onRendered,a)})}function i(t){return new m(t)}return e.mixin(n.prototype,d,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,i,r;if(this.isOpen){if(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),i=e.index(n)+t,i=(i+1)%(e.length+1)-1,-1===i)return void this.trigger("cursorRemoved");-1>i&&(i=e.length-1),this._setCursor(r=e.eq(i)),this._ensureVisible(r)}},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(i+e):n>r&&this.$menu.scrollTop(i+(n-r))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?c.ltr:c.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:m.extractDatum(t),value:m.extractValue(t),datasetName:m.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function n(e){e.update(t)}e.each(this.datasets,n)},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),n}(),v=function(){function n(n){var r,o,s;n=n||{},n.input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.$node=i(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),s=this.$node.find(".tt-hint"),o.on("blur.tt",function(t){var n,i,s;n=document.activeElement,i=r.is(n),s=r.has(n).length>0,e.isMsie()&&(i||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=n.eventBus||new h({el:o}),this.dropdown=new g({menu:r,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new f({input:o,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(e,n){var i,o,a,l;i=t(e),o=t(u.wrapper).css(c.wrapper),a=t(u.dropdown).css(c.dropdown),l=i.clone().css(c.hint).css(r(i)),l.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),i.data(s,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?c.input:c.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(h){}return i.wrap(o).parent().prepend(n?l:null).append(a)}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function o(t){var n=t.find(".tt-input");e.each(n.data(s),function(t,i){e.isUndefined(t)?n.removeAttr(i):n.attr(i,t)}),n.detach().removeData(s).removeClass("tt-input").insertAfter(t),t.remove()}var s="ttAttrs";return e.mixin(n.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,n,i,r,o,s;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=f.normalizeQuery(n),r=e.escapeRegExChars(i),o=new RegExp("^(?:"+r+")(.+$)","i"),s=o.exec(t.value),s?this.input.setHint(n+s[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,i,r;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&(r=this.dropdown.getDatumForTopSuggestion(),r&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),n}();!function(){var n,i,r;n=t.fn.typeahead,i="ttTypeahead",r={initialize:function(n,r){function o(){var o,s,a=t(this);e.each(r,function(t){t.highlight=!!n.highlight}),s=new v({input:a,eventBus:o=new h({el:a}),withHint:e.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:r}),a.data(i,s)}return r=e.isArray(r)?r:[].slice.call(arguments,1),n=n||{},this.each(o)},open:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.open()}return this.each(e)},close:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.close()}return this.each(e)},val:function(e){function n(){var n,r=t(this);(n=r.data(i))&&n.setVal(e)}function r(t){var e,n;return(e=t.data(i))&&(n=e.getVal()),n}return arguments.length?this.each(n):r(this.first())},destroy:function(){function e(){var e,n=t(this);(e=n.data(i))&&(e.destroy(),n.removeData(i))}return this.each(e)}},t.fn.typeahead=function(t){return r[t]?r[t].apply(this,[].slice.call(arguments,1)):r.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this}}()}(window.jQuery);/*!

 handlebars v1.3.0

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}var e;return t.prototype.toString=function(){return""+this.string},e=t}(),e=function(t){"use strict";function e(t){return a[t]||"&amp;"}function n(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function i(t){return t instanceof s?t.toString():t||0===t?(t=""+t,u.test(t)?t.replace(l,e):t):""}function r(t){return t||0===t?d(t)&&0===t.length?!0:!1:!0}var o={},s=t,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,u=/[&<>"'`]/;o.extend=n;var c=Object.prototype.toString;o.toString=c;var h=function(t){return"function"==typeof t};h(/x/)&&(h=function(t){return"function"==typeof t&&"[object Function]"===c.call(t)});var h;o.isFunction=h;var d=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===c.call(t):!1};return o.isArray=d,o.escapeExpression=i,o.isEmpty=r,o}(t),n=function(){"use strict";function t(t,e){var i;e&&e.firstLine&&(i=e.firstLine,t+=" - "+i+":"+e.firstColumn);for(var r=Error.prototype.constructor.call(this,t),o=0;o<n.length;o++)this[n[o]]=r[n[o]];i&&(this.lineNumber=i,this.column=e.firstColumn)}var e,n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,e=t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(t){if(2===arguments.length)return void 0;throw new a("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},r=n.fn;return d(e)&&(e=e.call(this)),e===!0?r(this):e===!1||null==e?i(this):h(e)?e.length>0?t.helpers.each(e,n):i(this):r(e)}),t.registerHelper("each",function(t,e){var n,i=e.fn,r=e.inverse,o=0,s="";if(d(t)&&(t=t.call(this)),e.data&&(n=g(e.data)),t&&"object"==typeof t)if(h(t))for(var a=t.length;a>o;o++)n&&(n.index=o,n.first=0===o,n.last=o===t.length-1),s+=i(t[o],{data:n});else for(var l in t)t.hasOwnProperty(l)&&(n&&(n.key=l,n.index=o,n.first=0===o),s+=i(t[l],{data:n}),o++);return 0===o&&(s=r(this)),s}),t.registerHelper("if",function(t,e){return d(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||s.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){return d(t)&&(t=t.call(this)),s.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}function r(t,e){m.log(t,e)}var o={},s=t,a=e,l="1.3.0";o.VERSION=l;var u=4;o.COMPILER_REVISION=u;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};o.REVISION_CHANGES=c;var h=s.isArray,d=s.isFunction,p=s.toString,f="[object Object]";o.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:m,log:r,registerHelper:function(t,e,n){if(p.call(t)===f){if(n||e)throw new a("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){p.call(t)===f?s.extend(this.partials,t):this.partials[t]=e}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(m.level<=t){var n=m.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};o.logger=m,o.log=r;var g=function(t){var e={};return s.extend(e,t),e};return o.createFrame=g,o}(e,n),r=function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=d;if(e!==n){if(n>e){var i=p[n],r=p[e];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){if(!e)throw new h("No environment passed to template");var n=function(t,n,i,r,o,s){var a=e.VM.invokePartial.apply(this,arguments);if(null!=a)return a;if(e.compile){var l={helpers:r,partials:o,data:s};return o[n]=e.compile(t,{data:void 0!==s},e),o[n](i,l)}throw new h("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:c.escapeExpression,invokePartial:n,programs:[],program:function(t,e,n){var i=this.programs[t];return n?i=s(t,e,n):i||(i=this.programs[t]=s(t,e)),i},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n={},c.extend(n,e),c.extend(n,t)),n},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(n,r){r=r||{};var o,s,a=r.partial?r:e;r.partial||(o=r.helpers,s=r.partials);var l=t.call(i,a,n,o,s,r.data);return r.partial||e.VM.checkRevision(i.compilerInfo),l}}function o(t,e,n){var i=Array.prototype.slice.call(arguments,3),r=function(t,r){return r=r||{},e.apply(this,[t,r.data||n].concat(i))};return r.program=t,r.depth=i.length,r}function s(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i}function a(t,e,n,i,r,o){var s={partial:!0,helpers:i,partials:r,data:o};if(void 0===t)throw new h("The partial "+e+" could not be found");return t instanceof Function?t(n,s):void 0}function l(){return""}var u={},c=t,h=e,d=n.COMPILER_REVISION,p=n.REVISION_CHANGES;return u.checkRevision=i,u.template=r,u.programWithDepth=o,u.program=s,u.invokePartial=a,u.noop=l,u}(e,n,i),o=function(t,e,n,i,r){"use strict";var o,s=t,a=e,l=n,u=i,c=r,h=function(){var t=new s.HandlebarsEnvironment;return u.extend(t,s),t.SafeString=a,t.Exception=l,t.Utils=u,t.VM=c,t.template=function(e){return c.template(e,t)},t},d=h();return d.create=h,o=d}(i,t,n,e,r),s=function(t){"use strict";function e(t){t=t||{},this.firstLine=t.first_line,this.firstColumn=t.first_column,this.lastColumn=t.last_column,this.lastLine=t.last_line}var n,i=t,r={ProgramNode:function(t,n,i,o){var s,a;3===arguments.length?(o=i,i=null):2===arguments.length&&(o=n,n=null),e.call(this,o),this.type="program",this.statements=t,this.strip={},i?(a=i[0],a?(s={first_line:a.firstLine,last_line:a.lastLine,last_column:a.lastColumn,first_column:a.firstColumn},this.inverse=new r.ProgramNode(i,n,s)):this.inverse=new r.ProgramNode(i,n),this.strip.right=n.left):n&&(this.strip.left=n.right)},MustacheNode:function(t,n,i,o,s){if(e.call(this,s),this.type="mustache",this.strip=o,null!=i&&i.charAt){var a=i.charAt(3)||i.charAt(2);this.escaped="{"!==a&&"&"!==a}else this.escaped=!!i;t instanceof r.SexprNode?this.sexpr=t:this.sexpr=new r.SexprNode(t,n),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(t,n,i){e.call(this,i),this.type="sexpr",this.hash=n;var r=this.id=t[0],o=this.params=t.slice(1),s=this.eligibleHelper=r.isSimple;this.isHelper=s&&(o.length||n)},PartialNode:function(t,n,i,r){e.call(this,r),this.type="partial",this.partialName=t,this.context=n,this.strip=i},BlockNode:function(t,n,r,o,s){if(e.call(this,s),t.sexpr.id.original!==o.path.original)throw new i(t.sexpr.id.original+" doesn't match "+o.path.original,this);this.type="block",this.mustache=t,this.program=n,this.inverse=r,this.strip={left:t.strip.left,right:o.strip.right},(n||r).strip.left=t.strip.right,(r||n).strip.right=o.strip.left,r&&!n&&(this.isInverse=!0)},ContentNode:function(t,n){e.call(this,n),this.type="content",this.string=t},HashNode:function(t,n){e.call(this,n),this.type="hash",this.pairs=t},IdNode:function(t,n){e.call(this,n),this.type="ID";for(var r="",o=[],s=0,a=0,l=t.length;l>a;a++){var u=t[a].part;if(r+=(t[a].separator||"")+u,".."===u||"."===u||"this"===u){if(o.length>0)throw new i("Invalid path: "+r,this);".."===u?s++:this.isScoped=!0}else o.push(u)}this.original=r,this.parts=o,this.string=o.join("."),this.depth=s,this.isSimple=1===t.length&&!this.isScoped&&0===s,this.stringModeValue=this.string},PartialNameNode:function(t,n){e.call(this,n),this.type="PARTIAL_NAME",this.name=t.original},DataNode:function(t,n){e.call(this,n),this.type="DATA",this.id=t},StringNode:function(t,n){e.call(this,n),this.type="STRING",this.original=this.string=this.stringModeValue=t},IntegerNode:function(t,n){e.call(this,n),this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},BooleanNode:function(t,n){e.call(this,n),this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},CommentNode:function(t,n){e.call(this,n),this.type="comment",this.comment=t}};return n=r}(n),a=function(){"use strict";var t,e=function(){function t(t,e){return{left:"~"===t.charAt(2),right:"~"===e.charAt(0)||"~"===e.charAt(1)}}function e(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(e,n,i,r,o,s,a){var l=s.length-1;switch(o){case 1:return new r.ProgramNode(s[l-1],this._$);case 2:return new r.ProgramNode([],this._$);case 3:this.$=new r.ProgramNode([],s[l-1],s[l],this._$);break;case 4:this.$=new r.ProgramNode(s[l-2],s[l-1],s[l],this._$);break;case 5:this.$=new r.ProgramNode(s[l-1],s[l],[],this._$);break;case 6:this.$=new r.ProgramNode(s[l],this._$);break;case 7:this.$=new r.ProgramNode([],this._$);break;case 8:this.$=new r.ProgramNode([],this._$);break;case 9:this.$=[s[l]];break;case 10:s[l-1].push(s[l]),this.$=s[l-1];break;case 11:this.$=new r.BlockNode(s[l-2],s[l-1].inverse,s[l-1],s[l],this._$);break;case 12:this.$=new r.BlockNode(s[l-2],s[l-1],s[l-1].inverse,s[l],this._$);break;case 13:this.$=s[l];break;case 14:this.$=s[l];break;case 15:this.$=new r.ContentNode(s[l],this._$);break;case 16:this.$=new r.CommentNode(s[l],this._$);break;case 17:this.$=new r.MustacheNode(s[l-1],null,s[l-2],t(s[l-2],s[l]),this._$);break;case 18:this.$=new r.MustacheNode(s[l-1],null,s[l-2],t(s[l-2],s[l]),this._$);break;case 19:this.$={path:s[l-1],strip:t(s[l-2],s[l])};break;case 20:this.$=new r.MustacheNode(s[l-1],null,s[l-2],t(s[l-2],s[l]),this._$);break;case 21:this.$=new r.MustacheNode(s[l-1],null,s[l-2],t(s[l-2],s[l]),this._$);break;case 22:this.$=new r.PartialNode(s[l-2],s[l-1],t(s[l-3],s[l]),this._$);break;case 23:this.$=t(s[l-1],s[l]);break;case 24:this.$=new r.SexprNode([s[l-2]].concat(s[l-1]),s[l],this._$);break;case 25:this.$=new r.SexprNode([s[l]],null,this._$);break;case 26:this.$=s[l];break;case 27:this.$=new r.StringNode(s[l],this._$);break;case 28:this.$=new r.IntegerNode(s[l],this._$);break;case 29:this.$=new r.BooleanNode(s[l],this._$);break;case 30:this.$=s[l];break;case 31:s[l-1].isHelper=!0,this.$=s[l-1];break;case 32:this.$=new r.HashNode(s[l],this._$);break;case 33:this.$=[s[l-2],s[l]];break;case 34:this.$=new r.PartialNameNode(s[l],this._$);break;case 35:this.$=new r.PartialNameNode(new r.StringNode(s[l],this._$),this._$);break;case 36:this.$=new r.PartialNameNode(new r.IntegerNode(s[l],this._$));break;case 37:this.$=new r.DataNode(s[l],this._$);break;case 38:this.$=new r.IdNode(s[l],this._$);break;case 39:s[l-2].push({part:s[l],separator:s[l-1]}),this.$=s[l-2];break;case 40:this.$=[{part:s[l]}];break;case 43:this.$=[];break;case 44:s[l-1].push(s[l]);break;case 47:this.$=[s[l]];break;case 48:s[l-1].push(s[l])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return t=n.lexer.lex()||1,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,i=[0],r=[null],o=[],s=this.table,a="",l=0,u=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;o.push(h);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,v,y,b,w,_,x={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===p||"undefined"==typeof p)&&(p=e()),g=s[m]&&s[m][p]),"undefined"==typeof g||!g.length||!g[0]){var k="";if(!c){_=[];for(y in s[m])this.terminals_[y]&&y>2&&_.push("'"+this.terminals_[y]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:h,expected:_})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:i.push(p),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(g[1]),p=null,f?(p=f,f=null):(u=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[g[1]][1],x.$=r[r.length-b],x._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},d&&(x._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(x,a,u,l,this.yy,g[1],r,o),"undefined"!=typeof v)return v;b&&(i=i.slice(0,-1*b*2),r=r.slice(0,-1*b),o=o.slice(0,-1*b)),i.push(this.productions_[g[1]][0]),r.push(x.$),o.push(x._$),w=s[i[i.length-2]][i[i.length-1]],i.push(w);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(n=this._input.match(this.rules[o[s]]),!n||e&&!(n[0].length>e[0].length)||(e=n,i=s,this.options.flex));s++);return e?(r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return r(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return r(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return e.yytext=r(1,2).replace(/\\"/g,'"'),32;case 24:return e.yytext=r(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return e.yytext=r(1,2),40;case 31:return"INVALID";case 32:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},t}();return n.lexer=i,e.prototype=n,n.Parser=e,new e}();return t=e}(),l=function(t,e){"use strict";function n(t){return t.constructor===o.ProgramNode?t:(r.yy=o,r.parse(t))}var i={},r=t,o=e;return i.parser=r,i.parse=n,i}(a,s),u=function(t){"use strict";function e(){}function n(t,e,n){if(null==t||"string"!=typeof t&&t.constructor!==n.AST.ProgramNode)throw new o("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var i=n.parse(t),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)}function i(t,e,n){function i(){var i=n.parse(t),r=(new n.Compiler).compile(i,e),o=(new n.JavaScriptCompiler).compile(r,e,void 0,!0);return n.template(o)}if(null==t||"string"!=typeof t&&t.constructor!==n.AST.ProgramNode)throw new o("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var r;return function(t,e){return r||(r=i()),r.call(this,t,e)}}var r={},o=t;return r.Compiler=e,e.prototype={compiler:e,disassemble:function(){for(var t,e,n,i=this.opcodes,r=[],o=0,s=i.length;s>o;o++)if(t=i[o],"DECLARE"===t.opcode)r.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;a<t.args.length;a++)n=t.args[a],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),e.push(n);r.push(t.opcode+" "+e.join(" "))}return r.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;e>n;n++){var i=this.opcodes[n],r=t.opcodes[n];if(i.opcode!==r.opcode||i.args.length!==r.args.length)return!1;for(var o=0;o<i.args.length;o++)if(i.args[o]!==r.args[o])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(n=0;e>n;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(t)},accept:function(t){var e,n=t.strip||{};return n.left&&this.opcode("strip"),e=this[t.type](t),n.right&&this.opcode("strip"),e},program:function(t){for(var e=t.statements,n=0,i=e.length;i>n;n++)this.accept(e[n]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,n=(new this.compiler).compile(t,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,o=n.depths.list.length;o>r;r++)e=n.depths.list[r],2>e||this.addDepth(e-1);return i},block:function(t){var e=t.mustache,n=t.program,i=t.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=e.sexpr,o=this.classifySexpr(r);"helper"===o?this.helperSexpr(r,n,i):"simple"===o?(this.simpleSexpr(r),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(r,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,n,i=t.pairs;this.opcode("pushHash");for(var r=0,o=i.length;o>r;r++)e=i[r],n=e[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),"sexpr"===n.type&&this.sexpr(n)):this.accept(n),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){this.sexpr(t.sexpr),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(t,e,n){var i=t.id,r=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new o("You specified knownHelpersOnly, but used the unknown helper "+r,t);this.opcode("invokeHelper",i.length,r,t.isRoot)}},sexpr:function(t){var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var n=1,i=t.parts.length;i>n;n++)this.opcode("lookup",t.parts[n])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new o("Scoped data references are not supported: "+t.original,t);this.opcode("lookupData");for(var e=t.id.parts,n=0,i=e.length;i>n;n++)this.opcode("lookup",e[n])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifySexpr:function(t){var e=t.isHelper,n=t.eligibleHelper,i=this.options;if(n&&!e){var r=t.id.parts[0];i.knownHelpers[r]?e=!0:i.knownHelpersOnly&&(n=!1)}return e?"helper":n?"ambiguous":"simple"},pushParams:function(t){for(var e,n=t.length;n--;)e=t[n],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type),"sexpr"===e.type&&this.sexpr(e)):this[e.type](e)},setupFullMustacheParams:function(t,e,n){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.hash(t.hash):this.opcode("emptyHash"),i}},r.precompile=n,r.compile=i,r}(n),c=function(t,e){"use strict";function n(t){this.value=t}function i(){}var r,o=t.COMPILER_REVISION,s=t.REVISION_CHANGES,a=t.log,l=e;i.prototype={nameLookup:function(t,e){var n,r;return 0===t.indexOf("depth")&&(n=!0),r=/^[0-9]+$/.test(e)?t+"["+e+"]":i.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",n?"("+t+" && "+r+")":r},compilerInfo:function(){var t=o,e=s[t];return"this.compilerInfo = ["+t+",'"+e+"'];\n"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,n,i){this.environment=t,this.options=e||{},a("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var r,o=t.opcodes;this.i=0;for(var s=o.length;this.i<s;this.i++)r=o[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args),r.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(i)},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,n="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(n+=" data = data || {};"),t.push(n)}this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer()),
this.lastContext=0,this.source=t},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(e.length>0&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,o=this.environment.depths.list.length;o>r;r++)i.push("depth"+this.environment.depths.list[r]);var s=this.mergeSource();if(this.isChild||(s=this.compilerInfo()+s),t)return i.push(s),Function.apply(this,i);var l="function "+(this.name||"")+"("+i.join(",")+") {\n  "+s+"}";return a("debug",l+"\n\n"),l},mergeSource:function(){for(var t,e="",n=0,i=this.source.length;i>n;n++){var r=this.source[n];r.appendToBuffer?t=t?t+"\n    + "+r.content:r.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=r+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"sexpr"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+t.contexts.join(",")+"}"),this.push("{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e,n){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var i=this.lastHelper=this.setupHelper(t,e,!0),r=this.nameLookup("depth"+this.lastContext,e,"context"),o="helper = "+i.name+" || "+r;i.paramsInit&&(o+=","+i.paramsInit),this.push("("+o+",helper ? helper.call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+"))"),n||this.flushInline()},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var n=this.setupHelper(0,t,e),i=this.lastHelper=this.nameLookup("helpers",t,"helper"),r=this.nameLookup("depth"+this.lastContext,t,"context"),o=this.nextStack();n.paramsInit&&this.pushSource(n.paramsInit),this.pushSource("if (helper = "+i+") { "+o+" = helper.call("+n.callParams+"); }"),this.pushSource("else { helper = "+r+"; "+o+" = typeof helper === functionType ? helper.call("+n.callParams+") : helper; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),e=this.popStack());var r=this.hash;e&&r.contexts.push("'"+t+"': "+e),n&&r.types.push("'"+t+"': "+n),r.values.push("'"+t+"': ("+i+")")},compiler:i,compileChildren:function(t,e){for(var n,i,r=t.children,o=0,s=r.length;s>o;o++){n=r[o],i=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,e,this.context),this.context.environments[a]=n):(n.index=a,n.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;n>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,n=this.environment.children[t],i=n.depths.list,r=[n.index,n.name,"data"],o=0,s=i.length;s>o;o++)e=i[o],1===e?r.push("depth0"):r.push("depth"+(e-1));return(0===i.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,i,r,o="",s=this.isInline();if(s){var a=this.popStack(!0);if(a instanceof n)e=a.value,r=!0;else{i=!this.stackSlot;var l=i?this.incrStack():this.topStackName();o="("+this.push(l)+" = "+a+"),",e=this.topStack()}}else e=this.topStack();var u=t.call(this,e);return s?(r||this.popStack(),i&&this.stackSlot--,this.push("("+o+u+")")):(/^stack/.test(e)||(e=this.nextStack()),this.pushSource(e+" = ("+o+u+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var r=t[e];r instanceof n?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return i},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,i=e[e.length-1];return!t&&i instanceof n?i.value:i},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,n){var i=[],r=this.setupParams(t,i,n),o=this.nameLookup("helpers",e,"helper");return{params:i,paramsInit:r,name:o,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(e)].concat(i).join(", ")}},setupOptions:function(t,e){var n,i,r,o=[],s=[],a=[];o.push("hash:"+this.popStack()),this.options.stringParams&&(o.push("hashTypes:"+this.popStack()),o.push("hashContexts:"+this.popStack())),i=this.popStack(),r=this.popStack(),(r||i)&&(r||(this.context.aliases.self="this",r="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),o.push("inverse:"+i),o.push("fn:"+r));for(var l=0;t>l;l++)n=this.popStack(),e.push(n),this.options.stringParams&&(a.push(this.popStack()),s.push(this.popStack()));return this.options.stringParams&&(o.push("contexts:["+s.join(",")+"]"),o.push("types:["+a.join(",")+"]")),this.options.data&&o.push("data:data"),o},setupParams:function(t,e,n){var i="{"+this.setupOptions(t,e).join(",")+"}";return n?(this.useRegister("options"),e.push("options"),"options="+i):(e.push(i),"")}};for(var u="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),c=i.RESERVED_WORDS={},h=0,d=u.length;d>h;h++)c[u[h]]=!0;return i.isValidJavaScriptVariableName=function(t){return!i.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)?!0:!1},r=i}(i,n),h=function(t,e,n,i,r){"use strict";var o,s=t,a=e,l=n.parser,u=n.parse,c=i.Compiler,h=i.compile,d=i.precompile,p=r,f=s.create,m=function(){var t=f();return t.compile=function(e,n){return h(e,n,t)},t.precompile=function(e,n){return d(e,n,t)},t.AST=a,t.Compiler=c,t.JavaScriptCompiler=p,t.Parser=l,t.parse=u,t};return s=m(),s.create=m,o=s}(o,s,l,u,c);return h}();!function(t){t.fn.spotlightSearchTypeAhead=function(e){function n(n,i){var i=t.extend({displayKey:"title",minLength:0,highlight:n.data("autocomplete-highlight")||!0,hint:n.data("autocomplete-hint")||!1,autoselect:n.data("autocomplete-autoselect")||!0},e);n.typeahead(i,{displayKey:i.displayKey,source:i.bloodhound.ttAdapter(),templates:{suggestion:Handlebars.compile(i.template)}})}return t.each(this,function(){n(t(this))}),this}}(jQuery),Spotlight.onLoad(function(){addAutocompletetoFeaturedImage(),addAutocompletetoMastheadUpload()}),Spotlight.onLoad(function(){$("[data-input-select-target]").selectRelatedInput()}),function(t){t.fn.selectRelatedInput=function(){var e=this;return t(e).each(function(){var e,n=t(t(this).data("input-select-target"));e=t(this).is("select")?"change":"click",t(this).on(e,function(){n.is(":checkbox")||n.is(":radio")?n.prop("checked",!0):n.focus()})}),this}}(jQuery),function(t){SirTrevor.BlockControl.prototype.render=function(){return this.$el.html('<span class="st-icon st-icon-'+_.result(this.block_type,"type")+'">'+_.result(this.block_type,"icon_name")+"</span>"+_.result(this.block_type,"title")),this}}(jQuery),Spotlight.BlockLimits=function(t){this.editor=t},Spotlight.BlockLimits.prototype.enforceLimits=function(){this.addEditorCallbacks(),this.checkGlobalBlockTypeLimit()()},Spotlight.BlockLimits.prototype.addEditorCallbacks=function(){SirTrevor.EventBus.on("block:create:new",this.checkBlockTypeLimitOnAdd()),SirTrevor.EventBus.on("block:remove",this.checkGlobalBlockTypeLimit())},Spotlight.BlockLimits.prototype.checkBlockTypeLimitOnAdd=function(){var t=this.editor;return function(e){var n=t.$outer.find("a[data-type='"+e.blockCSSClass()+"']");n.toggleClass("disabled",!t.block_manager.canAddBlockType(e["class"]()))}},Spotlight.BlockLimits.prototype.checkGlobalBlockTypeLimit=function(){var t=this.editor;return function(){$.each(t.block_manager.blockTypes,function(e){var n=SirTrevor.Blocks[e].prototype,i=t.$outer.find(".st-block-control[data-type='"+n.type+"']");t.block_manager._getBlockTypeLimit(e)<0?i.remove():i.toggleClass("disabled",!t.block_manager.canAddBlockType(e))})}},SirTrevor.BlockControls.prototype.initialize=function(){var t={};for(var e in this.available_types)if(SirTrevor.Blocks.hasOwnProperty(e)){var n=new SirTrevor.BlockControl(e,this.instance_scope);if(n.can_be_rendered){var i;i=$.isFunction(SirTrevor.Blocks[e].prototype.blockGroup)?SirTrevor.Blocks[e].prototype.blockGroup():SirTrevor.Blocks[e].prototype.blockGroup,t[i]=t[i]||[],t[i].push(n.render().$el)}}for(groupKey in t){var r=t[groupKey];("undefined"==groupKey||void 0===groupKey)&&(groupKey=i18n.t("blocks:group:undefined"));var o=$("<div class='st-controls-group'><div class='st-group-control-label'>"+groupKey+"</div></div>");$.each(r,function(){o.append($(this))}),this.$el.append(o)}this.$el.delegate(".st-block-control","click",this.handleControlButtonClick)},SirTrevor.Locales.en.blocks=$.extend(SirTrevor.Locales.en.blocks,{autocompleteable:{placeholder:"Enter a title..."},browse:{title:"Browse Categories",description:"This widget highlights browse categories. Each highlighted category links to the corresponding browse category results page.",item_counts:"Include item counts?"},iframe:{title:"IFrame",description:"This widget embeds iframe-based embed code into pages",placeholder:"Enter embed code here. It should begin with e.g. '<iframe'"},oembed:{title:"Embed + Text",description:"This widget embeds a web resource and a text block to the left or right of it.",url:"URL"},uploaded_items:{title:"Uploaded Item Row",description:"This widget displays uploaded items in a horizontal row. Optionally, you can add a heading and/or text to be displayed adjacent to the items."},featured_pages:{title:"Feature Pages",description:"This widget highlights feature pages. Each highlighted item links to the corresponding feature page."},previewable:{title:"Preview"},resources:{panel:{drag:"Drag",display:"Display?",remove:"Remove"}},rule:{title:"Horizontal Rule"},search_results:{title:"Search Results",description:"This widget displays a set of search results on a page. Specify a search result set by selecting an existing browse category. You can also select the view types that are available to the user when viewing the result set."},solr_documents:{title:"Item Row",description:"This widget displays exhibit items in a horizontal row. Optionally, you can add a heading and/or text to be displayed adjacent to the items.",caption:{placeholder:"Select...",primary:"Primary caption",secondary:"Secondary caption"}},solr_documents_carousel:{title:"Item Carousel",description:"This widget displays exhibit items in a carousel. You can configure the item captions, how the images are cycled, and the size of the carousel.",interval:{title:"Automatically cycle images",placeholder:"Select..."},height:{title:"Maximum carousel height"}},solr_documents_embed:{title:"Item Embed",description:"This widget embeds exhibit items on a page. Optionally, you can add a heading and/or text to be displayed adjacent to the items."},solr_documents_features:{title:"Item Slideshow",description:"This widget displays exhibit items in a static slideshow. The user will move between items in the slideshow using the field you select as the primary caption."},solr_documents_grid:{title:"Item Grid",description:"This widget displays exhibit items in a multi-row grid. Optionally, you can add a heading and/or text to be displayed adjacent to the items."},textable:{heading:"Heading",text:"Text",align:{title:"Display text on:",left:"Left",right:"Right"}},group:{undefined:"Standard widgets",items:"Exhibit item widgets"}}),function(t){var e=function(){function t(t){t.on("change",function(t){var r=$(t.currentTarget),o=$(this).nestable("serialize"),s=0;for(var a in o){var l=o[a].id;if(parent_node=e(l,r),n(parent_node,s++),o[a].children){var u=o[a].children;for(var c in u){var h=u[c].id;child_node=e(h,r),n(child_node,s++),i(child_node,l)}}else i(parent_node,"")}})}function e(t,e){return e.find("[data-id="+t+"]")}function n(t,e){r(t).val(e)}function i(t,e){o(t).val(e)}function r(t){return s(t,"weight")}function o(t){return s(t,"parent_page")}function s(t,e){return t.find("input[data-property="+e+"]")}var a='[data-behavior="nestable"]';return{init:function(e){$(e||a).each(function(){$(this).nestable($(this).data()),t($(this))})}}}();t.SpotlightNestable=e}(this),Spotlight.onLoad(function(){if($("[role=tabpanel]").length>0&&window.location.hash){var t=$(window.location.hash).closest("[role=tabpanel]");$("a[role=tab][href=#"+t.attr("id")+"]").tab("show")}}),function(t){t.fn.spotlight_users=function(e){function n(e){e.preventDefault(),t(this).closest("tr").hide(),id=t(this).attr("data-target"),edit_view=t("[data-edit-for='"+id+"']",u).show(),t.each(edit_view.find('input[type="text"], select'),function(){t(this).data("orig",t(this).val())})}function i(e){e.preventDefault(),id=t(this).closest("tr").attr("data-edit-for"),edit_view=t("[data-edit-for='"+id+"']",u).hide(),r(edit_view),o(edit_view),t("[data-show-for='"+id+"']",u).show()}function r(t){t.find(".has-error").removeClass("has-error").find(".help-block").remove()}function o(e){t.each(e.find('input[type="text"], select'),function(){t(this).val(t(this).data("orig")).trigger("change")})}function s(e){id=t(this).attr("data-target"),t("[data-destroy-for='"+id+"']",u).val("1")}function a(e){e.preventDefault(),edit_view=t("[data-edit-for='new']",u).show(),t.each(edit_view.find('input[type="text"], select'),function(){t(this).data("orig",t(this).val())})}function l(){edit_row=u.find(".has-error").closest("[data-edit-for]"),edit_row.show(),edit_row.next().show()}var u;t.extend({},e);return this.each(function(){u=t(this),t("[data-edit-for]",u).hide(),l(),t("[data-behavior='edit-user']",u).on("click",n),t("[data-behavior='cancel-edit']",u).on("click",i),t("[data-behavior='destroy-user']",u).on("click",s),t("[data-behavior='new-user']",u).on("click",a)})}}(jQuery),Spotlight.onLoad(function(){$(".edit_exhibit, .admin-users").spotlight_users()});